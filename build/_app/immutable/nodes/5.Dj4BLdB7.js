var ia=Object.defineProperty;var ca=(n,e,t)=>e in n?ia(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ft=(n,e,t)=>ca(n,typeof e!="symbol"?e+"":e,t);import{S as at,i as rt,s as ot,G as ua,x as gt,d as m,m as b,o as v,J as da,K as fa,L as ma,I as wt,b as y,e as E,f as D,j as w,u as It,aa as ga,y as kt,A as P,p as be,q as Ee,c as $,B as T,O as k,P as ve,h as A,C as O,k as S,D as M,Z as pt,n as ze,g as z,t as R,a as Y,r as ue,H as pa,M as yt,a4 as Ye,a7 as Ze,a8 as et,z as Xt,Y as Dt,l as mt,Q as Yt,X as $a}from"../chunks/D8ZBcRFv.js";import"../chunks/IHki7fMi.js";import{t as xt,g as _a,c as Ke,a as Z,B as Le,e as tt,u as ha,o as va,d as $t}from"../chunks/INiUvie6.js";import"../chunks/BM9Rxo7V.js";import{I as Zt,c as ba,s as Ea,b as ea,n as nt}from"../chunks/V03hm1sS.js";import{a as wa,E as Ia,T as ta,c as aa,d as ra,R as ka,e as Ne,f as oa,g as Fe,L as st,k as ya,A as Da,h as xa}from"../chunks/Rh-Jv65z.js";import{A as _t,a as Ca,C as ut,b as Aa,c as na}from"../chunks/D0WlwhS3.js";import{P as sa}from"../chunks/n0KSuBaQ.js";import{S as Sa}from"../chunks/D284B5Ly.js";import{S as Ct,T as Pa}from"../chunks/N0OUQu58.js";import{R as At}from"../chunks/DHdrbWbi.js";import{M as la}from"../chunks/D5Pksgt-.js";import{C as Ta}from"../chunks/DMViGFQh.js";import{F as ct}from"../chunks/CEMPKOvn.js";import{a as St}from"../chunks/5lP0jMhK.js";import{N as Ma}from"../chunks/B-HMMSHq.js";function Oa(n){let e,t,a;const r=n[5].default,o=ua(r,n,n[4],null);let s=[n[1],{class:t=xt(n[0],n[2].class)},{role:"group"}],l={};for(let i=0;i<s.length;i+=1)l=gt(l,s[i]);return{c(){e=w("div"),o&&o.c(),this.h()},l(i){e=E(i,"DIV",{class:!0,role:!0});var c=D(e);o&&o.l(c),c.forEach(m),this.h()},h(){wt(e,l)},m(i,c){y(i,e,c),o&&o.m(e,null),a=!0},p(i,[c]){o&&o.p&&(!a||c&16)&&da(o,r,i,i[4],a?ma(r,i[4],c,null):fa(i[4]),null),wt(e,l=_a(s,[c&2&&i[1],(!a||c&5&&t!==(t=xt(i[0],i[2].class)))&&{class:t},{role:"group"}]))},i(i){a||(v(o,i),a=!0)},o(i){b(o,i),a=!1},d(i){i&&m(e),o&&o.d(i)}}}function Va(n,e,t){const a=["size","divClass"];let r=It(e,a),{$$slots:o={},$$scope:s}=e,{size:l="md"}=e,{divClass:i="inline-flex rounded-lg shadow-xs"}=e;return ga("group",{size:l}),n.$$set=c=>{t(2,e=gt(gt({},e),kt(c))),t(1,r=It(e,a)),"size"in c&&t(3,l=c.size),"divClass"in c&&t(0,i=c.divClass),"$$scope"in c&&t(4,s=c.$$scope)},e=kt(e),[i,r,e,l,s,o]}class qa extends at{constructor(e){super(),rt(this,e,Va,Oa,ot,{size:3,divClass:0})}}class Na{constructor(){ft(this,"cache",new Map);ft(this,"CACHE_DURATION",5*60*1e3)}async getContratadas(e={}){const t=Ke("/contratadas",{ativo:e.ativo,page:e.page,limit:e.limit,sort:e.sort,order:e.order});return Z.get(t)}async getContratadaById(e){return Z.get(`/contratadas/${e}`)}async createContratada(e){return Z.post("/contratadas",e)}async updateContratada(e,t){return Z.put(`/contratadas/${e}`,t)}async deleteContratada(e){return Z.delete(`/contratadas/${e}`)}async getColaboradores(e={}){const t=Ke("/colaboradores",{contratadaId:e.contratadaId,ativo:e.ativo,includeRelations:e.includeRelations,page:e.page,limit:e.limit,sort:e.sort,order:e.order,search:e.search,...e.filters||{}});return Z.get(t)}async getColaboradoresByContratada(e,t={}){const a=Ke("/colaboradores",{contratadaId:e,ativo:t.ativo,includeRelations:t.includeRelations,page:t.page,limit:t.limit,sort:t.sort,order:t.order});return!t.page&&!t.limit?Z.get(a):(await Z.get(a)).data}async getColaboradorById(e,t=!1){const a=Ke(`/colaboradores/${e}`,{includeRelations:t});return Z.get(a)}async createColaborador(e){return Z.post("/colaboradores",e)}async updateColaborador(e,t){return Z.put(`/colaboradores/${e}`,t)}async deleteColaborador(e){return Z.delete(`/colaboradores/${e}`)}async getTiposEPI(e={}){try{const t=await Z.get("/tipos-epi",e),a=t.data.items||[];return{data:a,total:t.data.total||a.length,page:e.page||1,pageSize:e.limit||50,totalPages:Math.ceil((t.data.total||a.length)/(e.limit||50))}}catch(t){throw console.error("‚ùå Erro ao buscar tipos EPI:",t),t}}async getTiposEPIByCategoria(e,t={}){const a=Ke("/tipos-epi",{categoria:e,ativo:t.ativo,page:t.page,limit:t.limit,sort:t.sort,order:t.order});return!t.page&&!t.limit?Z.get(a):(await Z.get(a)).data}async getTipoEPIById(e){return Z.get(`/tipos-epi/${e}`)}async getTipoEPIByCA(e){try{const t=Ke("/tipos-epi/search",{numeroCA:e});return await Z.get(t)}catch{return null}}async createTipoEPI(e){return Z.post("/tipos-epi",e)}async updateTipoEPI(e,t){return Z.put(`/tipos-epi/${e}`,t)}async deleteTipoEPI(e){return Z.delete(`/tipos-epi/${e}`)}async getAlmoxarifados(e={}){try{const t=[{id:"1",nome:"Almoxarifado Central",localizacao:"Setor A - Galp√£o 1",ativo:!0,unidadeNegocioId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",nome:"Almoxarifado Secund√°rio",localizacao:"Setor B - Galp√£o 2",ativo:!0,unidadeNegocioId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",nome:"Almoxarifado Obras",localizacao:"Canteiro - Container 1",ativo:!0,unidadeNegocioId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];let a=t;return e.ativo!==void 0&&(a=t.filter(r=>r.ativo===e.ativo)),a}catch(t){throw console.error("‚ùå Erro ao buscar almoxarifados:",t),t}}async getAlmoxarifadoById(e){return Z.get(`/almoxarifados/${e}`)}async createAlmoxarifado(e){return Z.post("/almoxarifados",e)}async updateAlmoxarifado(e,t){return Z.put(`/almoxarifados/${e}`,t)}async deleteAlmoxarifado(e){return Z.delete(`/almoxarifados/${e}`)}async getContratadaWithColaboradores(e){const[t,a]=await Promise.all([this.getContratadaById(e),this.getColaboradoresByContratada(e,{ativo:!0})]);return{...t,colaboradores:a}}async getContratadasWithStats(){const e=await this.getContratadas({ativo:!0});return await Promise.all(e.map(async a=>{const r=await this.getColaboradoresByContratada(a.id),o=r.filter(s=>s.ativo);return{...a,totalColaboradores:r.length,colaboradoresAtivos:o.length}}))}async getTiposEPIMaisUtilizados(e=10){const t=Ke("/tipos-epi/mais-utilizados",{limit:e});return Z.get(t)}async getContratadasCached(){const e="contratadas_ativas",t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.CACHE_DURATION)return t.data;const a=await this.getContratadas({ativo:!0});return this.cache.set(e,{data:a,timestamp:Date.now()}),a}clearCache(){this.cache.clear()}}const Pt=new Na;class Fa{async getInventoryItems(e={}){var t,a,r,o,s,l,i,c;console.log("üö® ADAPTER CHAMADO: Buscando itens do invent√°rio:",e),console.log("üö® API_BASE_URL atual:","production");try{const g={page:e.page||1,pageSize:e.pageSize||20,...e.search&&{search:e.search},...e.status&&{status:e.status},...e.categoria&&{categoria:e.categoria},...e.includeExpanded&&{includeExpanded:!0}},f=Ke("/estoque/itens",g);console.log("üîó URL constru√≠da:",f);const u=await Z.get(f);console.log("üîç Resposta bruta do backend estoque:",u),console.log("üîç Estrutura dos dados:",{hasData:!!u.data,hasItems:!!((t=u.data)!=null&&t.items),itemsLength:(r=(a=u.data)==null?void 0:a.items)==null?void 0:r.length,firstItem:(s=(o=u.data)==null?void 0:o.items)==null?void 0:s[0],pagination:(l=u.data)==null?void 0:l.pagination});const d=((i=u.data)==null?void 0:i.items)||u.items||[];console.log("üîç Items encontrados no backend:",d.length);const p=d.map(x=>({...x,tipoEPI:x.tipoEpi?{...x.tipoEpi,numeroCA:x.tipoEpi.numeroCa||x.tipoEpi.numeroCA,nomeEquipamento:x.tipoEpi.nomeEquipamento||x.tipoEpi.nome,categoria:x.tipoEpi.categoriaEpi||x.tipoEpi.categoria}:void 0,status:(x.status||"DISPONIVEL").toLowerCase(),almoxarifado:x.almoxarifado})),_=((c=u.data)==null?void 0:c.pagination)||u.pagination||{},C={data:p,total:_.total||p.length,page:_.page||e.page||1,pageSize:_.limit||_.pageSize||e.pageSize||20,totalPages:_.totalPages||Math.ceil((_.total||p.length)/(_.limit||_.pageSize||e.pageSize||20))};return console.log("‚úÖ Itens do invent√°rio mapeados:",C),C}catch(g){return console.error("‚ùå Erro ao buscar itens do invent√°rio:",g),console.log("üîÑ Usando dados mockados para desenvolvimento"),{data:[{id:"1",tipoEPIId:"tipo-1",almoxarifadoId:"alm-1",quantidade:25,status:"disponivel",dataUltimaMovimentacao:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tipoEPI:{id:"tipo-1",nomeEquipamento:"Capacete de Seguran√ßa",numeroCA:"12345",categoria:"Prote√ß√£o da Cabe√ßa",ativo:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},almoxarifado:{id:"alm-1",nome:"Almoxarifado Principal",codigo:"ALMP001",ativo:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},{id:"2",tipoEPIId:"tipo-2",almoxarifadoId:"alm-1",quantidade:15,status:"baixo",dataUltimaMovimentacao:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tipoEPI:{id:"tipo-2",nomeEquipamento:"Luvas de Prote√ß√£o",numeroCA:"67890",categoria:"Prote√ß√£o das M√£os",ativo:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},almoxarifado:{id:"alm-1",nome:"Almoxarifado Principal",codigo:"ALMP001",ativo:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}],total:2,page:1,pageSize:20,totalPages:1}}}async getItemMovementHistory(e,t={}){console.log("üìä Buscando hist√≥rico do item:",e,t);try{const a={limit:t.limit||100,...t.dataInicio&&{dataInicio:t.dataInicio},...t.dataFim&&{dataFim:t.dataFim}},r=Ke(`/estoque/itens/${e}/movimentacoes`,a),o=await Z.get(r);return console.log("‚úÖ Hist√≥rico do item obtido com sucesso:",o.length),o}catch(a){throw console.error("‚ùå Erro ao buscar hist√≥rico do item:",a),a}}async registerMovement(e){console.log("üìù Registrando movimenta√ß√£o:",e);try{const t=await Z.post("/estoque/movimentacoes",e);return console.log("‚úÖ Movimenta√ß√£o registrada com sucesso:",t),t}catch(t){throw console.error("‚ùå Erro ao registrar movimenta√ß√£o:",t),t}}async registerEntry(e){const t={...e,tipoMovimentacao:"ENTRADA_COMPRA"};return this.registerMovement(t)}async registerExit(e){const t={...e,tipoMovimentacao:"SAIDA_ENTREGA"};return this.registerMovement(t)}async registerAdjustment(e){const t={tipoEpiId:e.tipoEpiId,almoxarifadoId:e.almoxarifadoId,quantidade:e.quantidade,observacoes:e.motivo,responsavelId:e.responsavelId,tipoMovimentacao:"AJUSTE_INVENTARIO"};return this.registerMovement(t)}async registerTransfer(e){try{const t=await Z.post("/estoque/transferencias",e);return console.log("‚úÖ Transfer√™ncia registrada com sucesso:",t),t}catch(t){throw console.error("‚ùå Erro ao registrar transfer√™ncia:",t),t}}async criarEstorno(e){try{const t=await Z.post("/estoque/estornos",e);return console.log("‚úÖ Estorno registrado com sucesso:",t),t}catch(t){throw console.error("‚ùå Erro ao criar estorno:",t),t}}clearCache(){console.log("üóëÔ∏è Cache do InventoryCommandAdapter limpo")}}const Tt=new Fa;function Mt(n,e,t){const a=n.slice();a[28]=e[t];const r=dr(a[28].status);return a[29]=r,a}function za(n){let e,t,a;return e=new sa({props:{class:"w-4 h-4 mr-2"}}),{c(){M(e.$$.fragment),t=R(`
        Nova Movimenta√ß√£o`)},l(r){O(e.$$.fragment,r),t=z(r,`
        Nova Movimenta√ß√£o`)},m(r,o){T(e,r,o),y(r,t,o),a=!0},p:ze,i(r){a||(v(e.$$.fragment,r),a=!0)},o(r){b(e.$$.fragment,r),a=!1},d(r){r&&m(t),P(e,r)}}}function Ra(n){let e,t,a,r,o,s,l="Nenhum item encontrado",i,c,g=n[9]||n[10]?"Tente ajustar os filtros ou termo de busca para encontrar itens":"Comece adicionando itens ao estoque atrav√©s de uma nova movimenta√ß√£o",f,u,d,p;return r=new _t({props:{class:"w-8 h-8 text-gray-400"}}),d=new Le({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[La]},$$scope:{ctx:n}}}),d.$on("click",n[17]),{c(){e=w("div"),t=w("div"),a=w("div"),M(r.$$.fragment),o=S(),s=w("h3"),s.textContent=l,i=S(),c=w("p"),f=R(g),u=S(),M(d.$$.fragment),this.h()},l(_){e=E(_,"DIV",{class:!0});var C=D(e);t=E(C,"DIV",{class:!0});var x=D(t);a=E(x,"DIV",{class:!0});var h=D(a);O(r.$$.fragment,h),h.forEach(m),o=A(x),s=E(x,"H3",{class:!0,"data-svelte-h":!0}),ve(s)!=="svelte-bz2goa"&&(s.textContent=l),i=A(x),c=E(x,"P",{class:!0});var V=D(c);f=z(V,g),V.forEach(m),u=A(x),O(d.$$.fragment,x),x.forEach(m),C.forEach(m),this.h()},h(){k(a,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"),k(s,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),k(c,"class","text-gray-500 dark:text-gray-400 mb-6 max-w-sm mx-auto"),k(t,"class","text-center py-16 px-6"),k(e,"class","bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700")},m(_,C){y(_,e,C),$(e,t),$(t,a),T(r,a,null),$(t,o),$(t,s),$(t,i),$(t,c),$(c,f),$(t,u),T(d,t,null),p=!0},p(_,C){(!p||C[0]&1536)&&g!==(g=_[9]||_[10]?"Tente ajustar os filtros ou termo de busca para encontrar itens":"Comece adicionando itens ao estoque atrav√©s de uma nova movimenta√ß√£o")&&Y(f,g);const x={};C[0]&1536|C[1]&2&&(x.$$scope={dirty:C,ctx:_}),d.$set(x)},i(_){p||(v(r.$$.fragment,_),v(d.$$.fragment,_),p=!0)},o(_){b(r.$$.fragment,_),b(d.$$.fragment,_),p=!1},d(_){_&&m(e),P(r),P(d)}}}function Ba(n){let e,t,a,r,o,s,l,i,c,g,f,u,d,p,_,C,x;o=new Sa({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}}),l=new Zt({props:{type:"text",placeholder:"Buscar por equipamento ou CA...",class:"pl-10 rounded-sm h-10 text-sm",value:n[9]}}),l.$on("input",n[11]),c=new Ct({props:{options:n[8],value:n[6].status||"todos",placeholder:"Status",class:"min-w-[140px]"}}),c.$on("change",n[20]),f=new Ct({props:{options:n[7],value:n[6].categoria||"todas",placeholder:"Categoria",class:"min-w-[140px]"}}),f.$on("change",n[21]);let h=n[10]&&Ot(n);_=new ta({props:{hoverable:!0,$$slots:{default:[lr]},$$scope:{ctx:n}}});let V=n[5]>1&&qt(n);return{c(){e=w("div"),t=w("div"),a=w("div"),r=w("div"),M(o.$$.fragment),s=S(),M(l.$$.fragment),i=S(),M(c.$$.fragment),g=S(),M(f.$$.fragment),u=S(),h&&h.c(),d=S(),p=w("div"),M(_.$$.fragment),C=S(),V&&V.c(),this.h()},l(I){e=E(I,"DIV",{class:!0});var N=D(e);t=E(N,"DIV",{class:!0});var re=D(t);a=E(re,"DIV",{class:!0});var B=D(a);r=E(B,"DIV",{class:!0});var U=D(r);O(o.$$.fragment,U),s=A(U),O(l.$$.fragment,U),U.forEach(m),i=A(B),O(c.$$.fragment,B),g=A(B),O(f.$$.fragment,B),u=A(B),h&&h.l(B),B.forEach(m),re.forEach(m),d=A(N),p=E(N,"DIV",{class:!0});var K=D(p);O(_.$$.fragment,K),K.forEach(m),C=A(N),V&&V.l(N),N.forEach(m),this.h()},h(){k(r,"class","relative flex-1 max-w-md"),k(a,"class","flex items-center gap-4"),k(t,"class","p-4 border-b border-gray-200 dark:border-gray-700"),k(p,"class","overflow-x-auto"),k(e,"class","bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden")},m(I,N){y(I,e,N),$(e,t),$(t,a),$(a,r),T(o,r,null),$(r,s),T(l,r,null),$(a,i),T(c,a,null),$(a,g),T(f,a,null),$(a,u),h&&h.m(a,null),$(e,d),$(e,p),T(_,p,null),$(e,C),V&&V.m(e,null),x=!0},p(I,N){const re={};N[0]&512&&(re.value=I[9]),l.$set(re);const B={};N[0]&256&&(B.options=I[8]),N[0]&64&&(B.value=I[6].status||"todos"),c.$set(B);const U={};N[0]&128&&(U.options=I[7]),N[0]&64&&(U.value=I[6].categoria||"todas"),f.$set(U),I[10]?h?(h.p(I,N),N[0]&1024&&v(h,1)):(h=Ot(I),h.c(),v(h,1),h.m(a,null)):h&&(be(),b(h,1,1,()=>{h=null}),Ee());const K={};N[0]&1|N[1]&2&&(K.$$scope={dirty:N,ctx:I}),_.$set(K),I[5]>1?V?(V.p(I,N),N[0]&32&&v(V,1)):(V=qt(I),V.c(),v(V,1),V.m(e,null)):V&&(be(),b(V,1,1,()=>{V=null}),Ee())},i(I){x||(v(o.$$.fragment,I),v(l.$$.fragment,I),v(c.$$.fragment,I),v(f.$$.fragment,I),v(h),v(_.$$.fragment,I),v(V),x=!0)},o(I){b(o.$$.fragment,I),b(l.$$.fragment,I),b(c.$$.fragment,I),b(f.$$.fragment,I),b(h),b(_.$$.fragment,I),b(V),x=!1},d(I){I&&m(e),P(o),P(l),P(c),P(f),h&&h.d(),P(_),V&&V.d()}}}function ja(n){let e,t;return e=new Ia({props:{error:n[2],onRetry:n[19]}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r[0]&4&&(o.error=a[2]),r[0]&16&&(o.onRetry=a[19]),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Ha(n){let e,t;return e=new wa({}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p:ze,i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function La(n){let e,t,a=n[9]||n[10]?"Nova Movimenta√ß√£o":"Primeira Movimenta√ß√£o",r,o;return e=new sa({props:{class:"w-4 h-4 mr-2"}}),{c(){M(e.$$.fragment),t=S(),r=R(a)},l(s){O(e.$$.fragment,s),t=A(s),r=z(s,a)},m(s,l){T(e,s,l),y(s,t,l),y(s,r,l),o=!0},p(s,l){(!o||l[0]&1536)&&a!==(a=s[9]||s[10]?"Nova Movimenta√ß√£o":"Primeira Movimenta√ß√£o")&&Y(r,a)},i(s){o||(v(e.$$.fragment,s),o=!0)},o(s){b(e.$$.fragment,s),o=!1},d(s){s&&(m(t),m(r)),P(e,s)}}}function Ot(n){let e,t;return e=new Le({props:{color:"alternative",class:"rounded-sm h-10 px-3",title:"Limpar Filtros",$$slots:{default:[Ua]},$$scope:{ctx:n}}}),e.$on("click",n[13]),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r[1]&2&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Ua(n){let e,t;return e=new ka({props:{class:"w-4 h-4"}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p:ze,i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Qa(n){let e;return{c(){e=R("Equipamento")},l(t){e=z(t,"Equipamento")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Ka(n){let e;return{c(){e=R("Categoria")},l(t){e=z(t,"Categoria")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Ga(n){let e;return{c(){e=R("Quantidade")},l(t){e=z(t,"Quantidade")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Ja(n){let e;return{c(){e=R("Status")},l(t){e=z(t,"Status")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Wa(n){let e;return{c(){e=R("A√ß√µes")},l(t){e=z(t,"A√ß√µes")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Xa(n){let e,t,a,r,o,s,l,i,c,g;return e=new Ne({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[Qa]},$$scope:{ctx:n}}}),a=new Ne({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 hidden md:table-cell",$$slots:{default:[Ka]},$$scope:{ctx:n}}}),o=new Ne({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[Ga]},$$scope:{ctx:n}}}),l=new Ne({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 hidden lg:table-cell",$$slots:{default:[Ja]},$$scope:{ctx:n}}}),c=new Ne({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[Wa]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=S(),M(a.$$.fragment),r=S(),M(o.$$.fragment),s=S(),M(l.$$.fragment),i=S(),M(c.$$.fragment)},l(f){O(e.$$.fragment,f),t=A(f),O(a.$$.fragment,f),r=A(f),O(o.$$.fragment,f),s=A(f),O(l.$$.fragment,f),i=A(f),O(c.$$.fragment,f)},m(f,u){T(e,f,u),y(f,t,u),T(a,f,u),y(f,r,u),T(o,f,u),y(f,s,u),T(l,f,u),y(f,i,u),T(c,f,u),g=!0},p(f,u){const d={};u[1]&2&&(d.$$scope={dirty:u,ctx:f}),e.$set(d);const p={};u[1]&2&&(p.$$scope={dirty:u,ctx:f}),a.$set(p);const _={};u[1]&2&&(_.$$scope={dirty:u,ctx:f}),o.$set(_);const C={};u[1]&2&&(C.$$scope={dirty:u,ctx:f}),l.$set(C);const x={};u[1]&2&&(x.$$scope={dirty:u,ctx:f}),c.$set(x)},i(f){g||(v(e.$$.fragment,f),v(a.$$.fragment,f),v(o.$$.fragment,f),v(l.$$.fragment,f),v(c.$$.fragment,f),g=!0)},o(f){b(e.$$.fragment,f),b(a.$$.fragment,f),b(o.$$.fragment,f),b(l.$$.fragment,f),b(c.$$.fragment,f),g=!1},d(f){f&&(m(t),m(r),m(s),m(i)),P(e,f),P(a,f),P(o,f),P(l,f),P(c,f)}}}function Ya(n){let e=n[29].label+"",t;return{c(){t=R(e)},l(a){t=z(a,e)},m(a,r){y(a,t,r)},p(a,r){r[0]&1&&e!==(e=a[29].label+"")&&Y(t,e)},d(a){a&&m(t)}}}function Za(n){var I,N,re;let e,t,a,r=(((I=n[28].tipoEPI)==null?void 0:I.nomeEquipamento)||"EPI n√£o encontrado")+"",o,s,l,i,c=(((N=n[28].tipoEPI)==null?void 0:N.numeroCA)||"-")+"",g,f,u,d,p=(((re=n[28].tipoEPI)==null?void 0:re.categoria)||"Sem categoria")+"",_,C,x,h,V;return h=new $t({props:{color:n[29].color,class:"w-fit rounded-sm text-xs",$$slots:{default:[Ya]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("div"),a=w("p"),o=R(r),s=S(),l=w("p"),i=R("CA "),g=R(c),f=S(),u=w("div"),d=w("p"),_=R(p),C=S(),x=w("div"),M(h.$$.fragment),this.h()},l(B){e=E(B,"DIV",{class:!0});var U=D(e);t=E(U,"DIV",{class:!0});var K=D(t);a=E(K,"P",{class:!0});var W=D(a);o=z(W,r),W.forEach(m),s=A(K),l=E(K,"P",{class:!0});var Q=D(l);i=z(Q,"CA "),g=z(Q,c),Q.forEach(m),f=A(K),u=E(K,"DIV",{class:!0});var X=D(u);d=E(X,"P",{class:!0});var G=D(d);_=z(G,p),G.forEach(m),C=A(X),x=E(X,"DIV",{class:!0});var le=D(x);O(h.$$.fragment,le),le.forEach(m),X.forEach(m),K.forEach(m),U.forEach(m),this.h()},h(){k(a,"class","font-medium text-gray-900 dark:text-white truncate"),k(l,"class","text-sm text-gray-500 dark:text-gray-400 truncate"),k(d,"class","text-xs text-gray-500 dark:text-gray-400"),k(x,"class","lg:hidden"),k(u,"class","md:hidden mt-1 space-y-1"),k(t,"class","min-w-0 flex-1"),k(e,"class","flex items-center space-x-3")},m(B,U){y(B,e,U),$(e,t),$(t,a),$(a,o),$(t,s),$(t,l),$(l,i),$(l,g),$(t,f),$(t,u),$(u,d),$(d,_),$(u,C),$(u,x),T(h,x,null),V=!0},p(B,U){var W,Q,X;(!V||U[0]&1)&&r!==(r=(((W=B[28].tipoEPI)==null?void 0:W.nomeEquipamento)||"EPI n√£o encontrado")+"")&&Y(o,r),(!V||U[0]&1)&&c!==(c=(((Q=B[28].tipoEPI)==null?void 0:Q.numeroCA)||"-")+"")&&Y(g,c),(!V||U[0]&1)&&p!==(p=(((X=B[28].tipoEPI)==null?void 0:X.categoria)||"Sem categoria")+"")&&Y(_,p);const K={};U[0]&1&&(K.color=B[29].color),U[0]&1|U[1]&2&&(K.$$scope={dirty:U,ctx:B}),h.$set(K)},i(B){V||(v(h.$$.fragment,B),V=!0)},o(B){b(h.$$.fragment,B),V=!1},d(B){B&&m(e),P(h)}}}function er(n){var r;let e,t=(((r=n[28].tipoEPI)==null?void 0:r.categoria)||"-")+"",a;return{c(){e=w("span"),a=R(t),this.h()},l(o){e=E(o,"SPAN",{class:!0});var s=D(e);a=z(s,t),s.forEach(m),this.h()},h(){k(e,"class","text-sm text-gray-900 dark:text-white")},m(o,s){y(o,e,s),$(e,a)},p(o,s){var l;s[0]&1&&t!==(t=(((l=o[28].tipoEPI)==null?void 0:l.categoria)||"-")+"")&&Y(a,t)},d(o){o&&m(e)}}}function tr(n){let e,t=n[28].quantidade+"",a;return{c(){e=w("span"),a=R(t),this.h()},l(r){e=E(r,"SPAN",{class:!0});var o=D(e);a=z(o,t),o.forEach(m),this.h()},h(){k(e,"class","font-semibold text-lg text-gray-900 dark:text-white")},m(r,o){y(r,e,o),$(e,a)},p(r,o){o[0]&1&&t!==(t=r[28].quantidade+"")&&Y(a,t)},d(r){r&&m(e)}}}function ar(n){let e=n[29].label+"",t;return{c(){t=R(e)},l(a){t=z(a,e)},m(a,r){y(a,t,r)},p(a,r){r[0]&1&&e!==(e=a[29].label+"")&&Y(t,e)},d(a){a&&m(t)}}}function rr(n){let e,t;return e=new $t({props:{color:n[29].color,class:"w-fit rounded-sm",$$slots:{default:[ar]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r[0]&1&&(o.color=a[29].color),r[0]&1|r[1]&2&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function or(n){let e,t,a,r,o,s,l,i,c;a=new Ca({props:{class:"w-4 h-4"}});function g(...u){return n[22](n[28],...u)}s=new ut({props:{class:"w-4 h-4"}});function f(...u){return n[23](n[28],...u)}return{c(){e=w("div"),t=w("button"),M(a.$$.fragment),r=S(),o=w("button"),M(s.$$.fragment),this.h()},l(u){e=E(u,"DIV",{class:!0});var d=D(e);t=E(d,"BUTTON",{class:!0,title:!0});var p=D(t);O(a.$$.fragment,p),p.forEach(m),r=A(d),o=E(d,"BUTTON",{class:!0,title:!0});var _=D(o);O(s.$$.fragment,_),_.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700"),k(t,"title","Ajustar quantidade"),k(o,"class","p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700"),k(o,"title","Ver hist√≥rico"),k(e,"class","flex items-center justify-center space-x-1")},m(u,d){y(u,e,d),$(e,t),T(a,t,null),$(e,r),$(e,o),T(s,o,null),l=!0,i||(c=[yt(t,"click",g),yt(o,"click",f)],i=!0)},p(u,d){n=u},i(u){l||(v(a.$$.fragment,u),v(s.$$.fragment,u),l=!0)},o(u){b(a.$$.fragment,u),b(s.$$.fragment,u),l=!1},d(u){u&&m(e),P(a),P(s),i=!1,pa(c)}}}function nr(n){let e,t,a,r,o,s,l,i,c,g,f;return e=new Fe({props:{class:"py-4 px-6",$$slots:{default:[Za]},$$scope:{ctx:n}}}),a=new Fe({props:{class:"py-4 px-6 hidden md:table-cell",$$slots:{default:[er]},$$scope:{ctx:n}}}),o=new Fe({props:{class:"py-4 px-6 text-center",$$slots:{default:[tr]},$$scope:{ctx:n}}}),l=new Fe({props:{class:"py-4 px-6 hidden lg:table-cell",$$slots:{default:[rr]},$$scope:{ctx:n}}}),c=new Fe({props:{class:"py-4 px-6",$$slots:{default:[or]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=S(),M(a.$$.fragment),r=S(),M(o.$$.fragment),s=S(),M(l.$$.fragment),i=S(),M(c.$$.fragment),g=S()},l(u){O(e.$$.fragment,u),t=A(u),O(a.$$.fragment,u),r=A(u),O(o.$$.fragment,u),s=A(u),O(l.$$.fragment,u),i=A(u),O(c.$$.fragment,u),g=A(u)},m(u,d){T(e,u,d),y(u,t,d),T(a,u,d),y(u,r,d),T(o,u,d),y(u,s,d),T(l,u,d),y(u,i,d),T(c,u,d),y(u,g,d),f=!0},p(u,d){const p={};d[0]&1|d[1]&2&&(p.$$scope={dirty:d,ctx:u}),e.$set(p);const _={};d[0]&1|d[1]&2&&(_.$$scope={dirty:d,ctx:u}),a.$set(_);const C={};d[0]&1|d[1]&2&&(C.$$scope={dirty:d,ctx:u}),o.$set(C);const x={};d[0]&1|d[1]&2&&(x.$$scope={dirty:d,ctx:u}),l.$set(x);const h={};d[0]&1|d[1]&2&&(h.$$scope={dirty:d,ctx:u}),c.$set(h)},i(u){f||(v(e.$$.fragment,u),v(a.$$.fragment,u),v(o.$$.fragment,u),v(l.$$.fragment,u),v(c.$$.fragment,u),f=!0)},o(u){b(e.$$.fragment,u),b(a.$$.fragment,u),b(o.$$.fragment,u),b(l.$$.fragment,u),b(c.$$.fragment,u),f=!1},d(u){u&&(m(t),m(r),m(s),m(i),m(g)),P(e,u),P(a,u),P(o,u),P(l,u),P(c,u)}}}function Vt(n,e){let t,a,r;function o(){return e[24](e[28])}return a=new oa({props:{class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",$$slots:{default:[nr]},$$scope:{ctx:e}}}),a.$on("click",o),{key:n,first:null,c(){t=ue(),M(a.$$.fragment),this.h()},l(s){t=ue(),O(a.$$.fragment,s),this.h()},h(){this.first=t},m(s,l){y(s,t,l),T(a,s,l),r=!0},p(s,l){e=s;const i={};l[0]&1|l[1]&2&&(i.$$scope={dirty:l,ctx:e}),a.$set(i)},i(s){r||(v(a.$$.fragment,s),r=!0)},o(s){b(a.$$.fragment,s),r=!1},d(s){s&&m(t),P(a,s)}}}function sr(n){let e=[],t=new Map,a,r,o=tt(n[0]);const s=l=>l[28].id;for(let l=0;l<o.length;l+=1){let i=Mt(n,o,l),c=s(i);t.set(c,e[l]=Vt(c,i))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();a=ue()},l(l){for(let i=0;i<e.length;i+=1)e[i].l(l);a=ue()},m(l,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(l,i);y(l,a,i),r=!0},p(l,i){i[0]&49153&&(o=tt(l[0]),be(),e=ha(e,i,s,1,l,o,t,a.parentNode,va,Vt,a,Mt),Ee())},i(l){if(!r){for(let i=0;i<o.length;i+=1)v(e[i]);r=!0}},o(l){for(let i=0;i<e.length;i+=1)b(e[i]);r=!1},d(l){l&&m(a);for(let i=0;i<e.length;i+=1)e[i].d(l)}}}function lr(n){let e,t,a,r;return e=new aa({props:{class:"bg-gray-50 dark:bg-gray-700",$$slots:{default:[Xa]},$$scope:{ctx:n}}}),a=new ra({props:{class:"divide-y divide-gray-200 dark:divide-gray-700",$$slots:{default:[sr]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=S(),M(a.$$.fragment)},l(o){O(e.$$.fragment,o),t=A(o),O(a.$$.fragment,o)},m(o,s){T(e,o,s),y(o,t,s),T(a,o,s),r=!0},p(o,s){const l={};s[1]&2&&(l.$$scope={dirty:s,ctx:o}),e.$set(l);const i={};s[0]&1|s[1]&2&&(i.$$scope={dirty:s,ctx:o}),a.$set(i)},i(o){r||(v(e.$$.fragment,o),v(a.$$.fragment,o),r=!0)},o(o){b(e.$$.fragment,o),b(a.$$.fragment,o),r=!1},d(o){o&&m(t),P(e,o),P(a,o)}}}function qt(n){let e,t,a,r=(n[4]-1)*20+1+"",o,s,l=Math.min(n[4]*20,n[3])+"",i,c,g,f,u,d,p,_,C,x;return p=new Le({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:n[4]===1,$$slots:{default:[ir]},$$scope:{ctx:n}}}),p.$on("click",n[25]),C=new Le({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:n[4]===n[5],$$slots:{default:[cr]},$$scope:{ctx:n}}}),C.$on("click",n[26]),{c(){e=w("div"),t=w("div"),a=R("Mostrando "),o=R(r),s=R(" a "),i=R(l),c=R(" de "),g=R(n[3]),f=R(" resultados"),u=S(),d=w("div"),M(p.$$.fragment),_=S(),M(C.$$.fragment),this.h()},l(h){e=E(h,"DIV",{class:!0});var V=D(e);t=E(V,"DIV",{class:!0});var I=D(t);a=z(I,"Mostrando "),o=z(I,r),s=z(I," a "),i=z(I,l),c=z(I," de "),g=z(I,n[3]),f=z(I," resultados"),I.forEach(m),u=A(V),d=E(V,"DIV",{class:!0});var N=D(d);O(p.$$.fragment,N),_=A(N),O(C.$$.fragment,N),N.forEach(m),V.forEach(m),this.h()},h(){k(t,"class","text-sm text-gray-600 dark:text-gray-400"),k(d,"class","flex gap-2"),k(e,"class","flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700")},m(h,V){y(h,e,V),$(e,t),$(t,a),$(t,o),$(t,s),$(t,i),$(t,c),$(t,g),$(t,f),$(e,u),$(e,d),T(p,d,null),$(d,_),T(C,d,null),x=!0},p(h,V){(!x||V[0]&16)&&r!==(r=(h[4]-1)*20+1+"")&&Y(o,r),(!x||V[0]&24)&&l!==(l=Math.min(h[4]*20,h[3])+"")&&Y(i,l),(!x||V[0]&8)&&Y(g,h[3]);const I={};V[0]&16&&(I.disabled=h[4]===1),V[1]&2&&(I.$$scope={dirty:V,ctx:h}),p.$set(I);const N={};V[0]&48&&(N.disabled=h[4]===h[5]),V[1]&2&&(N.$$scope={dirty:V,ctx:h}),C.$set(N)},i(h){x||(v(p.$$.fragment,h),v(C.$$.fragment,h),x=!0)},o(h){b(p.$$.fragment,h),b(C.$$.fragment,h),x=!1},d(h){h&&m(e),P(p),P(C)}}}function ir(n){let e;return{c(){e=R("Anterior")},l(t){e=z(t,"Anterior")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function cr(n){let e;return{c(){e=R("Pr√≥ximo")},l(t){e=z(t,"Pr√≥ximo")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function ur(n){let e,t,a,r='<h1 class="text-2xl font-bold text-gray-900 dark:text-white">Estoque</h1> <p class="text-gray-600 dark:text-gray-400">Controle de estoque e movimenta√ß√µes</p>',o,s,l,i,c,g,f;l=new Le({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[za]},$$scope:{ctx:n}}}),l.$on("click",n[17]);const u=[Ha,ja,Ba,Ra],d=[];function p(_,C){return _[1]?0:_[2]?1:_[0].length>0?2:3}return c=p(n),g=d[c]=u[c](n),{c(){e=w("div"),t=w("div"),a=w("div"),a.innerHTML=r,o=S(),s=w("div"),M(l.$$.fragment),i=S(),g.c(),this.h()},l(_){e=E(_,"DIV",{class:!0});var C=D(e);t=E(C,"DIV",{class:!0});var x=D(t);a=E(x,"DIV",{"data-svelte-h":!0}),ve(a)!=="svelte-183crrt"&&(a.innerHTML=r),o=A(x),s=E(x,"DIV",{class:!0});var h=D(s);O(l.$$.fragment,h),h.forEach(m),x.forEach(m),i=A(C),g.l(C),C.forEach(m),this.h()},h(){k(s,"class","flex gap-3"),k(t,"class","flex items-center justify-between"),k(e,"class","p-6 space-y-6")},m(_,C){y(_,e,C),$(e,t),$(t,a),$(t,o),$(t,s),T(l,s,null),$(e,i),d[c].m(e,null),f=!0},p(_,C){const x={};C[1]&2&&(x.$$scope={dirty:C,ctx:_}),l.$set(x);let h=c;c=p(_),c===h?d[c].p(_,C):(be(),b(d[h],1,1,()=>{d[h]=null}),Ee(),g=d[c],g?g.p(_,C):(g=d[c]=u[c](_),g.c()),v(g,1),g.m(e,null))},i(_){f||(v(l.$$.fragment,_),v(g),f=!0)},o(_){b(l.$$.fragment,_),b(g),f=!1},d(_){_&&m(e),P(l),d[c].d()}}}function dr(n){switch(n==null?void 0:n.toLowerCase()){case"disponivel":case"ativo":return{color:"green",label:"Dispon√≠vel"};case"baixo":return{color:"yellow",label:"Estoque baixo"};case"indisponivel":case"inativo":return{color:"red",label:"Indispon√≠vel"};case"vencendo":return{color:"orange",label:"Pr√≥ximo ao vencimento"};case"vencido":return{color:"red",label:"Vencido"};case"esgotado":case"zero":return{color:"gray",label:"Esgotado"};case"bloqueado":return{color:"red",label:"Bloqueado"};case"quarentena":return{color:"orange",label:"Em Quarentena"};case"aguarda_inspecao":return{color:"yellow",label:"Aguarda Inspe√ß√£o"};default:return{color:"blue",label:n||"Indefinido"}}}function fr(n,e,t){let a,{items:r=[]}=e,{loading:o=!1}=e,{error:s=null}=e,{total:l=0}=e,{page:i=1}=e,{totalPages:c=1}=e,{searchTerm:g=""}=e,{filters:f}=e,{categoriaOptions:u=[]}=e,{statusOptions:d=[]}=e;const p=pt();let _="";function C(F){const ee=F.target.value;t(9,_=ee),p("searchChange",{value:ee})}function x(F,ee){p("filterChange",{key:F,value:ee})}function h(){t(9,_=""),p("clearFilters")}function V(F){p("itemEdit",{item:F})}function I(F){p("itemHistory",{item:F})}function N(F){p("pageChange",{page:F})}function re(){p("newMovement")}const B=()=>N(i),U=F=>x("status",F.detail),K=F=>x("categoria",F.detail),W=(F,ee)=>{ee.stopPropagation(),V(F)},Q=(F,ee)=>{ee.stopPropagation(),I(F)},X=F=>V(F),G=()=>N(i-1),le=()=>N(i+1);return n.$$set=F=>{"items"in F&&t(0,r=F.items),"loading"in F&&t(1,o=F.loading),"error"in F&&t(2,s=F.error),"total"in F&&t(3,l=F.total),"page"in F&&t(4,i=F.page),"totalPages"in F&&t(5,c=F.totalPages),"searchTerm"in F&&t(18,g=F.searchTerm),"filters"in F&&t(6,f=F.filters),"categoriaOptions"in F&&t(7,u=F.categoriaOptions),"statusOptions"in F&&t(8,d=F.statusOptions)},n.$$.update=()=>{n.$$.dirty[0]&7&&console.log("üé® PRESENTER: items recebidos:",{itemsLength:(r==null?void 0:r.length)||0,items:r,loading:o,error:s}),n.$$.dirty[0]&262656&&g!==void 0&&g!==_&&t(9,_=g),n.$$.dirty[0]&576&&t(10,a=_||f.status&&f.status!=="todos"||f.categoria&&f.categoria!=="todas")},[r,o,s,l,i,c,f,u,d,_,a,C,x,h,V,I,N,re,g,B,U,K,W,Q,X,G,le]}class mr extends at{constructor(e){super(),rt(this,e,fr,ur,ot,{items:0,loading:1,error:2,total:3,page:4,totalPages:5,searchTerm:18,filters:6,categoriaOptions:7,statusOptions:8},null,[-1,-1])}}function Nt(n){var Te;let e,t,a,r,o=(((Te=n[1].tipoEPI)==null?void 0:Te.nomeEquipamento)||"EPI n√£o encontrado")+"",s,l,i,c,g=n[1].quantidade+"",f,u,d,p,_,C,x,h,V,I,N,re,B,U,K,W,Q,X,G,le,F,ee,L,J,ne,ge=n[3].tipo==="entrada"?"+":"-",ie,pe,we,se,fe,De,xe,ce,me,ke,$e,Ue,q,te;C=new st({props:{class:"mb-3 block",$$slots:{default:[gr]},$$scope:{ctx:n}}});function Ae(H){n[9](H)}let Se={name:"tipo",value:"entrada",class:"mr-2"};n[3].tipo!==void 0&&(Se.group=n[3].tipo),I=new At({props:Se}),Ye.push(()=>Ze(I,"group",Ae)),B=new st({props:{class:"text-sm font-normal",$$slots:{default:[pr]},$$scope:{ctx:n}}});function _e(H){n[10](H)}let Re={name:"tipo",value:"saida",class:"mr-2"};n[3].tipo!==void 0&&(Re.group=n[3].tipo),W=new At({props:Re}),Ye.push(()=>Ze(W,"group",_e)),G=new st({props:{class:"text-sm font-normal",$$slots:{default:[$r]},$$scope:{ctx:n}}}),ee=new st({props:{for:"quantidade",class:"mb-2",$$slots:{default:[_r]},$$scope:{ctx:n}}});function Xe(H){n[11](H)}let he={id:"quantidade",type:"number",min:"1",step:"1",size:"sm",class:"rounded-sm pl-8",color:n[4].quantidade?"red":"base"};n[3].quantidade!==void 0&&(he.value=n[3].quantidade),se=new Zt({props:he}),Ye.push(()=>Ze(se,"value",Xe)),se.$on("input",n[8]);let ae=n[4].quantidade&&Ft(n);me=new st({props:{for:"motivo",class:"mb-2",$$slots:{default:[hr]},$$scope:{ctx:n}}});function Ge(H){n[12](H)}let Pe={id:"motivo",placeholder:"Descreva o motivo da movimenta√ß√£o...",rows:"2",class:"rounded-sm resize-none",color:n[4].motivo?"red":"base"};n[3].motivo!==void 0&&(Pe.value=n[3].motivo),$e=new Pa({props:Pe}),Ye.push(()=>Ze($e,"value",Ge)),$e.$on("input",Dr);let de=n[4].motivo&&zt(n);return{c(){e=w("div"),t=w("div"),a=w("div"),r=w("h4"),s=R(o),l=S(),i=w("span"),c=R("Estoque atual = "),f=R(g),u=S(),d=w("div"),p=w("div"),_=w("div"),M(C.$$.fragment),x=S(),h=w("div"),V=w("div"),M(I.$$.fragment),re=S(),M(B.$$.fragment),U=S(),K=w("div"),M(W.$$.fragment),X=S(),M(G.$$.fragment),le=S(),F=w("div"),M(ee.$$.fragment),L=S(),J=w("div"),ne=w("span"),ie=R(ge),we=S(),M(se.$$.fragment),De=S(),ae&&ae.c(),xe=S(),ce=w("div"),M(me.$$.fragment),ke=S(),M($e.$$.fragment),q=S(),de&&de.c(),this.h()},l(H){e=E(H,"DIV",{class:!0});var j=D(e);t=E(j,"DIV",{class:!0});var oe=D(t);a=E(oe,"DIV",{class:!0});var Ie=D(a);r=E(Ie,"H4",{class:!0});var Be=D(r);s=z(Be,o),Be.forEach(m),l=A(Ie),i=E(Ie,"SPAN",{class:!0});var Me=D(i);c=z(Me,"Estoque atual = "),f=z(Me,g),Me.forEach(m),Ie.forEach(m),oe.forEach(m),u=A(j),d=E(j,"DIV",{class:!0});var je=D(d);p=E(je,"DIV",{class:!0});var He=D(p);_=E(He,"DIV",{});var Oe=D(_);O(C.$$.fragment,Oe),x=A(Oe),h=E(Oe,"DIV",{class:!0});var Ce=D(h);V=E(Ce,"DIV",{class:!0});var ye=D(V);O(I.$$.fragment,ye),re=A(ye),O(B.$$.fragment,ye),ye.forEach(m),U=A(Ce),K=E(Ce,"DIV",{class:!0});var Ve=D(K);O(W.$$.fragment,Ve),X=A(Ve),O(G.$$.fragment,Ve),Ve.forEach(m),Ce.forEach(m),Oe.forEach(m),le=A(He),F=E(He,"DIV",{});var Qe=D(F);O(ee.$$.fragment,Qe),L=A(Qe),J=E(Qe,"DIV",{class:!0});var Je=D(J);ne=E(Je,"SPAN",{class:!0});var We=D(ne);ie=z(We,ge),We.forEach(m),we=A(Je),O(se.$$.fragment,Je),Je.forEach(m),De=A(Qe),ae&&ae.l(Qe),Qe.forEach(m),He.forEach(m),xe=A(je),ce=E(je,"DIV",{});var qe=D(ce);O(me.$$.fragment,qe),ke=A(qe),O($e.$$.fragment,qe),q=A(qe),de&&de.l(qe),qe.forEach(m),je.forEach(m),j.forEach(m),this.h()},h(){k(r,"class","font-medium text-gray-900 dark:text-white"),k(i,"class","text-sm font-light text-gray-600 dark:text-gray-400"),k(a,"class","flex items-center justify-between"),k(t,"class","bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"),k(V,"class","flex items-center"),k(K,"class","flex items-center"),k(h,"class","flex gap-6"),k(ne,"class",pe="absolute left-3 top-1/2 transform -translate-y-1/2 "+(n[3].tipo==="entrada"?"text-green-600":"text-red-600")+" font-medium"),k(J,"class","relative"),k(p,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),k(d,"class","space-y-4"),k(e,"class","space-y-4")},m(H,j){y(H,e,j),$(e,t),$(t,a),$(a,r),$(r,s),$(a,l),$(a,i),$(i,c),$(i,f),$(e,u),$(e,d),$(d,p),$(p,_),T(C,_,null),$(_,x),$(_,h),$(h,V),T(I,V,null),$(V,re),T(B,V,null),$(h,U),$(h,K),T(W,K,null),$(K,X),T(G,K,null),$(p,le),$(p,F),T(ee,F,null),$(F,L),$(F,J),$(J,ne),$(ne,ie),$(J,we),T(se,J,null),$(F,De),ae&&ae.m(F,null),$(d,xe),$(d,ce),T(me,ce,null),$(ce,ke),T($e,ce,null),$(ce,q),de&&de.m(ce,null),te=!0},p(H,j){var Ve;(!te||j&2)&&o!==(o=(((Ve=H[1].tipoEPI)==null?void 0:Ve.nomeEquipamento)||"EPI n√£o encontrado")+"")&&Y(s,o),(!te||j&2)&&g!==(g=H[1].quantidade+"")&&Y(f,g);const oe={};j&262144&&(oe.$$scope={dirty:j,ctx:H}),C.$set(oe);const Ie={};!N&&j&8&&(N=!0,Ie.group=H[3].tipo,et(()=>N=!1)),I.$set(Ie);const Be={};j&262144&&(Be.$$scope={dirty:j,ctx:H}),B.$set(Be);const Me={};!Q&&j&8&&(Q=!0,Me.group=H[3].tipo,et(()=>Q=!1)),W.$set(Me);const je={};j&262144&&(je.$$scope={dirty:j,ctx:H}),G.$set(je);const He={};j&262144&&(He.$$scope={dirty:j,ctx:H}),ee.$set(He),(!te||j&8)&&ge!==(ge=H[3].tipo==="entrada"?"+":"-")&&Y(ie,ge),(!te||j&8&&pe!==(pe="absolute left-3 top-1/2 transform -translate-y-1/2 "+(H[3].tipo==="entrada"?"text-green-600":"text-red-600")+" font-medium"))&&k(ne,"class",pe);const Oe={};j&16&&(Oe.color=H[4].quantidade?"red":"base"),!fe&&j&8&&(fe=!0,Oe.value=H[3].quantidade,et(()=>fe=!1)),se.$set(Oe),H[4].quantidade?ae?ae.p(H,j):(ae=Ft(H),ae.c(),ae.m(F,null)):ae&&(ae.d(1),ae=null);const Ce={};j&262144&&(Ce.$$scope={dirty:j,ctx:H}),me.$set(Ce);const ye={};j&16&&(ye.color=H[4].motivo?"red":"base"),!Ue&&j&8&&(Ue=!0,ye.value=H[3].motivo,et(()=>Ue=!1)),$e.$set(ye),H[4].motivo?de?de.p(H,j):(de=zt(H),de.c(),de.m(ce,null)):de&&(de.d(1),de=null)},i(H){te||(v(C.$$.fragment,H),v(I.$$.fragment,H),v(B.$$.fragment,H),v(W.$$.fragment,H),v(G.$$.fragment,H),v(ee.$$.fragment,H),v(se.$$.fragment,H),v(me.$$.fragment,H),v($e.$$.fragment,H),te=!0)},o(H){b(C.$$.fragment,H),b(I.$$.fragment,H),b(B.$$.fragment,H),b(W.$$.fragment,H),b(G.$$.fragment,H),b(ee.$$.fragment,H),b(se.$$.fragment,H),b(me.$$.fragment,H),b($e.$$.fragment,H),te=!1},d(H){H&&m(e),P(C),P(I),P(B),P(W),P(G),P(ee),P(se),ae&&ae.d(),P(me),P($e),de&&de.d()}}}function gr(n){let e;return{c(){e=R("Tipo de Movimenta√ß√£o *")},l(t){e=z(t,"Tipo de Movimenta√ß√£o *")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function pr(n){let e;return{c(){e=R("Aumentar")},l(t){e=z(t,"Aumentar")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function $r(n){let e;return{c(){e=R("Retirar")},l(t){e=z(t,"Retirar")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function _r(n){let e;return{c(){e=R("Quantidade *")},l(t){e=z(t,"Quantidade *")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Ft(n){let e,t=n[4].quantidade+"",a;return{c(){e=w("p"),a=R(t),this.h()},l(r){e=E(r,"P",{class:!0});var o=D(e);a=z(o,t),o.forEach(m),this.h()},h(){k(e,"class","text-red-600 text-xs mt-1")},m(r,o){y(r,e,o),$(e,a)},p(r,o){o&16&&t!==(t=r[4].quantidade+"")&&Y(a,t)},d(r){r&&m(e)}}}function hr(n){let e;return{c(){e=R("Motivo *")},l(t){e=z(t,"Motivo *")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function zt(n){let e,t=n[4].motivo+"",a;return{c(){e=w("p"),a=R(t),this.h()},l(r){e=E(r,"P",{class:!0});var o=D(e);a=z(o,t),o.forEach(m),this.h()},h(){k(e,"class","text-red-600 text-xs mt-1")},m(r,o){y(r,e,o),$(e,a)},p(r,o){o&16&&t!==(t=r[4].motivo+"")&&Y(a,t)},d(r){r&&m(e)}}}function vr(n){let e,t,a=n[1]&&Nt(n);return{c(){a&&a.c(),e=ue()},l(r){a&&a.l(r),e=ue()},m(r,o){a&&a.m(r,o),y(r,e,o),t=!0},p(r,o){r[1]?a?(a.p(r,o),o&2&&v(a,1)):(a=Nt(r),a.c(),v(a,1),a.m(e.parentNode,e)):a&&(be(),b(a,1,1,()=>{a=null}),Ee())},i(r){t||(v(a),t=!0)},o(r){b(a),t=!1},d(r){r&&m(e),a&&a.d(r)}}}function Rt(n){let e,t,a,r,o;return t=new Le({props:{color:"alternative",class:"rounded-sm",disabled:n[2],$$slots:{default:[br]},$$scope:{ctx:n}}}),t.$on("click",n[7]),r=new Le({props:{color:"primary",class:"rounded-sm",disabled:n[2],$$slots:{default:[Ir]},$$scope:{ctx:n}}}),r.$on("click",n[6]),{c(){e=w("div"),M(t.$$.fragment),a=S(),M(r.$$.fragment),this.h()},l(s){e=E(s,"DIV",{class:!0});var l=D(e);O(t.$$.fragment,l),a=A(l),O(r.$$.fragment,l),l.forEach(m),this.h()},h(){k(e,"class","flex items-center gap-3")},m(s,l){y(s,e,l),T(t,e,null),$(e,a),T(r,e,null),o=!0},p(s,l){const i={};l&4&&(i.disabled=s[2]),l&262144&&(i.$$scope={dirty:l,ctx:s}),t.$set(i);const c={};l&4&&(c.disabled=s[2]),l&262148&&(c.$$scope={dirty:l,ctx:s}),r.$set(c)},i(s){o||(v(t.$$.fragment,s),v(r.$$.fragment,s),o=!0)},o(s){b(t.$$.fragment,s),b(r.$$.fragment,s),o=!1},d(s){s&&m(e),P(t),P(r)}}}function br(n){let e;return{c(){e=R("Cancelar")},l(t){e=z(t,"Cancelar")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Er(n){let e;return{c(){e=R("Salvar Movimenta√ß√£o")},l(t){e=z(t,"Salvar Movimenta√ß√£o")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function wr(n){let e,t=`<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
              Salvando...`;return{c(){e=w("div"),e.innerHTML=t,this.h()},l(a){e=E(a,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1x71bel"&&(e.innerHTML=t),this.h()},h(){k(e,"class","flex items-center")},m(a,r){y(a,e,r)},d(a){a&&m(e)}}}function Ir(n){let e;function t(o,s){return o[2]?wr:Er}let a=t(n),r=a(n);return{c(){r.c(),e=ue()},l(o){r.l(o),e=ue()},m(o,s){r.m(o,s),y(o,e,s)},p(o,s){a!==(a=t(o))&&(r.d(1),r=a(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&m(e),r.d(o)}}}function kr(n){let e,t,a=n[1]&&Rt(n);return{c(){a&&a.c(),e=ue()},l(r){a&&a.l(r),e=ue()},m(r,o){a&&a.m(r,o),y(r,e,o),t=!0},p(r,o){r[1]?a?(a.p(r,o),o&2&&v(a,1)):(a=Rt(r),a.c(),v(a,1),a.m(e.parentNode,e)):a&&(be(),b(a,1,1,()=>{a=null}),Ee())},i(r){t||(v(a),t=!0)},o(r){b(a),t=!1},d(r){r&&m(e),a&&a.d(r)}}}function yr(n){let e,t,a;function r(s){n[13](s)}let o={title:n[5],size:"md",autoclose:!1,outsideclose:!1,$$slots:{footer:[kr],default:[vr]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.open=n[0]),e=new la({props:o}),Ye.push(()=>Ze(e,"open",r)),{c(){M(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,l){T(e,s,l),a=!0},p(s,[l]){const i={};l&32&&(i.title=s[5]),l&262174&&(i.$$scope={dirty:l,ctx:s}),!t&&l&1&&(t=!0,i.open=s[0],et(()=>t=!1)),e.$set(i)},i(s){a||(v(e.$$.fragment,s),a=!0)},o(s){b(e.$$.fragment,s),a=!1},d(s){P(e,s)}}}function Dr(n){const e=n.target;e.style.height="auto",e.style.height=Math.max(40,e.scrollHeight)+"px"}function xr(n,e,t){let a,{item:r=null}=e,{loading:o=!1}=e,{show:s=!0}=e;const l=pt();let i={tipo:"entrada",quantidade:0,motivo:""},c={};function g(){t(3,i={tipo:"entrada",quantidade:0,motivo:""}),t(4,c={})}function f(){const I={};return(!i.quantidade||i.quantidade===0)&&(I.quantidade="Quantidade √© obrigat√≥ria e deve ser diferente de zero"),i.motivo.trim()||(I.motivo="Motivo √© obrigat√≥rio"),t(4,c=I),Object.keys(I).length===0}function u(){f()&&(l("save",{tipoEPIId:(r==null?void 0:r.tipoEPIId)||"",almoxarifadoId:(r==null?void 0:r.almoxarifadoId)||"",tipoMovimentacao:i.tipo==="entrada"?"AJUSTE_POSITIVO":"AJUSTE_NEGATIVO",quantidade:i.quantidade,motivo:i.motivo,observacoes:"",itemEstoqueId:r==null?void 0:r.id}),d())}function d(){t(0,s=!1),l("cancel")}function p(I){const N=I.target;t(3,i.quantidade=parseFloat(N.value)||0,i)}function _(I){n.$$.not_equal(i.tipo,I)&&(i.tipo=I,t(3,i))}function C(I){n.$$.not_equal(i.tipo,I)&&(i.tipo=I,t(3,i))}function x(I){n.$$.not_equal(i.quantidade,I)&&(i.quantidade=I,t(3,i))}function h(I){n.$$.not_equal(i.motivo,I)&&(i.motivo=I,t(3,i))}function V(I){s=I,t(0,s)}return n.$$set=I=>{"item"in I&&t(1,r=I.item),"loading"in I&&t(2,o=I.loading),"show"in I&&t(0,s=I.show)},n.$$.update=()=>{n.$$.dirty&3&&s&&r&&g(),n.$$.dirty&8&&(i.tipo==="entrada"?`${i.quantidade}`:`${i.quantidade}`),n.$$.dirty&2&&t(5,a=r?"Ajustar Estoque":"Nova Movimenta√ß√£o")},[s,r,o,i,c,a,u,d,p,_,C,x,h,V]}class Cr extends at{constructor(e){super(),rt(this,e,xr,yr,ot,{item:1,loading:2,show:0})}}function Bt(n,e,t){const a=n.slice();a[15]=e[t];const r=a[10](a[15].tipoMovimentacao);a[16]=r;const o=no(a[15].tipoMovimentacao);return a[17]=o,a}function jt(n,e,t){const a=n.slice();return a[20]=e[t],a}function Ht(n){let e,t;return{c(){e=w("p"),t=R(n[5]),this.h()},l(a){e=E(a,"P",{class:!0});var r=D(e);t=z(r,n[5]),r.forEach(m),this.h()},h(){k(e,"class","text-sm text-gray-500 dark:text-gray-400")},m(a,r){y(a,e,r),$(e,t)},p(a,r){r&32&&Y(t,a[5])},d(a){a&&m(e)}}}function Ar(n){let e,t;return e=new Ta({props:{class:"w-5 h-5"}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p:ze,i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Sr(n){let e=n[20].label+"",t,a;return{c(){t=R(e),a=S()},l(r){t=z(r,e),a=A(r)},m(r,o){y(r,t,o),y(r,a,o)},p:ze,d(r){r&&(m(t),m(a))}}}function Lt(n){let e,t;function a(){return n[12](n[20])}return e=new Le({props:{size:"sm",color:n[4]===n[20].value?"primary":"alternative",class:"rounded-none first:rounded-l-sm last:rounded-r-sm",$$slots:{default:[Sr]},$$scope:{ctx:n}}}),e.$on("click",a),{c(){M(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,o){T(e,r,o),t=!0},p(r,o){n=r;const s={};o&16&&(s.color=n[4]===n[20].value?"primary":"alternative"),o&8388608&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Pr(n){let e,t,a=tt(n[7]),r=[];for(let s=0;s<a.length;s+=1)r[s]=Lt(jt(n,a,s));const o=s=>b(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ue()},l(s){for(let l=0;l<r.length;l+=1)r[l].l(s);e=ue()},m(s,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(s,l);y(s,e,l),t=!0},p(s,l){if(l&656){a=tt(s[7]);let i;for(i=0;i<a.length;i+=1){const c=jt(s,a,i);r[i]?(r[i].p(c,l),v(r[i],1)):(r[i]=Lt(c),r[i].c(),v(r[i],1),r[i].m(e.parentNode,e))}for(be(),i=a.length;i<r.length;i+=1)o(i);Ee()}},i(s){if(!t){for(let l=0;l<a.length;l+=1)v(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)b(r[l]);t=!1},d(s){s&&m(e),Xt(r,s)}}}function Tr(n){let e,t,a,r,o,s="Selecione um item",l,i,c="Escolha um item da tabela para ver seu hist√≥rico de movimenta√ß√µes.",g;return a=new ut({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=w("div"),t=w("div"),M(a.$$.fragment),r=S(),o=w("h3"),o.textContent=s,l=S(),i=w("p"),i.textContent=c,this.h()},l(f){e=E(f,"DIV",{class:!0});var u=D(e);t=E(u,"DIV",{class:!0});var d=D(t);O(a.$$.fragment,d),d.forEach(m),r=A(u),o=E(u,"H3",{class:!0,"data-svelte-h":!0}),ve(o)!=="svelte-1d96tj7"&&(o.textContent=s),l=A(u),i=E(u,"P",{class:!0,"data-svelte-h":!0}),ve(i)!=="svelte-1em2gzl"&&(i.textContent=c),u.forEach(m),this.h()},h(){k(t,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"),k(o,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),k(i,"class","text-gray-500 dark:text-gray-400"),k(e,"class","text-center py-12")},m(f,u){y(f,e,u),$(e,t),T(a,t,null),$(e,r),$(e,o),$(e,l),$(e,i),g=!0},p:ze,i(f){g||(v(a.$$.fragment,f),g=!0)},o(f){b(a.$$.fragment,f),g=!1},d(f){f&&m(e),P(a)}}}function Mr(n){let e,t,a,r,o,s="Saldo Inicial",l,i,c=n[1].saldoInicial+"",g,f,u,d,p,_,C,x,h,V="Total Entradas",I,N,re,B=n[1].totalEntradas+"",U,K,W,Q,X,G,le,F,ee,L="Total Sa√≠das",J,ne,ge,ie=n[1].totalSaidas+"",pe,we,se,fe,De,xe,ce,me,ke,$e="Saldo Final",Ue,q,te=n[1].saldoFinal+"",Ae,Se,_e,Re,Xe,he,ae,Ge,Pe;d=new ct({props:{class:"w-5 h-5 text-blue-600 dark:text-blue-400"}}),Q=new _t({props:{class:"w-5 h-5 text-green-600 dark:text-green-400"}}),fe=new na({props:{class:"w-5 h-5 text-red-600 dark:text-red-400"}}),Re=new ct({props:{class:"w-5 h-5 text-blue-600 dark:text-blue-400"}});const de=[Nr,qr],Te=[];function H(j,oe){return j[1].movimentacoes.length>0?0:1}return he=H(n),ae=Te[he]=de[he](n),{c(){e=w("div"),t=w("div"),a=w("div"),r=w("div"),o=w("p"),o.textContent=s,l=S(),i=w("p"),g=R(c),f=S(),u=w("div"),M(d.$$.fragment),p=S(),_=w("div"),C=w("div"),x=w("div"),h=w("p"),h.textContent=V,I=S(),N=w("p"),re=R("+"),U=R(B),K=S(),W=w("div"),M(Q.$$.fragment),X=S(),G=w("div"),le=w("div"),F=w("div"),ee=w("p"),ee.textContent=L,J=S(),ne=w("p"),ge=R("-"),pe=R(ie),we=S(),se=w("div"),M(fe.$$.fragment),De=S(),xe=w("div"),ce=w("div"),me=w("div"),ke=w("p"),ke.textContent=$e,Ue=S(),q=w("p"),Ae=R(te),Se=S(),_e=w("div"),M(Re.$$.fragment),Xe=S(),ae.c(),Ge=ue(),this.h()},l(j){e=E(j,"DIV",{class:!0});var oe=D(e);t=E(oe,"DIV",{class:!0});var Ie=D(t);a=E(Ie,"DIV",{class:!0});var Be=D(a);r=E(Be,"DIV",{});var Me=D(r);o=E(Me,"P",{class:!0,"data-svelte-h":!0}),ve(o)!=="svelte-mz28fp"&&(o.textContent=s),l=A(Me),i=E(Me,"P",{class:!0});var je=D(i);g=z(je,c),je.forEach(m),Me.forEach(m),f=A(Be),u=E(Be,"DIV",{class:!0});var He=D(u);O(d.$$.fragment,He),He.forEach(m),Be.forEach(m),Ie.forEach(m),p=A(oe),_=E(oe,"DIV",{class:!0});var Oe=D(_);C=E(Oe,"DIV",{class:!0});var Ce=D(C);x=E(Ce,"DIV",{});var ye=D(x);h=E(ye,"P",{class:!0,"data-svelte-h":!0}),ve(h)!=="svelte-8u5mwd"&&(h.textContent=V),I=A(ye),N=E(ye,"P",{class:!0});var Ve=D(N);re=z(Ve,"+"),U=z(Ve,B),Ve.forEach(m),ye.forEach(m),K=A(Ce),W=E(Ce,"DIV",{class:!0});var Qe=D(W);O(Q.$$.fragment,Qe),Qe.forEach(m),Ce.forEach(m),Oe.forEach(m),X=A(oe),G=E(oe,"DIV",{class:!0});var Je=D(G);le=E(Je,"DIV",{class:!0});var We=D(le);F=E(We,"DIV",{});var qe=D(F);ee=E(qe,"P",{class:!0,"data-svelte-h":!0}),ve(ee)!=="svelte-1i8700w"&&(ee.textContent=L),J=A(qe),ne=E(qe,"P",{class:!0});var dt=D(ne);ge=z(dt,"-"),pe=z(dt,ie),dt.forEach(m),qe.forEach(m),we=A(We),se=E(We,"DIV",{class:!0});var ht=D(se);O(fe.$$.fragment,ht),ht.forEach(m),We.forEach(m),Je.forEach(m),De=A(oe),xe=E(oe,"DIV",{class:!0});var vt=D(xe);ce=E(vt,"DIV",{class:!0});var lt=D(ce);me=E(lt,"DIV",{});var it=D(me);ke=E(it,"P",{class:!0,"data-svelte-h":!0}),ve(ke)!=="svelte-sbjso6"&&(ke.textContent=$e),Ue=A(it),q=E(it,"P",{class:!0});var bt=D(q);Ae=z(bt,te),bt.forEach(m),it.forEach(m),Se=A(lt),_e=E(lt,"DIV",{class:!0});var Et=D(_e);O(Re.$$.fragment,Et),Et.forEach(m),lt.forEach(m),vt.forEach(m),oe.forEach(m),Xe=A(j),ae.l(j),Ge=ue(),this.h()},h(){k(o,"class","text-sm text-gray-600 dark:text-gray-400"),k(i,"class","text-xl font-semibold text-gray-900 dark:text-white"),k(u,"class","p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"),k(a,"class","flex items-center justify-between"),k(t,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4"),k(h,"class","text-sm text-green-600 dark:text-green-400"),k(N,"class","text-xl font-semibold text-green-900 dark:text-green-100"),k(W,"class","p-2 bg-green-100 dark:bg-green-800 rounded-lg"),k(C,"class","flex items-center justify-between"),k(_,"class","bg-green-50 dark:bg-green-900 rounded-lg p-4"),k(ee,"class","text-sm text-red-600 dark:text-red-400"),k(ne,"class","text-xl font-semibold text-red-900 dark:text-red-100"),k(se,"class","p-2 bg-red-100 dark:bg-red-800 rounded-lg"),k(le,"class","flex items-center justify-between"),k(G,"class","bg-red-50 dark:bg-red-900 rounded-lg p-4"),k(ke,"class","text-sm text-blue-600 dark:text-blue-400"),k(q,"class","text-xl font-semibold text-blue-900 dark:text-blue-100"),k(_e,"class","p-2 bg-blue-100 dark:bg-blue-800 rounded-lg"),k(ce,"class","flex items-center justify-between"),k(xe,"class","bg-blue-50 dark:bg-blue-900 rounded-lg p-4"),k(e,"class","grid grid-cols-2 md:grid-cols-4 gap-4")},m(j,oe){y(j,e,oe),$(e,t),$(t,a),$(a,r),$(r,o),$(r,l),$(r,i),$(i,g),$(a,f),$(a,u),T(d,u,null),$(e,p),$(e,_),$(_,C),$(C,x),$(x,h),$(x,I),$(x,N),$(N,re),$(N,U),$(C,K),$(C,W),T(Q,W,null),$(e,X),$(e,G),$(G,le),$(le,F),$(F,ee),$(F,J),$(F,ne),$(ne,ge),$(ne,pe),$(le,we),$(le,se),T(fe,se,null),$(e,De),$(e,xe),$(xe,ce),$(ce,me),$(me,ke),$(me,Ue),$(me,q),$(q,Ae),$(ce,Se),$(ce,_e),T(Re,_e,null),y(j,Xe,oe),Te[he].m(j,oe),y(j,Ge,oe),Pe=!0},p(j,oe){(!Pe||oe&2)&&c!==(c=j[1].saldoInicial+"")&&Y(g,c),(!Pe||oe&2)&&B!==(B=j[1].totalEntradas+"")&&Y(U,B),(!Pe||oe&2)&&ie!==(ie=j[1].totalSaidas+"")&&Y(pe,ie),(!Pe||oe&2)&&te!==(te=j[1].saldoFinal+"")&&Y(Ae,te);let Ie=he;he=H(j),he===Ie?Te[he].p(j,oe):(be(),b(Te[Ie],1,1,()=>{Te[Ie]=null}),Ee(),ae=Te[he],ae?ae.p(j,oe):(ae=Te[he]=de[he](j),ae.c()),v(ae,1),ae.m(Ge.parentNode,Ge))},i(j){Pe||(v(d.$$.fragment,j),v(Q.$$.fragment,j),v(fe.$$.fragment,j),v(Re.$$.fragment,j),v(ae),Pe=!0)},o(j){b(d.$$.fragment,j),b(Q.$$.fragment,j),b(fe.$$.fragment,j),b(Re.$$.fragment,j),b(ae),Pe=!1},d(j){j&&(m(e),m(Xe),m(Ge)),P(d),P(Q),P(fe),P(Re),Te[he].d(j)}}}function Or(n){let e,t;return e=new Da({props:{color:"red",class:"rounded-sm",$$slots:{default:[to]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r&8388616&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Vr(n){let e,t,a,r,o="Carregando hist√≥rico...",s;return t=new ya({props:{class:"w-8 h-8"}}),{c(){e=w("div"),M(t.$$.fragment),a=S(),r=w("span"),r.textContent=o,this.h()},l(l){e=E(l,"DIV",{class:!0});var i=D(e);O(t.$$.fragment,i),a=A(i),r=E(i,"SPAN",{class:!0,"data-svelte-h":!0}),ve(r)!=="svelte-1i33544"&&(r.textContent=o),i.forEach(m),this.h()},h(){k(r,"class","ml-3 text-gray-600 dark:text-gray-400"),k(e,"class","flex items-center justify-center py-12")},m(l,i){y(l,e,i),T(t,e,null),$(e,a),$(e,r),s=!0},p:ze,i(l){s||(v(t.$$.fragment,l),s=!0)},o(l){b(t.$$.fragment,l),s=!1},d(l){l&&m(e),P(t)}}}function qr(n){let e,t,a,r,o,s="Nenhuma movimenta√ß√£o encontrada",l,i,c="N√£o h√° movimenta√ß√µes registradas para este item no per√≠odo selecionado.",g;return a=new ut({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=w("div"),t=w("div"),M(a.$$.fragment),r=S(),o=w("h3"),o.textContent=s,l=S(),i=w("p"),i.textContent=c,this.h()},l(f){e=E(f,"DIV",{class:!0});var u=D(e);t=E(u,"DIV",{class:!0});var d=D(t);O(a.$$.fragment,d),d.forEach(m),r=A(u),o=E(u,"H3",{class:!0,"data-svelte-h":!0}),ve(o)!=="svelte-18q0j8j"&&(o.textContent=s),l=A(u),i=E(u,"P",{class:!0,"data-svelte-h":!0}),ve(i)!=="svelte-1jc8szp"&&(i.textContent=c),u.forEach(m),this.h()},h(){k(t,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"),k(o,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),k(i,"class","text-gray-500 dark:text-gray-400"),k(e,"class","text-center py-12")},m(f,u){y(f,e,u),$(e,t),T(a,t,null),$(e,r),$(e,o),$(e,l),$(e,i),g=!0},p:ze,i(f){g||(v(a.$$.fragment,f),g=!0)},o(f){b(a.$$.fragment,f),g=!1},d(f){f&&m(e),P(a)}}}function Nr(n){let e,t,a,r;return a=new ta({props:{$$slots:{default:[eo]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("div"),M(a.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var s=D(e);t=E(s,"DIV",{class:!0});var l=D(t);O(a.$$.fragment,l),l.forEach(m),s.forEach(m),this.h()},h(){k(t,"class","overflow-x-auto"),k(e,"class","bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden")},m(o,s){y(o,e,s),$(e,t),T(a,t,null),r=!0},p(o,s){const l={};s&8388610&&(l.$$scope={dirty:s,ctx:o}),a.$set(l)},i(o){r||(v(a.$$.fragment,o),r=!0)},o(o){b(a.$$.fragment,o),r=!1},d(o){o&&m(e),P(a)}}}function Fr(n){let e;return{c(){e=R("Data")},l(t){e=z(t,"Data")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function zr(n){let e;return{c(){e=R("Documento")},l(t){e=z(t,"Documento")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Rr(n){let e;return{c(){e=R("Tipo")},l(t){e=z(t,"Tipo")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Br(n){let e;return{c(){e=R("Quantidade")},l(t){e=z(t,"Quantidade")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function jr(n){let e;return{c(){e=R("Saldo")},l(t){e=z(t,"Saldo")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Hr(n){let e;return{c(){e=R("Observa√ß√µes")},l(t){e=z(t,"Observa√ß√µes")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function Lr(n){let e,t,a,r,o,s,l,i,c,g,f,u;return e=new Ne({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[Fr]},$$scope:{ctx:n}}}),a=new Ne({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[zr]},$$scope:{ctx:n}}}),o=new Ne({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[Rr]},$$scope:{ctx:n}}}),l=new Ne({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[Br]},$$scope:{ctx:n}}}),c=new Ne({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[jr]},$$scope:{ctx:n}}}),f=new Ne({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[Hr]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=S(),M(a.$$.fragment),r=S(),M(o.$$.fragment),s=S(),M(l.$$.fragment),i=S(),M(c.$$.fragment),g=S(),M(f.$$.fragment)},l(d){O(e.$$.fragment,d),t=A(d),O(a.$$.fragment,d),r=A(d),O(o.$$.fragment,d),s=A(d),O(l.$$.fragment,d),i=A(d),O(c.$$.fragment,d),g=A(d),O(f.$$.fragment,d)},m(d,p){T(e,d,p),y(d,t,p),T(a,d,p),y(d,r,p),T(o,d,p),y(d,s,p),T(l,d,p),y(d,i,p),T(c,d,p),y(d,g,p),T(f,d,p),u=!0},p(d,p){const _={};p&8388608&&(_.$$scope={dirty:p,ctx:d}),e.$set(_);const C={};p&8388608&&(C.$$scope={dirty:p,ctx:d}),a.$set(C);const x={};p&8388608&&(x.$$scope={dirty:p,ctx:d}),o.$set(x);const h={};p&8388608&&(h.$$scope={dirty:p,ctx:d}),l.$set(h);const V={};p&8388608&&(V.$$scope={dirty:p,ctx:d}),c.$set(V);const I={};p&8388608&&(I.$$scope={dirty:p,ctx:d}),f.$set(I)},i(d){u||(v(e.$$.fragment,d),v(a.$$.fragment,d),v(o.$$.fragment,d),v(l.$$.fragment,d),v(c.$$.fragment,d),v(f.$$.fragment,d),u=!0)},o(d){b(e.$$.fragment,d),b(a.$$.fragment,d),b(o.$$.fragment,d),b(l.$$.fragment,d),b(c.$$.fragment,d),b(f.$$.fragment,d),u=!1},d(d){d&&(m(t),m(r),m(s),m(i),m(g)),P(e,d),P(a,d),P(o,d),P(l,d),P(c,d),P(f,d)}}}function Ur(n){let e,t=St(n[15].data)+"",a,r,o,s=new Date(n[15].data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+"",l;return{c(){e=w("div"),a=R(t),r=S(),o=w("div"),l=R(s),this.h()},l(i){e=E(i,"DIV",{class:!0});var c=D(e);a=z(c,t),c.forEach(m),r=A(i),o=E(i,"DIV",{class:!0});var g=D(o);l=z(g,s),g.forEach(m),this.h()},h(){k(e,"class","text-sm text-gray-900 dark:text-white"),k(o,"class","text-xs text-gray-500 dark:text-gray-400")},m(i,c){y(i,e,c),$(e,a),y(i,r,c),y(i,o,c),$(o,l)},p(i,c){c&2&&t!==(t=St(i[15].data)+"")&&Y(a,t),c&2&&s!==(s=new Date(i[15].data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+"")&&Y(l,s)},d(i){i&&(m(e),m(r),m(o))}}}function Qr(n){let e,t,a,r,o,s=n[15].documento+"",l,i;return a=new ct({props:{class:"w-3 h-3 text-gray-500 dark:text-gray-400"}}),{c(){e=w("div"),t=w("div"),M(a.$$.fragment),r=S(),o=w("span"),l=R(s),this.h()},l(c){e=E(c,"DIV",{class:!0});var g=D(e);t=E(g,"DIV",{class:!0});var f=D(t);O(a.$$.fragment,f),f.forEach(m),r=A(g),o=E(g,"SPAN",{class:!0});var u=D(o);l=z(u,s),u.forEach(m),g.forEach(m),this.h()},h(){k(t,"class","p-1 bg-gray-100 dark:bg-gray-700 rounded"),k(o,"class","text-sm font-medium text-gray-900 dark:text-white"),k(e,"class","flex items-center space-x-2")},m(c,g){y(c,e,g),$(e,t),T(a,t,null),$(e,r),$(e,o),$(o,l),i=!0},p(c,g){(!i||g&2)&&s!==(s=c[15].documento+"")&&Y(l,s)},i(c){i||(v(a.$$.fragment,c),i=!0)},o(c){b(a.$$.fragment,c),i=!1},d(c){c&&m(e),P(a)}}}function Kr(n){let e,t,a,r,o,s,l=Qt(n[15].tipoMovimentacao)+"",i,c;var g=n[16];function f(u,d){return{props:{class:"w-3 h-3 "+(u[17]==="green"?"text-green-600 dark:text-green-400":u[17]==="red"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")}}}return g&&(a=Dt(g,f(n))),{c(){e=w("div"),t=w("div"),a&&M(a.$$.fragment),o=S(),s=w("span"),i=R(l),this.h()},l(u){e=E(u,"DIV",{class:!0});var d=D(e);t=E(d,"DIV",{class:!0});var p=D(t);a&&O(a.$$.fragment,p),p.forEach(m),o=A(d),s=E(d,"SPAN",{class:!0});var _=D(s);i=z(_,l),_.forEach(m),d.forEach(m),this.h()},h(){k(t,"class",r="p-1 "+(n[17]==="green"?"bg-green-100 dark:bg-green-900":n[17]==="red"?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900")+" rounded"),k(s,"class","text-sm text-gray-900 dark:text-white"),k(e,"class","flex items-center space-x-2")},m(u,d){y(u,e,d),$(e,t),a&&T(a,t,null),$(e,o),$(e,s),$(s,i),c=!0},p(u,d){if(d&2&&g!==(g=u[16])){if(a){be();const p=a;b(p.$$.fragment,1,0,()=>{P(p,1)}),Ee()}g?(a=Dt(g,f(u)),M(a.$$.fragment),v(a.$$.fragment,1),T(a,t,null)):a=null}else if(g){const p={};d&2&&(p.class="w-3 h-3 "+(u[17]==="green"?"text-green-600 dark:text-green-400":u[17]==="red"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")),a.$set(p)}(!c||d&2&&r!==(r="p-1 "+(u[17]==="green"?"bg-green-100 dark:bg-green-900":u[17]==="red"?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900")+" rounded"))&&k(t,"class",r),(!c||d&2)&&l!==(l=Qt(u[15].tipoMovimentacao)+"")&&Y(i,l)},i(u){c||(a&&v(a.$$.fragment,u),c=!0)},o(u){a&&b(a.$$.fragment,u),c=!1},d(u){u&&m(e),a&&P(a)}}}function Gr(n){let e=Kt(n[15].entrada,n[15].saida)+"",t;return{c(){t=R(e)},l(a){t=z(a,e)},m(a,r){y(a,t,r)},p(a,r){r&2&&e!==(e=Kt(a[15].entrada,a[15].saida)+"")&&Y(t,e)},d(a){a&&m(t)}}}function Jr(n){let e,t;return e=new $t({props:{color:n[15].entrada>0?"green":"red",class:"w-fit rounded-sm",$$slots:{default:[Gr]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r&2&&(o.color=a[15].entrada>0?"green":"red"),r&8388610&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Wr(n){let e,t=n[15].saldo+"",a;return{c(){e=w("span"),a=R(t),this.h()},l(r){e=E(r,"SPAN",{class:!0});var o=D(e);a=z(o,t),o.forEach(m),this.h()},h(){k(e,"class","font-semibold text-gray-900 dark:text-white")},m(r,o){y(r,e,o),$(e,a)},p(r,o){o&2&&t!==(t=r[15].saldo+"")&&Y(a,t)},d(r){r&&m(e)}}}function Xr(n){let e,t=(n[15].observacoes||"-")+"",a;return{c(){e=w("span"),a=R(t),this.h()},l(r){e=E(r,"SPAN",{class:!0});var o=D(e);a=z(o,t),o.forEach(m),this.h()},h(){k(e,"class","text-sm text-gray-600 dark:text-gray-400")},m(r,o){y(r,e,o),$(e,a)},p(r,o){o&2&&t!==(t=(r[15].observacoes||"-")+"")&&Y(a,t)},d(r){r&&m(e)}}}function Yr(n){let e,t,a,r,o,s,l,i,c,g,f,u,d;return e=new Fe({props:{class:"py-3 px-4",$$slots:{default:[Ur]},$$scope:{ctx:n}}}),a=new Fe({props:{class:"py-3 px-4",$$slots:{default:[Qr]},$$scope:{ctx:n}}}),o=new Fe({props:{class:"py-3 px-4",$$slots:{default:[Kr]},$$scope:{ctx:n}}}),l=new Fe({props:{class:"py-3 px-4 text-center",$$slots:{default:[Jr]},$$scope:{ctx:n}}}),c=new Fe({props:{class:"py-3 px-4 text-center",$$slots:{default:[Wr]},$$scope:{ctx:n}}}),f=new Fe({props:{class:"py-3 px-4",$$slots:{default:[Xr]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=S(),M(a.$$.fragment),r=S(),M(o.$$.fragment),s=S(),M(l.$$.fragment),i=S(),M(c.$$.fragment),g=S(),M(f.$$.fragment),u=S()},l(p){O(e.$$.fragment,p),t=A(p),O(a.$$.fragment,p),r=A(p),O(o.$$.fragment,p),s=A(p),O(l.$$.fragment,p),i=A(p),O(c.$$.fragment,p),g=A(p),O(f.$$.fragment,p),u=A(p)},m(p,_){T(e,p,_),y(p,t,_),T(a,p,_),y(p,r,_),T(o,p,_),y(p,s,_),T(l,p,_),y(p,i,_),T(c,p,_),y(p,g,_),T(f,p,_),y(p,u,_),d=!0},p(p,_){const C={};_&8388610&&(C.$$scope={dirty:_,ctx:p}),e.$set(C);const x={};_&8388610&&(x.$$scope={dirty:_,ctx:p}),a.$set(x);const h={};_&8388610&&(h.$$scope={dirty:_,ctx:p}),o.$set(h);const V={};_&8388610&&(V.$$scope={dirty:_,ctx:p}),l.$set(V);const I={};_&8388610&&(I.$$scope={dirty:_,ctx:p}),c.$set(I);const N={};_&8388610&&(N.$$scope={dirty:_,ctx:p}),f.$set(N)},i(p){d||(v(e.$$.fragment,p),v(a.$$.fragment,p),v(o.$$.fragment,p),v(l.$$.fragment,p),v(c.$$.fragment,p),v(f.$$.fragment,p),d=!0)},o(p){b(e.$$.fragment,p),b(a.$$.fragment,p),b(o.$$.fragment,p),b(l.$$.fragment,p),b(c.$$.fragment,p),b(f.$$.fragment,p),d=!1},d(p){p&&(m(t),m(r),m(s),m(i),m(g),m(u)),P(e,p),P(a,p),P(o,p),P(l,p),P(c,p),P(f,p)}}}function Ut(n){let e,t;return e=new oa({props:{class:"hover:bg-gray-50 dark:hover:bg-gray-700",$$slots:{default:[Yr]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r&8388610&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Zr(n){let e,t,a=tt(n[1].movimentacoes),r=[];for(let s=0;s<a.length;s+=1)r[s]=Ut(Bt(n,a,s));const o=s=>b(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ue()},l(s){for(let l=0;l<r.length;l+=1)r[l].l(s);e=ue()},m(s,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(s,l);y(s,e,l),t=!0},p(s,l){if(l&1026){a=tt(s[1].movimentacoes);let i;for(i=0;i<a.length;i+=1){const c=Bt(s,a,i);r[i]?(r[i].p(c,l),v(r[i],1)):(r[i]=Ut(c),r[i].c(),v(r[i],1),r[i].m(e.parentNode,e))}for(be(),i=a.length;i<r.length;i+=1)o(i);Ee()}},i(s){if(!t){for(let l=0;l<a.length;l+=1)v(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)b(r[l]);t=!1},d(s){s&&m(e),Xt(r,s)}}}function eo(n){let e,t,a,r;return e=new aa({props:{class:"bg-gray-50 dark:bg-gray-700",$$slots:{default:[Lr]},$$scope:{ctx:n}}}),a=new ra({props:{class:"divide-y divide-gray-200 dark:divide-gray-700",$$slots:{default:[Zr]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=S(),M(a.$$.fragment)},l(o){O(e.$$.fragment,o),t=A(o),O(a.$$.fragment,o)},m(o,s){T(e,o,s),y(o,t,s),T(a,o,s),r=!0},p(o,s){const l={};s&8388608&&(l.$$scope={dirty:s,ctx:o}),e.$set(l);const i={};s&8388610&&(i.$$scope={dirty:s,ctx:o}),a.$set(i)},i(o){r||(v(e.$$.fragment,o),v(a.$$.fragment,o),r=!0)},o(o){b(e.$$.fragment,o),b(a.$$.fragment,o),r=!1},d(o){o&&m(t),P(e,o),P(a,o)}}}function to(n){let e,t="Erro ao carregar hist√≥rico:",a,r;return{c(){e=w("span"),e.textContent=t,a=S(),r=R(n[3]),this.h()},l(o){e=E(o,"SPAN",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1gnoq2l"&&(e.textContent=t),a=A(o),r=z(o,n[3]),this.h()},h(){k(e,"class","font-medium")},m(o,s){y(o,e,s),y(o,a,s),y(o,r,s)},p(o,s){s&8&&Y(r,o[3])},d(o){o&&(m(e),m(a),m(r))}}}function ao(n){let e;return{c(){e=R("Fechar")},l(t){e=z(t,"Fechar")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function ro(n){let e,t,a,r,o,s,l,i,c,g,f,u,d,p,_,C,x,h,V="Per√≠odo:",I,N,re,B,U,K,W,Q,X;r=new ut({props:{class:"w-5 h-5 text-blue-600 dark:text-blue-400"}});let G=n[5]&&Ht(n);f=new Le({props:{color:"alternative",class:"rounded-sm p-2",$$slots:{default:[Ar]},$$scope:{ctx:n}}}),f.$on("click",n[8]),C=new Aa({props:{class:"w-4 h-4 text-gray-500 dark:text-gray-400"}}),N=new qa({props:{class:"rounded-sm",$$slots:{default:[Pr]},$$scope:{ctx:n}}});const le=[Vr,Or,Mr,Tr],F=[];function ee(L,J){return L[2]?0:L[3]?1:L[1]?2:3}return B=ee(n),U=F[B]=le[B](n),Q=new Le({props:{color:"alternative",class:"rounded-sm",$$slots:{default:[ao]},$$scope:{ctx:n}}}),Q.$on("click",n[8]),{c(){e=w("div"),t=w("div"),a=w("div"),M(r.$$.fragment),o=S(),s=w("div"),l=w("h3"),i=R(n[6]),c=S(),G&&G.c(),g=S(),M(f.$$.fragment),u=S(),d=w("div"),p=w("div"),_=w("div"),M(C.$$.fragment),x=S(),h=w("span"),h.textContent=V,I=S(),M(N.$$.fragment),re=S(),U.c(),K=S(),W=w("div"),M(Q.$$.fragment),this.h()},l(L){e=E(L,"DIV",{class:!0});var J=D(e);t=E(J,"DIV",{class:!0});var ne=D(t);a=E(ne,"DIV",{class:!0});var ge=D(a);O(r.$$.fragment,ge),ge.forEach(m),o=A(ne),s=E(ne,"DIV",{});var ie=D(s);l=E(ie,"H3",{class:!0});var pe=D(l);i=z(pe,n[6]),pe.forEach(m),c=A(ie),G&&G.l(ie),ie.forEach(m),ne.forEach(m),g=A(J),O(f.$$.fragment,J),J.forEach(m),u=A(L),d=E(L,"DIV",{class:!0});var we=D(d);p=E(we,"DIV",{class:!0});var se=D(p);_=E(se,"DIV",{class:!0});var fe=D(_);O(C.$$.fragment,fe),x=A(fe),h=E(fe,"SPAN",{class:!0,"data-svelte-h":!0}),ve(h)!=="svelte-b385pc"&&(h.textContent=V),fe.forEach(m),I=A(se),O(N.$$.fragment,se),se.forEach(m),re=A(we),U.l(we),we.forEach(m),K=A(L),W=E(L,"DIV",{class:!0});var De=D(W);O(Q.$$.fragment,De),De.forEach(m),this.h()},h(){k(a,"class","p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"),k(l,"class","text-lg font-semibold text-gray-900 dark:text-white"),k(t,"class","flex items-center space-x-3"),k(e,"class","flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-600"),k(h,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),k(_,"class","flex items-center space-x-2"),k(p,"class","flex items-center justify-between"),k(d,"class","p-6 space-y-6"),k(W,"class","flex items-center justify-end p-6 border-t border-gray-200 dark:border-gray-600 space-x-3")},m(L,J){y(L,e,J),$(e,t),$(t,a),T(r,a,null),$(t,o),$(t,s),$(s,l),$(l,i),$(s,c),G&&G.m(s,null),$(e,g),T(f,e,null),y(L,u,J),y(L,d,J),$(d,p),$(p,_),T(C,_,null),$(_,x),$(_,h),$(p,I),T(N,p,null),$(d,re),F[B].m(d,null),y(L,K,J),y(L,W,J),T(Q,W,null),X=!0},p(L,J){(!X||J&64)&&Y(i,L[6]),L[5]?G?G.p(L,J):(G=Ht(L),G.c(),G.m(s,null)):G&&(G.d(1),G=null);const ne={};J&8388608&&(ne.$$scope={dirty:J,ctx:L}),f.$set(ne);const ge={};J&8388624&&(ge.$$scope={dirty:J,ctx:L}),N.$set(ge);let ie=B;B=ee(L),B===ie?F[B].p(L,J):(be(),b(F[ie],1,1,()=>{F[ie]=null}),Ee(),U=F[B],U?U.p(L,J):(U=F[B]=le[B](L),U.c()),v(U,1),U.m(d,null));const pe={};J&8388608&&(pe.$$scope={dirty:J,ctx:L}),Q.$set(pe)},i(L){X||(v(r.$$.fragment,L),v(f.$$.fragment,L),v(C.$$.fragment,L),v(N.$$.fragment,L),v(U),v(Q.$$.fragment,L),X=!0)},o(L){b(r.$$.fragment,L),b(f.$$.fragment,L),b(C.$$.fragment,L),b(N.$$.fragment,L),b(U),b(Q.$$.fragment,L),X=!1},d(L){L&&(m(e),m(u),m(d),m(K),m(W)),P(r),G&&G.d(),P(f),P(C),P(N),F[B].d(),P(Q)}}}function oo(n){let e,t,a;function r(s){n[13](s)}let o={size:"xl",class:"rounded-sm",$$slots:{default:[ro]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.open=n[0]),e=new la({props:o}),Ye.push(()=>Ze(e,"open",r)),{c(){M(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,l){T(e,s,l),a=!0},p(s,[l]){const i={};l&8388734&&(i.$$scope={dirty:l,ctx:s}),!t&&l&1&&(t=!0,i.open=s[0],et(()=>t=!1)),e.$set(i)},i(s){a||(v(e.$$.fragment,s),a=!0)},o(s){b(e.$$.fragment,s),a=!1},d(s){P(e,s)}}}function no(n){return n.includes("ENTRADA")?"green":n.includes("SAIDA")?"red":"blue"}function Qt(n){return{ENTRADA_NOTA:"Entrada por Nota",SAIDA_ENTREGA:"Sa√≠da - Entrega",SAIDA_TRANSFERENCIA:"Sa√≠da - Transfer√™ncia",ENTRADA_TRANSFERENCIA:"Entrada - Transfer√™ncia",ENTRADA_DEVOLUCAO:"Entrada - Devolu√ß√£o",SAIDA_DESCARTE:"Sa√≠da - Descarte",AJUSTE_POSITIVO:"Ajuste Positivo",AJUSTE_NEGATIVO:"Ajuste Negativo"}[n]||n}function Kt(n,e){return n>0?`+${n}`:e>0?`-${e}`:"0"}function so(n,e,t){let a,r,{showModal:o=!1}=e,{item:s=null}=e,{kardexData:l=null}=e,{loading:i=!1}=e,{error:c=null}=e;const g=pt();let f="all";const u=[{value:"7",label:"7 dias"},{value:"30",label:"30 dias"},{value:"90",label:"90 dias"},{value:"all",label:"Todos"}];function d(){g("close")}function p(h){if(t(4,f=h),h==="all")g("periodFilter",{period:h});else{const V=parseInt(h),I=new Date().toISOString().split("T")[0],N=new Date(Date.now()-V*24*60*60*1e3).toISOString().split("T")[0];g("periodFilter",{period:h,dataInicio:N,dataFim:I})}}function _(h){return h.includes("ENTRADA")?_t:h.includes("SAIDA")?na:ct}const C=h=>p(h.value);function x(h){o=h,t(0,o)}return n.$$set=h=>{"showModal"in h&&t(0,o=h.showModal),"item"in h&&t(11,s=h.item),"kardexData"in h&&t(1,l=h.kardexData),"loading"in h&&t(2,i=h.loading),"error"in h&&t(3,c=h.error)},n.$$.update=()=>{var h,V;n.$$.dirty&2048&&t(6,a=s?`Hist√≥rico - ${((h=s.tipoEPI)==null?void 0:h.nomeEquipamento)||"Item"}`:"Hist√≥rico"),n.$$.dirty&2048&&t(5,r=s?`CA ${((V=s.tipoEPI)==null?void 0:V.numeroCA)||"-"}`:"")},[o,l,i,c,f,r,a,u,d,p,_,s,C,x]}class lo extends at{constructor(e){super(),rt(this,e,so,oo,ot,{showModal:0,item:11,kardexData:1,loading:2,error:3})}}class io{async obterKardex(e){try{console.log("üìä Buscando kardex:",e);const{almoxarifadoId:t,tipoEpiId:a,dataInicio:r,dataFim:o}=e,s=new URLSearchParams;r&&s.append("dataInicio",r),o&&s.append("dataFim",o);const l=s.toString(),i=`/estoque/kardex/${t}/${a}${l?`?${l}`:""}`;console.log("üì° Chamando endpoint:",i);const c=await Z.get(i);if(c.success&&c.data){const g=c.data,f={movimentacoes:g.movimentacoes||[],saldoInicial:g.saldoInicial||0,saldoFinal:g.saldoFinal||0,totalEntradas:g.totalEntradas||0,totalSaidas:g.totalSaidas||0};return f.movimentacoes.sort((u,d)=>new Date(d.data).getTime()-new Date(u.data).getTime()),console.log("‚úÖ Kardex carregado:",{movimentacoes:f.movimentacoes.length,saldoInicial:f.saldoInicial,saldoFinal:f.saldoFinal,totalEntradas:f.totalEntradas,totalSaidas:f.totalSaidas}),f}throw new Error("Dados de kardex n√£o encontrados")}catch(t){throw console.error("‚ùå Erro ao buscar kardex:",t),t}}async obterKardexPorPeriodo(e,t,a){const r=new Date().toISOString().split("T")[0],o=new Date(Date.now()-a*24*60*60*1e3).toISOString().split("T")[0];return this.obterKardex({almoxarifadoId:e,tipoEpiId:t,dataInicio:o,dataFim:r})}getMockKardexData(){return{movimentacoes:[{data:new Date(Date.now()-1*24*60*60*1e3).toISOString(),documento:"E4U302",tipoMovimentacao:"SAIDA_ENTREGA",entrada:0,saida:2,saldo:78,observacoes:"Entrega para Jo√£o Silva"},{data:new Date(Date.now()-2*24*60*60*1e3).toISOString(),documento:"ENT-2025-000123",tipoMovimentacao:"ENTRADA_NOTA",entrada:50,saida:0,saldo:80,observacoes:"Compra de EPIs"},{data:new Date(Date.now()-5*24*60*60*1e3).toISOString(),documento:"DEV-2025-000045",tipoMovimentacao:"ENTRADA_DEVOLUCAO",entrada:3,saida:0,saldo:30,observacoes:"Devolu√ß√£o de Maria Santos"},{data:new Date(Date.now()-7*24*60*60*1e3).toISOString(),documento:"TRF-2025-000012",tipoMovimentacao:"SAIDA_TRANSFERENCIA",entrada:0,saida:5,saldo:27,observacoes:"Transfer√™ncia para Almoxarifado Central"},{data:new Date(Date.now()-10*24*60*60*1e3).toISOString(),documento:"AJU-2025-000003",tipoMovimentacao:"AJUSTE_POSITIVO",entrada:2,saida:0,saldo:32,observacoes:"Ajuste de invent√°rio"}],saldoInicial:30,saldoFinal:78,totalEntradas:55,totalSaidas:7}}}const co=new io;function Gt(n){let e,t;return e=new Cr({props:{item:n[4],tiposEPI:n[10],almoxarifados:n[0],loading:n[6],show:n[1]}}),e.$on("save",n[20]),e.$on("cancel",n[21]),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r[0]&16&&(o.item=a[4]),r[0]&1024&&(o.tiposEPI=a[10]),r[0]&1&&(o.almoxarifados=a[0]),r[0]&64&&(o.loading=a[6]),r[0]&2&&(o.show=a[1]),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Jt(n){let e,t;return e=new lo({props:{showModal:n[2],item:n[5],kardexData:n[9],loading:n[7],error:n[8]}}),e.$on("close",n[22]),e.$on("periodFilter",n[23]),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r[0]&4&&(o.showModal=a[2]),r[0]&32&&(o.item=a[5]),r[0]&512&&(o.kardexData=a[9]),r[0]&128&&(o.loading=a[7]),r[0]&256&&(o.error=a[8]),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Wt(n){let e,t;return e=new Ma({props:{open:n[3],mode:"create"}}),e.$on("close",n[25]),e.$on("save",n[26]),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const o={};r[0]&8&&(o.open=a[3]),e.$set(o)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function uo(n){let e,t,a,r,o,s;e=new mr({props:{items:n[11].items,loading:n[11].loading,error:n[11].error,total:n[11].pagination.total,page:n[11].pagination.currentPage,totalPages:n[11].pagination.totalPages,searchTerm:n[11].filters.searchTerm,filters:{status:n[11].filters.statusFilter,categoria:n[11].filters.categoriaFilter},categoriaOptions:n[11].filterOptions.categorias,statusOptions:n[11].filterOptions.status}}),e.$on("searchChange",n[38]),e.$on("filterChange",n[39]),e.$on("clearFilters",n[16]),e.$on("pageChange",n[40]),e.$on("itemEdit",n[41]),e.$on("itemHistory",n[19]),e.$on("newMovement",n[24]);let l=n[1]&&Gt(n),i=n[2]&&Jt(n),c=n[3]&&Wt(n);return{c(){M(e.$$.fragment),t=S(),l&&l.c(),a=S(),i&&i.c(),r=S(),c&&c.c(),o=ue()},l(g){O(e.$$.fragment,g),t=A(g),l&&l.l(g),a=A(g),i&&i.l(g),r=A(g),c&&c.l(g),o=ue()},m(g,f){T(e,g,f),y(g,t,f),l&&l.m(g,f),y(g,a,f),i&&i.m(g,f),y(g,r,f),c&&c.m(g,f),y(g,o,f),s=!0},p(g,f){const u={};f[0]&2048&&(u.items=g[11].items),f[0]&2048&&(u.loading=g[11].loading),f[0]&2048&&(u.error=g[11].error),f[0]&2048&&(u.total=g[11].pagination.total),f[0]&2048&&(u.page=g[11].pagination.currentPage),f[0]&2048&&(u.totalPages=g[11].pagination.totalPages),f[0]&2048&&(u.searchTerm=g[11].filters.searchTerm),f[0]&2048&&(u.filters={status:g[11].filters.statusFilter,categoria:g[11].filters.categoriaFilter}),f[0]&2048&&(u.categoriaOptions=g[11].filterOptions.categorias),f[0]&2048&&(u.statusOptions=g[11].filterOptions.status),e.$set(u),g[1]?l?(l.p(g,f),f[0]&2&&v(l,1)):(l=Gt(g),l.c(),v(l,1),l.m(a.parentNode,a)):l&&(be(),b(l,1,1,()=>{l=null}),Ee()),g[2]?i?(i.p(g,f),f[0]&4&&v(i,1)):(i=Jt(g),i.c(),v(i,1),i.m(r.parentNode,r)):i&&(be(),b(i,1,1,()=>{i=null}),Ee()),g[3]?c?(c.p(g,f),f[0]&8&&v(c,1)):(c=Wt(g),c.c(),v(c,1),c.m(o.parentNode,o)):c&&(be(),b(c,1,1,()=>{c=null}),Ee())},i(g){s||(v(e.$$.fragment,g),v(l),v(i),v(c),s=!0)},o(g){b(e.$$.fragment,g),b(l),b(i),b(c),s=!1},d(g){g&&(m(t),m(a),m(r),m(o)),P(e,g),l&&l.d(g),i&&i.d(g),c&&c.d(g)}}}function fo(n,e,t){let a,r,o,s,l,i,c;mt(n,ba,q=>t(36,i=q)),mt(n,Ea,q=>t(37,c=q));let{initialPageSize:g=20}=e;const f=!1,u=3e4,d=xa(q=>Tt.getInventoryItems({...q,includeExpanded:!0}),{initialPageSize:g});mt(n,d,q=>t(35,l=q));let p=!1,_=!1,C=!1,x=null,h=null,V=!1,I=!1,N=null,re=null,B=[],U=[];Yt(async()=>{console.log("üö® CONTAINER INICIADO: InventoryContainer carregando...");try{await ea.initialize(),await W(),console.log("üö® CHAMANDO loadInventoryData..."),await K(),console.log("‚úÖ InventoryContainer: Inicializado com sucesso")}catch(q){console.error("‚ùå Erro ao inicializar InventoryContainer:",q)}});async function K(){try{await d.fetchPage(),console.log("üì¶ Dados de invent√°rio carregados")}catch(q){console.error("‚ùå Erro ao carregar invent√°rio:",q),nt.error("Erro ao carregar invent√°rio","N√£o foi poss√≠vel carregar os dados do estoque")}}async function W(){try{const[q,te]=await Promise.all([Pt.getTiposEPI({ativo:!0}),Pt.getAlmoxarifados({ativo:!0})]);t(10,B=q.data||[]),t(0,U=te),console.log(`üìã Carregados ${B.length} tipos EPI e ${U.length} almoxarifados`)}catch(q){console.error("‚ùå Erro ao carregar dados auxiliares:",q)}}let Q={status:"todos",categoria:"todas"},X="";function G(q){t(31,X=q),L()}function le(q){t(30,Q={...Q,status:q}),L()}function F(q){t(30,Q={...Q,categoria:q}),L()}function ee(){t(31,X=""),t(30,Q={status:"todos",categoria:"todas"}),L()}function L(){const q={};X&&X.trim()!==""&&(q.search=X.trim()),Q.status&&Q.status!=="todos"&&(q.status=Q.status),Q.categoria&&Q.categoria!=="todas"&&(q.categoria=Q.categoria),console.log("üîß Aplicando filtros:",q),d.setFilters(q)}function J(q){d.goToPage(q)}function ne(q){t(4,x=q.detail.item),t(1,p=!0),console.log("‚úèÔ∏è Editando item:",x.id)}async function ge(q){t(5,h=q.detail.item),t(2,_=!0),await ie(),console.log("üìä Abrindo hist√≥rico do item:",h.id)}async function ie(q,te){var Ae,Se;if(h){t(7,I=!0),t(8,N=null),t(9,re=null);try{if(!((Ae=h.almoxarifado)!=null&&Ae.id)||!((Se=h.tipoEPI)!=null&&Se.id))throw new Error("Item n√£o possui dados necess√°rios para buscar hist√≥rico");const _e={almoxarifadoId:h.almoxarifado.id,tipoEpiId:h.tipoEPI.id,dataInicio:q,dataFim:te};console.log("üìä Buscando kardex com par√¢metros:",_e),t(9,re=await co.obterKardex(_e)),console.log(`üìä Kardex carregado: ${re.movimentacoes.length} movimenta√ß√µes`)}catch(_e){console.error("‚ùå Erro ao carregar hist√≥rico:",_e),t(8,N=_e instanceof Error?_e.message:"Erro desconhecido")}finally{t(7,I=!1)}}}async function pe(q){t(6,V=!0);try{console.log("üíæ Salvando movimenta√ß√£o:",q.detail);const te=await Tt.registerMovement(q.detail);console.log("‚úÖ Movimenta√ß√£o registrada:",te.id),t(1,p=!1),t(4,x=null),await K(),nt.success("Movimenta√ß√£o registrada",`${q.detail.tipoMovimentacao} de ${q.detail.quantidade} unidades`)}catch(te){console.error("‚ùå Erro ao salvar movimenta√ß√£o:",te),nt.error("Erro ao salvar","N√£o foi poss√≠vel registrar a movimenta√ß√£o")}finally{t(6,V=!1)}}function we(){t(1,p=!1),t(4,x=null),console.log("‚ùå Movimenta√ß√£o cancelada")}function se(){t(2,_=!1),t(5,h=null),t(9,re=null),t(8,N=null),console.log("‚ùå Modal de hist√≥rico fechado")}async function fe(q){const{period:te,dataInicio:Ae,dataFim:Se}=q.detail;await ie(Ae,Se),console.log("üìÖ Per√≠odo do hist√≥rico alterado:",te)}function De(){t(4,x=null),t(3,C=!0),console.log("‚ûï Nova movimenta√ß√£o")}function xe(){t(3,C=!1),t(4,x=null),console.log("‚ùå Drawer de notas fechado")}async function ce(q){try{console.log("üíæ Salvando nota:",q.detail),t(3,C=!1),t(4,x=null),await K(),nt.success("Nota salva","Movimenta√ß√£o registrada com sucesso")}catch(te){console.error("‚ùå Erro ao salvar nota:",te),nt.error("Erro ao salvar","N√£o foi poss√≠vel registrar a movimenta√ß√£o")}}const me=q=>G(q.detail.value),ke=q=>{q.detail.key==="status"?le(q.detail.value):q.detail.key==="categoria"&&F(q.detail.value)},$e=q=>J(q.detail.page),Ue=q=>ne(q.detail.item);return n.$$set=q=>{"initialPageSize"in q&&t(27,g=q.initialPageSize)},n.$$.update=()=>{var q;n.$$.dirty[1]&64&&t(33,a=[{value:"todos",label:"Todos os Status"},...c]),n.$$.dirty[1]&32&&t(32,r=[{value:"todas",label:"Todas as Categorias"},...i]),n.$$.dirty[0]&1&&[...U.map(te=>({value:te.id,label:te.nome}))],n.$$.dirty[0]&1073741824|n.$$.dirty[1]&1&&t(34,o=X!==""||Q.status!=="todos"||Q.categoria!=="todas"),n.$$.dirty[1]&20&&console.log("üèóÔ∏è CONTAINER: dados do store:",{storeItems:((q=l.items)==null?void 0:q.length)||0,storeLoading:l.loading,storeError:l.error,storeTotal:l.total,statusOptions:(a==null?void 0:a.length)||0,statusOptionsData:a}),n.$$.dirty[0]&1073741824|n.$$.dirty[1]&31&&t(11,s={items:l.items||[],loading:l.loading,error:l.error,pagination:{currentPage:l.page,totalPages:l.totalPages,pageSize:l.pageSize,total:l.total,hasNext:d.hasNext(),hasPrev:d.hasPrev()},filters:{searchTerm:X,statusFilter:Q.status,categoriaFilter:Q.categoria,hasActiveFilters:o},filterOptions:{status:a,categorias:r}})},[U,p,_,C,x,h,V,I,N,re,B,s,d,G,le,F,ee,J,ne,ge,pe,we,se,fe,De,xe,ce,g,f,u,Q,X,r,a,o,l,i,c,me,ke,$e,Ue]}class mo extends at{constructor(e){super(),rt(this,e,fo,uo,ot,{initialPageSize:27,autoRefresh:28,refreshInterval:29},null,[-1,-1])}get autoRefresh(){return this.$$.ctx[28]}get refreshInterval(){return this.$$.ctx[29]}}function go(n){let e,t;return e=new mo({props:{initialPageSize:20,autoRefresh:!1}}),{c(){M(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p:ze,i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function po(n){let e,t,a,r="Erro ao carregar p√°gina de estoque",o,s,l;return{c(){e=w("div"),t=w("div"),a=w("h3"),a.textContent=r,o=S(),s=w("p"),l=R(n[0]),this.h()},l(i){e=E(i,"DIV",{class:!0});var c=D(e);t=E(c,"DIV",{class:!0});var g=D(t);a=E(g,"H3",{class:!0,"data-svelte-h":!0}),ve(a)!=="svelte-1slsda8"&&(a.textContent=r),o=A(g),s=E(g,"P",{class:!0});var f=D(s);l=z(f,n[0]),f.forEach(m),g.forEach(m),c.forEach(m),this.h()},h(){k(a,"class","text-red-800 font-medium"),k(s,"class","text-red-600 mt-2"),k(t,"class","bg-red-50 border border-red-200 rounded-lg p-4"),k(e,"class","p-6")},m(i,c){y(i,e,c),$(e,t),$(t,a),$(t,o),$(t,s),$(s,l)},p(i,c){c&1&&Y(l,i[0])},i:ze,o:ze,d(i){i&&m(e)}}}function $o(n){let e,t,a,r,o;const s=[po,go],l=[];function i(c,g){return c[0]?0:1}return t=i(n),a=l[t]=s[t](n),{c(){e=S(),a.c(),r=ue(),this.h()},l(c){$a("svelte-1bnjr0i",document.head).forEach(m),e=A(c),a.l(c),r=ue(),this.h()},h(){document.title="Estoque - DataLife EPI"},m(c,g){y(c,e,g),l[t].m(c,g),y(c,r,g),o=!0},p(c,[g]){let f=t;t=i(c),t===f?l[t].p(c,g):(be(),b(l[f],1,1,()=>{l[f]=null}),Ee(),a=l[t],a?a.p(c,g):(a=l[t]=s[t](c),a.c()),v(a,1),a.m(r.parentNode,r))},i(c){o||(v(a),o=!0)},o(c){b(a),o=!1},d(c){c&&(m(e),m(r)),l[t].d(c)}}}function _o(n,e,t){let a=null;return Yt(async()=>{console.log("üöÄ Inicializando p√°gina de estoque com arquitetura Container/Presenter");try{await ea.initialize(),console.log("‚úÖ P√°gina de estoque pronta com arquitetura modular completa")}catch(r){console.error("‚ùå Erro ao inicializar p√°gina de estoque:",r),t(0,a=r instanceof Error?r.message:"Erro desconhecido")}}),[a]}class Vo extends at{constructor(e){super(),rt(this,e,_o,$o,ot,{})}}export{Vo as component};
