const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DbJGtLg4.js","./BC4IzclS.js","./B4v2edil.js","./IHki7fMi.js","./DX1TGYer.js","./B2ES7kX2.js","./BjlpZJOE.js","./RFpmaYW9.js","./kfAbe5SE.js","./w260OA6a.js","./Bfh1Xmv-.js","./Da9NeIrP.js","./BzorbAyo.js","./D3w6O3lo.js","./Chee89nm.js","./BCTcLe--.js","./D9IA4LO_.js","./BxXM_vYQ.js","./D_zb-ss7.js"])))=>i.map(i=>d[i]);
import{S as lt,i as rt,s as nt,d as u,p as E,q as _,B as pe,r as ve,b as I,H as Ee,K as Qt,U as Kl,L as Bl,M as it,N as It,o as vt,m as U,u as W,y as X,z as J,O as Fe,ai as Yl,V as jl,P as Yt,X as Ut,Y as Hl,Z as Rl,_ as xl,I as Pe,e as p,h as A,j as v,k as P,W as Zl,a as oe,g as z,t as F,n as Se,v as b,Q as Wt,c as f,R as _t,f as k,T as pt,A as na,x as De,C as pa,a2 as at,J as kt,D as Je,E as Xe,F as Ge,aj as xt,w as er}from"./BC4IzclS.js";import{e as Qe,t as Jt}from"./DX1TGYer.js";import"./IHki7fMi.js";import{B as Xt}from"./Bts1RGTM.js";import{g as Tt,B as Oe,a as tr}from"./B4v2edil.js";import{C as ar}from"./BeQNdKlZ.js";import{l as Gt,i as Kt}from"./BBtXiDKA.js";import{L as xe,T as Ql,P as sa,S as lr,R as rr}from"./BxXM_vYQ.js";import{I as yt}from"./D_zb-ss7.js";import{T as nr,a as sr,b as or,c as Nt,d as ir,e as Ot}from"./D0DvoTn9.js";import{E as fr}from"./Chee89nm.js";import{n as Ze}from"./DjUOQdfO.js";import{S as Ul,L as Wl}from"./CE7RIkV7.js";import{E as ur}from"./CPG7A_O1.js";import{S as va}from"./YnyuZVej.js";import{T as cr,a as ra}from"./DmUCbf90.js";import{_ as dr}from"./C1FmrZbK.js";import{M as Jl}from"./BaS0qQIQ.js";import{f as et}from"./cmi2GAyx.js";const mr=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ba(r,e,t){const a=r.slice();return a[9]=e[t].value,a[30]=e[t].label,a[32]=t,a}function gr(r){let e,t;return e=new xe({props:{class:Gt(r[4],r[13].class),show:r[11].default,$$slots:{default:[_r]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&8208&&(n.class=Gt(a[4],a[13].class)),l[0]&2048&&(n.show=a[11].default),l[0]&536885838&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function hr(r){let e,t,a=Qe(r[5]),l=[];for(let s=0;s<a.length;s+=1)l[s]=$a(ba(r,a,s));const n=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=Ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);I(s,e,i),t=!0},p(s,i){if(i[0]&536878589){a=Qe(s[5]);let o;for(o=0;o<a.length;o+=1){const c=ba(s,a,o);l[o]?(l[o].p(c,i),_(l[o],1)):(l[o]=$a(c),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(pe(),o=a.length;o<l.length;o+=1)n(o);ve()}},i(s){if(!t){for(let i=0;i<a.length;i+=1)_(l[i]);t=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)E(l[i]);t=!1},d(s){s&&u(e),vt(l,s)}}}function _r(r){let e,t,a,l,n,s,i=[{type:"checkbox"},{__value:r[9]},r[12],{class:t=Kt(r[3],r[2],!0,r[10],r[6],r[11].default||r[13].class)}],o={};for(let m=0;m<i.length;m+=1)o=it(o,i[m]);const c=r[14].default,d=jl(c,r,r[29],null);return{c(){e=v("input"),a=P(),d&&d.c(),this.h()},l(m){e=p(m,"INPUT",{type:!0,class:!0}),a=A(m),d&&d.l(m),this.h()},h(){Ut(e,o)},m(m,g){I(m,e,g),e.autofocus&&e.focus(),e.checked=r[1],I(m,a,g),d&&d.m(m,g),l=!0,n||(s=[Pe(e,"change",r[28]),Pe(e,"keyup",r[15]),Pe(e,"keydown",r[16]),Pe(e,"keypress",r[17]),Pe(e,"focus",r[18]),Pe(e,"blur",r[19]),Pe(e,"click",r[20]),Pe(e,"mouseover",r[21]),Pe(e,"mouseenter",r[22]),Pe(e,"mouseleave",r[23]),Pe(e,"paste",r[24]),Pe(e,"change",r[25])],n=!0)},p(m,g){Ut(e,o=Tt(i,[{type:"checkbox"},(!l||g[0]&512)&&{__value:m[9]},g[0]&4096&&m[12],(!l||g[0]&10316&&t!==(t=Kt(m[3],m[2],!0,m[10],m[6],m[11].default||m[13].class)))&&{class:t}])),g[0]&2&&(e.checked=m[1]),d&&d.p&&(!l||g[0]&536870912)&&Hl(d,c,m,m[29],l?xl(c,m[29],g,null):Rl(m[29]),null)},i(m){l||(_(d,m),l=!0)},o(m){E(d,m),l=!1},d(m){m&&(u(e),u(a)),d&&d.d(m),n=!1,Yt(s)}}}function pr(r){let e=r[30]+"",t,a,l,n,s,i,o,c,d,m,g,$,V=[{id:n=`checkbox-${r[32]}`},{type:"checkbox"},{__value:s=r[9]},r[12],{class:i=Kt(r[3],r[2],!0,r[10],r[6],r[8])}],O={};for(let h=0;h<V.length;h+=1)O=it(O,V[h]);const T=r[14].default,D=jl(T,r,r[29],null);return m=Zl(r[27][0]),{c(){t=F(e),a=P(),l=v("input"),o=P(),D&&D.c(),c=P(),this.h()},l(h){t=z(h,e),a=A(h),l=p(h,"INPUT",{id:!0,type:!0,class:!0}),o=A(h),D&&D.l(h),c=A(h),this.h()},h(){Ut(l,O),m.p(l)},m(h,C){I(h,t,C),I(h,a,C),I(h,l,C),l.autofocus&&l.focus(),l.checked=~(r[0]||[]).indexOf(l.__value),I(h,o,C),D&&D.m(h,C),I(h,c,C),d=!0,g||($=Pe(l,"change",r[26]),g=!0)},p(h,C){(!d||C[0]&32)&&e!==(e=h[30]+"")&&oe(t,e),Ut(l,O=Tt(V,[{id:n},{type:"checkbox"},(!d||C[0]&32&&s!==(s=h[9]))&&{__value:s},C[0]&4096&&h[12],(!d||C[0]&332&&i!==(i=Kt(h[3],h[2],!0,h[10],h[6],h[8])))&&{class:i}])),C[0]&33&&(l.checked=~(h[0]||[]).indexOf(l.__value)),D&&D.p&&(!d||C[0]&536870912)&&Hl(D,T,h,h[29],d?xl(T,h[29],C,null):Rl(h[29]),null)},i(h){d||(_(D,h),d=!0)},o(h){E(D,h),d=!1},d(h){h&&(u(t),u(a),u(l),u(o),u(c)),D&&D.d(h),m.r(),g=!1,$()}}}function $a(r){let e,t;return e=new xe({props:{class:Gt(r[4],r[7]),show:r[11].default,for:`checkbox-${r[32]}`,$$slots:{default:[pr]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&144&&(n.class=Gt(a[4],a[7])),l[0]&2048&&(n.show=a[11].default),l[0]&536875373&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function vr(r){let e,t,a,l;const n=[hr,gr],s=[];function i(o,c){return o[5].length>0?0:1}return e=i(r),t=s[e]=n[e](r),{c(){t.c(),a=Ee()},l(o){t.l(o),a=Ee()},m(o,c){s[e].m(o,c),I(o,a,c),l=!0},p(o,c){let d=e;e=i(o),e===d?s[e].p(o,c):(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),t=s[e],t?t.p(o,c):(t=s[e]=n[e](o),t.c()),_(t,1),t.m(a.parentNode,a))},i(o){l||(_(t),l=!0)},o(o){E(t),l=!1},d(o){o&&u(a),s[e].d(o)}}}function br(r,e,t){const a=["color","custom","inline","group","choices","value","checked","spacing","groupLabelClass","groupInputClass"];let l=Qt(e,a),{$$slots:n={},$$scope:s}=e;const i=Kl(n);let{color:o="primary"}=e,{custom:c=!1}=e,{inline:d=!1}=e,{group:m=[]}=e,{choices:g=[]}=e,{value:$="on"}=e,{checked:V=void 0}=e,{spacing:O=i.default?"me-2":""}=e,{groupLabelClass:T=""}=e,{groupInputClass:D=""}=e,h=Bl("background");const C=[[]];function S(M){Fe.call(this,r,M)}function w(M){Fe.call(this,r,M)}function q(M){Fe.call(this,r,M)}function N(M){Fe.call(this,r,M)}function Y(M){Fe.call(this,r,M)}function Z(M){Fe.call(this,r,M)}function y(M){Fe.call(this,r,M)}function L(M){Fe.call(this,r,M)}function ee(M){Fe.call(this,r,M)}function se(M){Fe.call(this,r,M)}function G(M){Fe.call(this,r,M)}function te(){m=Yl(C[0],this.__value,this.checked),t(0,m)}function R(){V=this.checked,t(1,V)}return r.$$set=M=>{t(13,e=it(it({},e),It(M))),t(12,l=Qt(e,a)),"color"in M&&t(2,o=M.color),"custom"in M&&t(3,c=M.custom),"inline"in M&&t(4,d=M.inline),"group"in M&&t(0,m=M.group),"choices"in M&&t(5,g=M.choices),"value"in M&&t(9,$=M.value),"checked"in M&&t(1,V=M.checked),"spacing"in M&&t(6,O=M.spacing),"groupLabelClass"in M&&t(7,T=M.groupLabelClass),"groupInputClass"in M&&t(8,D=M.groupInputClass),"$$scope"in M&&t(29,s=M.$$scope)},e=It(e),[m,V,o,c,d,g,O,T,D,$,h,i,l,e,n,S,w,q,N,Y,Z,y,L,ee,se,G,te,C,R,s]}class oa extends lt{constructor(e){super(),rt(this,e,br,vr,nt,{color:2,custom:3,inline:4,group:0,choices:5,value:9,checked:1,spacing:6,groupLabelClass:7,groupInputClass:8},null,[-1,-1])}}function $r(r){let e,t,a,l,n,s=r[4].id&&r[4].title&&ka(r),i=r[6].id&&r[6].desc&&Ea(r),o=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:r[2]},r[11],{class:l=Jt("shrink-0",r[9][r[0]??"md"],r[12].class)},{role:r[1]},{"aria-label":r[7]},{"aria-describedby":n=r[8]?r[10]:void 0},{viewBox:"0 0 24 24"}],c={};for(let d=0;d<o.length;d+=1)c=it(c,o[d]);return{c(){e=pt("svg"),s&&s.c(),t=Ee(),i&&i.c(),a=pt("path"),this.h()},l(d){e=_t(d,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var m=k(e);s&&s.l(m),t=Ee(),i&&i.l(m),a=_t(m,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(a).forEach(u),m.forEach(u),this.h()},h(){b(a,"stroke","currentColor"),b(a,"stroke-linecap","round"),b(a,"stroke-linejoin","round"),b(a,"stroke-width",r[5]),b(a,"d","M12 13V4M7 14H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2m-1-5-4 5-4-5m9 8h.01"),Wt(e,c)},m(d,m){I(d,e,m),s&&s.m(e,null),f(e,t),i&&i.m(e,null),f(e,a)},p(d,m){d[4].id&&d[4].title?s?s.p(d,m):(s=ka(d),s.c(),s.m(e,t)):s&&(s.d(1),s=null),d[6].id&&d[6].desc?i?i.p(d,m):(i=Ea(d),i.c(),i.m(e,a)):i&&(i.d(1),i=null),m&32&&b(a,"stroke-width",d[5]),Wt(e,c=Tt(o,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},m&4&&{color:d[2]},m&2048&&d[11],m&4097&&l!==(l=Jt("shrink-0",d[9][d[0]??"md"],d[12].class))&&{class:l},m&2&&{role:d[1]},m&128&&{"aria-label":d[7]},m&256&&n!==(n=d[8]?d[10]:void 0)&&{"aria-describedby":n},{viewBox:"0 0 24 24"}]))},d(d){d&&u(e),s&&s.d(),i&&i.d()}}}function kr(r){let e,t,a,l,n,s,i,o=r[4].id&&r[4].title&&wa(r),c=r[6].id&&r[6].desc&&Da(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:r[2]},r[11],{class:l=Jt("shrink-0",r[9][r[0]??"md"],r[12].class)},{role:r[1]},{"aria-label":r[7]},{"aria-describedby":n=r[8]?r[10]:void 0},{viewBox:"0 0 24 24"}],m={};for(let g=0;g<d.length;g+=1)m=it(m,d[g]);return{c(){e=pt("svg"),o&&o.c(),t=Ee(),c&&c.c(),a=pt("path"),this.h()},l(g){e=_t(g,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var $=k(e);o&&o.l($),t=Ee(),c&&c.l($),a=_t($,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(a).forEach(u),$.forEach(u),this.h()},h(){b(a,"stroke","currentColor"),b(a,"stroke-linecap","round"),b(a,"stroke-linejoin","round"),b(a,"stroke-width",r[5]),b(a,"d","M12 13V4M7 14H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2m-1-5-4 5-4-5m9 8h.01"),Wt(e,m)},m(g,$){I(g,e,$),o&&o.m(e,null),f(e,t),c&&c.m(e,null),f(e,a),s||(i=[Pe(e,"click",r[13]),Pe(e,"keydown",r[14]),Pe(e,"keyup",r[15]),Pe(e,"focus",r[16]),Pe(e,"blur",r[17]),Pe(e,"mouseenter",r[18]),Pe(e,"mouseleave",r[19]),Pe(e,"mouseover",r[20]),Pe(e,"mouseout",r[21])],s=!0)},p(g,$){g[4].id&&g[4].title?o?o.p(g,$):(o=wa(g),o.c(),o.m(e,t)):o&&(o.d(1),o=null),g[6].id&&g[6].desc?c?c.p(g,$):(c=Da(g),c.c(),c.m(e,a)):c&&(c.d(1),c=null),$&32&&b(a,"stroke-width",g[5]),Wt(e,m=Tt(d,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},$&4&&{color:g[2]},$&2048&&g[11],$&4097&&l!==(l=Jt("shrink-0",g[9][g[0]??"md"],g[12].class))&&{class:l},$&2&&{role:g[1]},$&128&&{"aria-label":g[7]},$&256&&n!==(n=g[8]?g[10]:void 0)&&{"aria-describedby":n},{viewBox:"0 0 24 24"}]))},d(g){g&&u(e),o&&o.d(),c&&c.d(),s=!1,Yt(i)}}}function ka(r){let e,t=r[4].title+"",a,l;return{c(){e=pt("title"),a=F(t),this.h()},l(n){e=_t(n,"title",{id:!0});var s=k(e);a=z(s,t),s.forEach(u),this.h()},h(){b(e,"id",l=r[4].id)},m(n,s){I(n,e,s),f(e,a)},p(n,s){s&16&&t!==(t=n[4].title+"")&&oe(a,t),s&16&&l!==(l=n[4].id)&&b(e,"id",l)},d(n){n&&u(e)}}}function Ea(r){let e,t=r[6].desc+"",a,l;return{c(){e=pt("desc"),a=F(t),this.h()},l(n){e=_t(n,"desc",{id:!0});var s=k(e);a=z(s,t),s.forEach(u),this.h()},h(){b(e,"id",l=r[6].id)},m(n,s){I(n,e,s),f(e,a)},p(n,s){s&64&&t!==(t=n[6].desc+"")&&oe(a,t),s&64&&l!==(l=n[6].id)&&b(e,"id",l)},d(n){n&&u(e)}}}function wa(r){let e,t=r[4].title+"",a,l;return{c(){e=pt("title"),a=F(t),this.h()},l(n){e=_t(n,"title",{id:!0});var s=k(e);a=z(s,t),s.forEach(u),this.h()},h(){b(e,"id",l=r[4].id)},m(n,s){I(n,e,s),f(e,a)},p(n,s){s&16&&t!==(t=n[4].title+"")&&oe(a,t),s&16&&l!==(l=n[4].id)&&b(e,"id",l)},d(n){n&&u(e)}}}function Da(r){let e,t=r[6].desc+"",a,l;return{c(){e=pt("desc"),a=F(t),this.h()},l(n){e=_t(n,"desc",{id:!0});var s=k(e);a=z(s,t),s.forEach(u),this.h()},h(){b(e,"id",l=r[6].id)},m(n,s){I(n,e,s),f(e,a)},p(n,s){s&64&&t!==(t=n[6].desc+"")&&oe(a,t),s&64&&l!==(l=n[6].id)&&b(e,"id",l)},d(n){n&&u(e)}}}function Er(r){let e;function t(n,s){return n[3]?kr:$r}let a=t(r),l=a(r);return{c(){l.c(),e=Ee()},l(n){l.l(n),e=Ee()},m(n,s){l.m(n,s),I(n,e,s)},p(n,[s]){a===(a=t(n))&&l?l.p(n,s):(l.d(1),l=a(n),l&&(l.c(),l.m(e.parentNode,e)))},i:Se,o:Se,d(n){n&&u(e),l.d(n)}}}function wr(r,e,t){const a=["size","role","color","withEvents","title","strokeWidth","desc","ariaLabel"];let l=Qt(e,a);const n=Bl("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:i=n.size||"md"}=e,{role:o=n.role||"img"}=e,{color:c=n.color||"currentColor"}=e,{withEvents:d=n.withEvents||!1}=e,{title:m={}}=e,{strokeWidth:g=n.strokeWidth||"2"}=e,{desc:$={}}=e,V=`${m.id||""} ${$.id||""}`,O=!1,{ariaLabel:T="download outline"}=e;function D(y){Fe.call(this,r,y)}function h(y){Fe.call(this,r,y)}function C(y){Fe.call(this,r,y)}function S(y){Fe.call(this,r,y)}function w(y){Fe.call(this,r,y)}function q(y){Fe.call(this,r,y)}function N(y){Fe.call(this,r,y)}function Y(y){Fe.call(this,r,y)}function Z(y){Fe.call(this,r,y)}return r.$$set=y=>{t(12,e=it(it({},e),It(y))),t(11,l=Qt(e,a)),"size"in y&&t(0,i=y.size),"role"in y&&t(1,o=y.role),"color"in y&&t(2,c=y.color),"withEvents"in y&&t(3,d=y.withEvents),"title"in y&&t(4,m=y.title),"strokeWidth"in y&&t(5,g=y.strokeWidth),"desc"in y&&t(6,$=y.desc),"ariaLabel"in y&&t(7,T=y.ariaLabel)},r.$$.update=()=>{r.$$.dirty&80&&(m.id||$.id?t(8,O=!0):t(8,O=!1))},e=It(e),[i,o,c,d,m,g,$,T,O,s,V,l,e,D,h,C,S,w,q,N,Y,Z]}class Dr extends lt{constructor(e){super(),rt(this,e,wr,Er,nt,{size:0,role:1,color:2,withEvents:3,title:4,strokeWidth:5,desc:6,ariaLabel:7})}}class Cr{async getFichaDetailData(e){try{console.log("ðŸ“‹ Carregando dados completos da ficha:",e);const[t,a,l]=await Promise.all([this.getFichaById(e),this.getColaboradorByFichaId(e),this.getEntregasByFichaId(e)]),n=this.calculateEquipamentosEmPosse(l),s=this.calculateDevolucoes(l),i=this.buildHistoricoEventos(t,l);return console.log("âœ… Dados da ficha carregados:",{fichaId:e,entregas:l.length,equipamentos:n.length,eventos:i.length}),{ficha:t,colaborador:a,entregas:l,equipamentosEmPosse:n,devolucoes:s,historicoEventos:i}}catch(t){throw console.error("âŒ Erro ao carregar dados da ficha:",t),t}}async getFichaById(e){const a=this.getMockFichas().find(l=>l.id===e);if(!a)throw new Error(`Ficha nÃ£o encontrada: ${e}`);return{id:a.id,colaboradorId:a.colaboradorId,dataEmissao:a.dataEmissao,dataValidade:a.dataValidade,status:a.status,observacoes:a.observacoes,ativo:a.ativo,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}async getColaboradorByFichaId(e){const t=await this.getFichaById(e),l=this.getMockColaboradores().find(n=>n.id===t.colaboradorId);if(!l)throw new Error(`Colaborador nÃ£o encontrado para ficha: ${e}`);return{id:l.id,nome:l.nome,cpf:l.cpf,email:l.email,telefone:l.telefone,cargo:l.cargo,dataAdmissao:l.dataAdmissao,dataDesligamento:l.dataDesligamento,contratadaId:l.contratadaId,ativo:l.ativo,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),contratada:l.contratada?{id:l.contratada.id,nome:l.contratada.nome,cnpj:l.contratada.cnpj,endereco:l.contratada.endereco,telefone:l.contratada.telefone,email:l.contratada.email,responsavel:l.contratada.responsavel,ativo:l.contratada.ativo,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:void 0}}async getEntregasByFichaId(e){return this.getMockEntregasDetalhadas(e)}async getEPIsDisponiveis(){return[{id:"1",nomeEquipamento:"Capacete de SeguranÃ§a",registroCA:"31469",categoria:"PROTECAO_CABECA",disponivel:!0,quantidade:15},{id:"2",nomeEquipamento:"Luvas de ProteÃ§Ã£o",registroCA:"15276",categoria:"PROTECAO_MAOS",disponivel:!0,quantidade:25},{id:"3",nomeEquipamento:"Ã“culos de ProteÃ§Ã£o",registroCA:"19420",categoria:"PROTECAO_OLHOS",disponivel:!0,quantidade:12},{id:"4",nomeEquipamento:"Protetor Auricular",registroCA:"5674",categoria:"PROTECAO_AUDITIVA",disponivel:!0,quantidade:30},{id:"5",nomeEquipamento:"Cinto de SeguranÃ§a",registroCA:"18392",categoria:"PROTECAO_QUEDAS",disponivel:!0,quantidade:8},{id:"6",nomeEquipamento:"Botina de SeguranÃ§a",registroCA:"12845",categoria:"PROTECAO_PES",disponivel:!0,quantidade:20},{id:"7",nomeEquipamento:"MÃ¡scara PFF2",registroCA:"42987",categoria:"PROTECAO_RESPIRATORIA",disponivel:!0,quantidade:50}]}async criarNovaEntrega(e,t){try{console.log("ðŸ“¦ Criando nova entrega:",{fichaId:e,entregaData:t}),await new Promise(l=>setTimeout(l,1e3));const a={id:this.generateDeliveryId(),fichaEPIId:e,dataEntrega:new Date().toISOString(),status:"nao_assinado",assinatura:void 0,dataAssinatura:void 0,observacoes:"",usuarioId:"user-admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await this.addEntregaToMockCache(a,t),console.log("âœ… Nova entrega criada:",a.id),a}catch(a){throw console.error("âŒ Erro ao criar entrega:",a),a}}async editarEntrega(e,t){try{return console.log("âœï¸ Editando entrega:",{entregaId:e,entregaData:t}),await new Promise(a=>setTimeout(a,800)),console.log("âœ… Entrega editada:",e),{id:e,fichaEPIId:"",dataEntrega:new Date().toISOString(),status:"nao_assinado",usuarioId:"user-admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(a){throw console.error("âŒ Erro ao editar entrega:",a),a}}async processarAssinatura(e,t){try{return console.log("âœï¸ Processando assinatura:",{entregaId:e,assinaturaData:t}),await new Promise(a=>setTimeout(a,1500)),console.log("âœ… Assinatura processada:",e),{id:e,fichaEPIId:"",dataEntrega:new Date().toISOString(),status:"assinado",assinatura:t.assinatura,dataAssinatura:new Date().toISOString(),usuarioId:"user-admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(a){throw console.error("âŒ Erro ao processar assinatura:",a),a}}async processarDevolucao(e,t){try{console.log("ðŸ”„ Processando devoluÃ§Ã£o:",{equipamentoId:e,devolucaoData:t}),await new Promise(a=>setTimeout(a,1e3)),console.log("âœ… DevoluÃ§Ã£o processada:",e)}catch(a){throw console.error("âŒ Erro ao processar devoluÃ§Ã£o:",a),a}}async cancelarEntrega(e,t){try{console.log("âŒ Cancelando entrega:",{entregaId:e,motivo:t}),await new Promise(a=>setTimeout(a,800)),console.log("âœ… Entrega cancelada:",e)}catch(a){throw console.error("âŒ Erro ao cancelar entrega:",a),a}}calculateEquipamentosEmPosse(e){return[{id:"1",nomeEquipamento:"Capacete de SeguranÃ§a",registroCA:"31469",quantidade:1,entregaId:this.generateDeliveryId(),prazoMaximoDevolucao:new Date("2024-12-15"),vencido:!0,diasVencido:20},{id:"2",nomeEquipamento:"Luvas de ProteÃ§Ã£o",registroCA:"15276",quantidade:2,entregaId:this.generateDeliveryId(),prazoMaximoDevolucao:new Date("2025-02-15"),vencido:!1}]}calculateDevolucoes(e){return[{id:"1",nomeEquipamento:"Protetor Auricular",registroCA:"5674",quantidade:1,dataDevolucao:new Date("2024-11-20"),prazoOriginal:new Date("2024-11-15"),noPrazo:!1,diasAtraso:5}]}buildHistoricoEventos(e,t){const a=[];return a.push({id:"1",tipo:"ficha_criada",data:new Date(e.dataEmissao),descricao:"Ficha criada",responsavel:"Sistema"}),t.forEach((l,n)=>{a.push({id:`entrega-${n+1}`,tipo:"entrega",data:new Date(l.dataEntrega),descricao:"Entrega realizada",responsavel:"ResponsÃ¡vel da Entrega",entregaId:l.id}),l.status==="assinado"&&l.dataAssinatura&&a.push({id:`assinatura-${n+1}`,tipo:"assinatura",data:new Date(l.dataAssinatura),descricao:"Entrega assinada",responsavel:"Colaborador"})}),a.sort((l,n)=>n.data.getTime()-l.data.getTime())}generateDeliveryId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="E";for(let a=0;a<4;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}getMockEntregasDetalhadas(e){return[{id:this.generateDeliveryId(),fichaEPIId:e,dataEntrega:new Date("2024-09-15").toISOString(),status:"assinado",assinatura:"data:image/png;base64,mock-signature",dataAssinatura:new Date("2024-09-15").toISOString(),observacoes:"",usuarioId:"user-1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:this.generateDeliveryId(),fichaEPIId:e,dataEntrega:new Date("2024-11-20").toISOString(),status:"nao_assinado",usuarioId:"user-2",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]}async addEntregaToMockCache(e,t){console.log("ðŸ’¾ Entrega adicionada Ã  cache:",{entrega:e,entregaData:t})}getMockFichas(){return[{id:"ficha-001",colaboradorId:"colab-001",dataEmissao:"2024-09-01",dataValidade:"2025-09-01",status:"ativa",observacoes:"Ficha ativa para engenheiro",ativo:!0},{id:"ficha-002",colaboradorId:"colab-002",dataEmissao:"2024-10-15",dataValidade:"2025-10-15",status:"ativa",observacoes:"Ficha ativa para tÃ©cnica",ativo:!0},{id:"ficha-003",colaboradorId:"colab-003",dataEmissao:"2024-06-10",dataValidade:"2024-12-31",status:"vencida",observacoes:"Ficha vencida - renovar",ativo:!0}]}getMockColaboradores(){return[{id:"colab-001",nome:"JoÃ£o Claudio Silva",cpf:"123.456.789-00",email:"joao.silva@techcorp.com",telefone:"(11) 99999-1111",cargo:"Engenheiro Civil",dataAdmissao:"2024-01-15",dataDesligamento:null,contratadaId:"empresa-001",ativo:!0,contratada:{id:"empresa-001",nome:"TechCorp Engenharia",cnpj:"12.345.678/0001-90",endereco:"Rua das Flores, 123",telefone:"(11) 3333-1111",email:"contato@techcorp.com",responsavel:"Maria Santos",ativo:!0}},{id:"colab-002",nome:"Maria Santos Oliveira",cpf:"987.654.321-00",email:"maria.santos@buildmax.com",telefone:"(11) 99999-2222",cargo:"TÃ©cnica em SeguranÃ§a",dataAdmissao:"2024-03-10",dataDesligamento:null,contratadaId:"empresa-002",ativo:!0,contratada:{id:"empresa-002",nome:"BuildMax ConstruÃ§Ãµes",cnpj:"98.765.432/0001-10",endereco:"Av. Industrial, 456",telefone:"(11) 3333-2222",email:"contato@buildmax.com",responsavel:"Carlos Pereira",ativo:!0}},{id:"colab-003",nome:"Pedro Costa Lima",cpf:"456.789.123-00",email:"pedro.lima@safework.com",telefone:"(11) 99999-3333",cargo:"Operador de MÃ¡quinas",dataAdmissao:"2024-02-20",dataDesligamento:null,contratadaId:"empresa-003",ativo:!0,contratada:{id:"empresa-003",nome:"SafeWork Solutions",cnpj:"11.222.333/0001-44",endereco:"Rua da SeguranÃ§a, 789",telefone:"(11) 3333-3333",email:"contato@safework.com",responsavel:"Ana Rodrigues",ativo:!0}}]}}const $t=new Cr;function Ir(r){let e,t,a;var l=r[0];function n(s,i){return{props:{class:s[3]}}}return l&&(e=pa(l,n(r))),{c(){e&&J(e.$$.fragment),t=Ee()},l(s){e&&X(e.$$.fragment,s),t=Ee()},m(s,i){e&&W(e,s,i),I(s,t,i),a=!0},p(s,i){if(i&1&&l!==(l=s[0])){if(e){pe();const o=e;E(o.$$.fragment,1,0,()=>{U(o,1)}),ve()}l?(e=pa(l,n(s)),J(e.$$.fragment),_(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else if(l){const o={};i&8&&(o.class=s[3]),e.$set(o)}},i(s){a||(e&&_(e.$$.fragment,s),a=!0)},o(s){e&&E(e.$$.fragment,s),a=!1},d(s){s&&u(t),e&&U(e,s)}}}function yr(r){let e,t,a="?",l;return{c(){e=v("div"),t=v("span"),t.textContent=a,this.h()},l(n){e=p(n,"DIV",{class:!0});var s=k(e);t=p(s,"SPAN",{class:!0,"data-svelte-h":!0}),De(t)!=="svelte-o39p2l"&&(t.textContent=a),s.forEach(u),this.h()},h(){b(t,"class","text-xs text-gray-400"),b(e,"class",l=`${r[3]} border border-gray-300 dark:border-gray-600 rounded flex items-center justify-center`)},m(n,s){I(n,e,s),f(e,t)},p(n,s){s&8&&l!==(l=`${n[3]} border border-gray-300 dark:border-gray-600 rounded flex items-center justify-center`)&&b(e,"class",l)},i:Se,o:Se,d(n){n&&u(e)}}}function Ar(r){let e,t;return{c(){e=v("div"),this.h()},l(a){e=p(a,"DIV",{class:!0}),k(e).forEach(u),this.h()},h(){b(e,"class",t=`${r[3]} bg-gray-200 dark:bg-gray-600 rounded animate-pulse`)},m(a,l){I(a,e,l)},p(a,l){l&8&&t!==(t=`${a[3]} bg-gray-200 dark:bg-gray-600 rounded animate-pulse`)&&b(e,"class",t)},i:Se,o:Se,d(a){a&&u(e)}}}function Pr(r){let e,t,a,l;const n=[Ar,yr,Ir],s=[];function i(o,c){return o[1]?0:o[2]?1:o[0]?2:-1}return~(e=i(r))&&(t=s[e]=n[e](r)),{c(){t&&t.c(),a=Ee()},l(o){t&&t.l(o),a=Ee()},m(o,c){~e&&s[e].m(o,c),I(o,a,c),l=!0},p(o,[c]){let d=e;e=i(o),e===d?~e&&s[e].p(o,c):(t&&(pe(),E(s[d],1,1,()=>{s[d]=null}),ve()),~e?(t=s[e],t?t.p(o,c):(t=s[e]=n[e](o),t.c()),_(t,1),t.m(a.parentNode,a)):t=null)},i(o){l||(_(t),l=!0)},o(o){E(t),l=!1},d(o){o&&u(a),~e&&s[e].d(o)}}}function Vr(r,e,t){let a,{name:l}=e,{className:n=""}=e,{size:s="w-4 h-4"}=e,i=null,o=!0,c=!1;const d={XMarkOutline:"XMarkOutline",UserOutline:"UserOutline",CalendarMonthOutline:"CalendarMonthOutline",ClipboardListOutline:"ClipboardListOutline",TruckOutline:"TruckOutline",ExclamationTriangleOutline:"ExclamationCircleOutline",CheckCircleOutline:"CheckCircleOutline",ClockOutline:"ClockOutline",PlusOutline:"PlusOutline",SearchOutline:"SearchOutline",PenOutline:"PenOutline",EyeOutline:"EyeOutline",FileDocOutline:"FileDocumentOutline"};return na(async()=>{try{const m=d[l]||l,g=await dr(()=>import("./DbJGtLg4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url);g[m]?t(0,i=g[m]):(console.warn(`Ãcone nÃ£o encontrado: ${m}`),t(2,c=!0))}catch(m){console.error("Erro ao carregar Ã­cone:",m),t(2,c=!0)}finally{t(1,o=!1)}}),r.$$set=m=>{"name"in m&&t(4,l=m.name),"className"in m&&t(5,n=m.className),"size"in m&&t(6,s=m.size)},r.$$.update=()=>{r.$$.dirty&96&&t(3,a=`${s} ${n}`)},[i,o,c,a,l,n,s]}class ye extends lt{constructor(e){super(),rt(this,e,Vr,Pr,nt,{name:4,className:5,size:6})}}function Ca(r){let e,t,a;return{c(){e=v("span"),t=F(r[3]),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=k(e);t=z(n,r[3]),n.forEach(u),this.h()},h(){b(e,"class",a="font-medium text-gray-900 dark:text-white "+r[1])},m(l,n){I(l,e,n),f(e,t)},p(l,n){n&8&&oe(t,l[3]),n&2&&a!==(a="font-medium text-gray-900 dark:text-white "+l[1])&&b(e,"class",a)},d(l){l&&u(e)}}}function qr(r){let e,t,a,l,n,s=r[0]&&Ca(r);return{c(){e=v("div"),t=v("div"),l=P(),s&&s.c(),this.h()},l(i){e=p(i,"DIV",{class:!0});var o=k(e);t=p(o,"DIV",{class:!0,style:!0}),k(t).forEach(u),l=A(o),s&&s.l(o),o.forEach(u),this.h()},h(){b(t,"class",a="rounded-full "+r[2]+" border border-white dark:border-gray-800"),at(t,"background-color",r[4]),b(e,"class",n="inline-flex items-center gap-2 "+(r[5].class||""))},m(i,o){I(i,e,o),f(e,t),f(e,l),s&&s.m(e,null)},p(i,[o]){o&4&&a!==(a="rounded-full "+i[2]+" border border-white dark:border-gray-800")&&b(t,"class",a),o&16&&at(t,"background-color",i[4]),i[0]?s?s.p(i,o):(s=Ca(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o&32&&n!==(n="inline-flex items-center gap-2 "+(i[5].class||""))&&b(e,"class",n)},i:Se,o:Se,d(i){i&&u(e),s&&s.d()}}}function Sr(r,e,t){let a,l,n,s,{status:i}=e,{type:o="ficha"}=e,{showText:c=!0}=e,{size:d="md"}=e;const m={ficha:{ativo:"#00B8AA",vencido:"#FF4563",suspenso:"#D98C29",arquivado:"#535D72",inativo:"#535D72"},colaborador:{ativo:"#00B8AA",inativo:"#535D72",desligado:"#FF4563",suspenso:"#D98C29"},entrega:{assinado:"#00B8AA",nao_assinado:"#D98C29",pendente:"#D98C29",cancelado:"#FF4563"},item:{disponivel:"#00B8AA",baixo_estoque:"#D98C29",esgotado:"#FF4563",vencido:"#FF4563",vencendo:"#D98C29"},movimento:{entrada:"#00B8AA",saida:"#FF4563",ajuste:"#3F83F8",transferencia:"#3F83F8"}},g={ativo:"Ativo",vencido:"Vencido",suspenso:"Suspenso",arquivado:"Arquivado",inativo:"Inativo",assinado:"Assinado",nao_assinado:"NÃ£o Assinado",pendente:"Pendente",cancelado:"Cancelado",disponivel:"DisponÃ­vel",baixo_estoque:"Baixo Estoque",esgotado:"Esgotado",vencendo:"Vencendo",entrada:"Entrada",saida:"SaÃ­da",ajuste:"Ajuste",transferencia:"TransferÃªncia"},$={sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3"},V={sm:"text-xs",md:"text-sm",lg:"text-base"};return r.$$set=O=>{t(5,e=it(it({},e),It(O))),"status"in O&&t(6,i=O.status),"type"in O&&t(7,o=O.type),"showText"in O&&t(0,c=O.showText),"size"in O&&t(8,d=O.size)},r.$$.update=()=>{var O;r.$$.dirty&192&&t(4,a=((O=m[o])==null?void 0:O[i])||"#535D72"),r.$$.dirty&64&&t(3,l=g[i]||i),r.$$.dirty&256&&t(2,n=$[d]),r.$$.dirty&256&&t(1,s=V[d])},e=It(e),[c,s,n,l,a,e,i,o,d]}class Nr extends lt{constructor(e){super(),rt(this,e,Sr,qr,nt,{status:6,type:7,showText:0,size:8})}}function Ia(r,e,t){const a=r.slice();return a[18]=e[t],a[20]=t,a}function ya(r){let e,t,a,l,n;return t=new ye({props:{name:"CloseOutline",size:"w-5 h-5",className:"text-gray-600 dark:text-gray-400"}}),{c(){e=v("button"),J(t.$$.fragment),this.h()},l(s){e=p(s,"BUTTON",{class:!0});var i=k(e);X(t.$$.fragment,i),i.forEach(u),this.h()},h(){b(e,"class","rounded-full p-2 w-10 h-10 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors")},m(s,i){I(s,e,i),W(t,e,null),a=!0,l||(n=Pe(e,"click",r[12]),l=!0)},p:Se,i(s){a||(_(t.$$.fragment,s),a=!0)},o(s){E(t.$$.fragment,s),a=!1},d(s){s&&u(e),U(t),l=!1,n()}}}function Aa(r){let e,t;return{c(){e=v("p"),t=F(r[1]),this.h()},l(a){e=p(a,"P",{class:!0,style:!0});var l=k(e);t=z(l,r[1]),l.forEach(u),this.h()},h(){b(e,"class","text-xs font-medium text-gray-900 dark:text-white uppercase tracking-wider mb-1"),at(e,"font-size","11px")},m(a,l){I(a,e,l),f(e,t)},p(a,l){l&2&&oe(t,a[1])},d(a){a&&u(e)}}}function Pa(r){let e,t,a;return t=new Nr({props:{status:r[3],type:r[4],size:"md"}}),{c(){e=v("div"),J(t.$$.fragment),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=k(e);X(t.$$.fragment,n),n.forEach(u),this.h()},h(){b(e,"class","flex-shrink-0")},m(l,n){I(l,e,n),W(t,e,null),a=!0},p(l,n){const s={};n&8&&(s.status=l[3]),n&16&&(s.type=l[4]),t.$set(s)},i(l){a||(_(t.$$.fragment,l),a=!0)},o(l){E(t.$$.fragment,l),a=!1},d(l){l&&u(e),U(t)}}}function Va(r){let e;return{c(){e=v("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),k(e).forEach(u),this.h()},h(){b(e,"class","w-4")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function qa(r){let e,t;return e=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm border border-gray-300 dark:border-gray-600 p-2",$$slots:{default:[Or]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l&2097152&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Or(r){let e,t;return e=new ye({props:{name:"EllipsisVerticalOutline",size:"w-4 h-4"}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p:Se,i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Sa(r){let e,t;return e=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm border border-gray-300 dark:border-gray-600",disabled:r[8].disabled,$$slots:{default:[Tr]},$$scope:{ctx:r}}}),e.$on("click",r[15]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l&256&&(n.disabled=a[8].disabled),l&2097408&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Na(r){let e,t;return e=new ye({props:{name:r[8].icon,className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l&256&&(n.name=a[8].icon),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Tr(r){let e,t=r[8].text+"",a,l,n=r[8].icon&&Na(r);return{c(){n&&n.c(),e=P(),a=F(t)},l(s){n&&n.l(s),e=A(s),a=z(s,t)},m(s,i){n&&n.m(s,i),I(s,e,i),I(s,a,i),l=!0},p(s,i){s[8].icon?n?(n.p(s,i),i&256&&_(n,1)):(n=Na(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(pe(),E(n,1,1,()=>{n=null}),ve()),(!l||i&256)&&t!==(t=s[8].text+"")&&oe(a,t)},i(s){l||(_(n),l=!0)},o(s){E(n),l=!1},d(s){s&&(u(e),u(a)),n&&n.d(s)}}}function Oa(r){let e,t;return e=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm border border-gray-300 dark:border-gray-600",disabled:r[7].disabled,$$slots:{default:[zr]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l&128&&(n.disabled=a[7].disabled),l&2097280&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Ta(r){let e,t;return e=new ye({props:{name:r[7].icon,className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l&128&&(n.name=a[7].icon),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function zr(r){let e,t=r[7].text+"",a,l,n=r[7].icon&&Ta(r);return{c(){n&&n.c(),e=P(),a=F(t)},l(s){n&&n.l(s),e=A(s),a=z(s,t)},m(s,i){n&&n.m(s,i),I(s,e,i),I(s,a,i),l=!0},p(s,i){s[7].icon?n?(n.p(s,i),i&128&&_(n,1)):(n=Ta(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(pe(),E(n,1,1,()=>{n=null}),ve()),(!l||i&128)&&t!==(t=s[7].text+"")&&oe(a,t)},i(s){l||(_(n),l=!0)},o(s){E(n),l=!1},d(s){s&&(u(e),u(a)),n&&n.d(s)}}}function za(r){let e,t;return e=new Oe({props:{size:"sm",color:"primary",class:"rounded-sm",disabled:r[6].disabled,$$slots:{default:[Fr]},$$scope:{ctx:r}}}),e.$on("click",r[13]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l&64&&(n.disabled=a[6].disabled),l&2097216&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Fa(r){let e,t;return e=new ye({props:{name:r[6].icon,className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l&64&&(n.name=a[6].icon),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Fr(r){let e,t=r[6].text+"",a,l,n=r[6].icon&&Fa(r);return{c(){n&&n.c(),e=P(),a=F(t)},l(s){n&&n.l(s),e=A(s),a=z(s,t)},m(s,i){n&&n.m(s,i),I(s,e,i),I(s,a,i),l=!0},p(s,i){s[6].icon?n?(n.p(s,i),i&64&&_(n,1)):(n=Fa(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(pe(),E(n,1,1,()=>{n=null}),ve()),(!l||i&64)&&t!==(t=s[6].text+"")&&oe(a,t)},i(s){l||(_(n),l=!0)},o(s){E(n),l=!1},d(s){s&&(u(e),u(a)),n&&n.d(s)}}}function Ma(r){let e,t=Qe(r[5]),a=[];for(let l=0;l<t.length;l+=1)a[l]=Ba(Ia(r,t,l));return{c(){e=v("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0,style:!0});var n=k(e);for(let s=0;s<a.length;s+=1)a[s].l(n);n.forEach(u),this.h()},h(){b(e,"class","flex items-center gap-1 text-gray-600 dark:text-gray-400 mt-1"),at(e,"font-size","12px")},m(l,n){I(l,e,n);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null)},p(l,n){if(n&32){t=Qe(l[5]);let s;for(s=0;s<t.length;s+=1){const i=Ia(l,t,s);a[s]?a[s].p(i,n):(a[s]=Ba(i),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=t.length}},d(l){l&&u(e),vt(a,l)}}}function La(r){let e,t="â€¢";return{c(){e=v("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-9uw2yr"&&(e.textContent=t),this.h()},h(){b(e,"class","text-gray-400")},m(a,l){I(a,e,l)},d(a){a&&u(e)}}}function Ba(r){let e,t=r[18]+"",a,l,n,s=r[20]<r[5].length-1&&La();return{c(){e=v("span"),a=F(t),l=P(),s&&s.c(),n=Ee()},l(i){e=p(i,"SPAN",{});var o=k(e);a=z(o,t),o.forEach(u),l=A(i),s&&s.l(i),n=Ee()},m(i,o){I(i,e,o),f(e,a),I(i,l,o),s&&s.m(i,o),I(i,n,o)},p(i,o){o&32&&t!==(t=i[18]+"")&&oe(a,t),i[20]<i[5].length-1?s||(s=La(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(i){i&&(u(e),u(l),u(n)),s&&s.d(i)}}}function Mr(r){let e,t,a,l,n,s,i,o,c,d,m,g,$,V,O,T,D,h,C,S,w=r[10]&&ya(r),q=r[1]&&Aa(r);i=new ye({props:{name:r[2],className:"text-gray-900 dark:text-white",size:"w-6 h-6"}});let N=r[3]&&Pa(r),Y=r[3]&&(r[6]||r[7]||r[8]||r[9])&&Va(),Z=r[9]&&qa(r),y=r[8]&&Sa(r),L=r[7]&&Oa(r),ee=r[6]&&za(r),se=r[5].length>0&&Ma(r);return{c(){e=v("div"),w&&w.c(),t=P(),a=v("div"),q&&q.c(),l=P(),n=v("div"),s=v("div"),J(i.$$.fragment),o=P(),c=v("h2"),d=F(r[0]),g=P(),N&&N.c(),$=P(),Y&&Y.c(),V=P(),O=v("div"),Z&&Z.c(),T=P(),y&&y.c(),D=P(),L&&L.c(),h=P(),ee&&ee.c(),C=P(),se&&se.c(),this.h()},l(G){e=p(G,"DIV",{class:!0});var te=k(e);w&&w.l(te),t=A(te),a=p(te,"DIV",{class:!0});var R=k(a);q&&q.l(R),l=A(R),n=p(R,"DIV",{class:!0});var M=k(n);s=p(M,"DIV",{class:!0});var K=k(s);X(i.$$.fragment,K),K.forEach(u),o=A(M),c=p(M,"H2",{class:!0,style:!0});var le=k(c);d=z(le,r[0]),le.forEach(u),g=A(M),N&&N.l(M),$=A(M),Y&&Y.l(M),V=A(M),O=p(M,"DIV",{class:!0});var Q=k(O);Z&&Z.l(Q),T=A(Q),y&&y.l(Q),D=A(Q),L&&L.l(Q),h=A(Q),ee&&ee.l(Q),Q.forEach(u),M.forEach(u),C=A(R),se&&se.l(R),R.forEach(u),te.forEach(u),this.h()},h(){b(s,"class","flex-shrink-0"),b(c,"class",m="font-medium text-gray-900 dark:text-white "+(r[11]?"truncate":"")+" flex-1 min-w-0 svelte-3dzcad"),at(c,"font-size","18px"),at(c,"line-height","1.2"),b(O,"class","flex items-center gap-2 flex-shrink-0"),b(n,"class","flex items-center gap-2.5"),b(a,"class","flex-1 min-w-0 flex flex-col"),b(e,"class","flex items-center gap-3 px-3 py-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800")},m(G,te){I(G,e,te),w&&w.m(e,null),f(e,t),f(e,a),q&&q.m(a,null),f(a,l),f(a,n),f(n,s),W(i,s,null),f(n,o),f(n,c),f(c,d),f(n,g),N&&N.m(n,null),f(n,$),Y&&Y.m(n,null),f(n,V),f(n,O),Z&&Z.m(O,null),f(O,T),y&&y.m(O,null),f(O,D),L&&L.m(O,null),f(O,h),ee&&ee.m(O,null),f(a,C),se&&se.m(a,null),S=!0},p(G,[te]){G[10]?w?(w.p(G,te),te&1024&&_(w,1)):(w=ya(G),w.c(),_(w,1),w.m(e,t)):w&&(pe(),E(w,1,1,()=>{w=null}),ve()),G[1]?q?q.p(G,te):(q=Aa(G),q.c(),q.m(a,l)):q&&(q.d(1),q=null);const R={};te&4&&(R.name=G[2]),i.$set(R),(!S||te&1)&&oe(d,G[0]),(!S||te&2048&&m!==(m="font-medium text-gray-900 dark:text-white "+(G[11]?"truncate":"")+" flex-1 min-w-0 svelte-3dzcad"))&&b(c,"class",m),G[3]?N?(N.p(G,te),te&8&&_(N,1)):(N=Pa(G),N.c(),_(N,1),N.m(n,$)):N&&(pe(),E(N,1,1,()=>{N=null}),ve()),G[3]&&(G[6]||G[7]||G[8]||G[9])?Y||(Y=Va(),Y.c(),Y.m(n,V)):Y&&(Y.d(1),Y=null),G[9]?Z?(Z.p(G,te),te&512&&_(Z,1)):(Z=qa(G),Z.c(),_(Z,1),Z.m(O,T)):Z&&(pe(),E(Z,1,1,()=>{Z=null}),ve()),G[8]?y?(y.p(G,te),te&256&&_(y,1)):(y=Sa(G),y.c(),_(y,1),y.m(O,D)):y&&(pe(),E(y,1,1,()=>{y=null}),ve()),G[7]?L?(L.p(G,te),te&128&&_(L,1)):(L=Oa(G),L.c(),_(L,1),L.m(O,h)):L&&(pe(),E(L,1,1,()=>{L=null}),ve()),G[6]?ee?(ee.p(G,te),te&64&&_(ee,1)):(ee=za(G),ee.c(),_(ee,1),ee.m(O,null)):ee&&(pe(),E(ee,1,1,()=>{ee=null}),ve()),G[5].length>0?se?se.p(G,te):(se=Ma(G),se.c(),se.m(a,null)):se&&(se.d(1),se=null)},i(G){S||(_(w),_(i.$$.fragment,G),_(N),_(Z),_(y),_(L),_(ee),S=!0)},o(G){E(w),E(i.$$.fragment,G),E(N),E(Z),E(y),E(L),E(ee),S=!1},d(G){G&&u(e),w&&w.d(),q&&q.d(),U(i),N&&N.d(),Y&&Y.d(),Z&&Z.d(),y&&y.d(),L&&L.d(),ee&&ee.d(),se&&se.d()}}}function Lr(r,e,t){const a=kt();let{title:l}=e,{objectType:n=""}=e,{iconName:s="UserOutline"}=e,{status:i=""}=e,{statusType:o="ficha"}=e,{additionalInfo:c=[]}=e,{primaryAction:d=null}=e,{secondaryAction:m=null}=e,{tertiaryAction:g=null}=e,{showMoreActions:$=!1}=e,{showCloseButton:V=!0}=e,{truncateTitle:O=!0}=e;function T(){a("close")}function D(){d&&!d.disabled&&a("primaryAction")}function h(){m&&!m.disabled&&a("secondaryAction")}function C(){g&&!g.disabled&&a("tertiaryAction")}function S(){a("moreActions")}return r.$$set=w=>{"title"in w&&t(0,l=w.title),"objectType"in w&&t(1,n=w.objectType),"iconName"in w&&t(2,s=w.iconName),"status"in w&&t(3,i=w.status),"statusType"in w&&t(4,o=w.statusType),"additionalInfo"in w&&t(5,c=w.additionalInfo),"primaryAction"in w&&t(6,d=w.primaryAction),"secondaryAction"in w&&t(7,m=w.secondaryAction),"tertiaryAction"in w&&t(8,g=w.tertiaryAction),"showMoreActions"in w&&t(9,$=w.showMoreActions),"showCloseButton"in w&&t(10,V=w.showCloseButton),"truncateTitle"in w&&t(11,O=w.truncateTitle)},[l,n,s,i,o,c,d,m,g,$,V,O,T,D,h,C,S]}class ia extends lt{constructor(e){super(),rt(this,e,Lr,Mr,nt,{title:0,objectType:1,iconName:2,status:3,statusType:4,additionalInfo:5,primaryAction:6,secondaryAction:7,tertiaryAction:8,showMoreActions:9,showCloseButton:10,truncateTitle:11})}}function ja(r,e,t){const a=r.slice();return a[23]=e[t],a[24]=e,a[25]=t,a}function Ha(r){let e,t,a,l,n,s,i,o,c,d,m,g,$,V,O,T,D,h,C,S,w,q,N,Y,Z,y,L,ee,se,G,te;l=new ia({props:{title:"Nova Entrega de EPI"}}),l.$on("close",r[12]),c=new xe({props:{for:"responsavel",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[Br]},$$scope:{ctx:r}}});function R(B){r[14](B)}let M={id:"responsavel",type:"text",placeholder:"Nome do responsÃ¡vel pela entrega",class:"rounded-sm "+(r[4].responsavel?"border-red-500":""),disabled:r[0]};r[2]!==void 0&&(M.value=r[2]),m=new yt({props:M}),Je.push(()=>Xe(m,"value",R));let K=r[4].responsavel&&Ra(r);D=new xe({props:{class:"text-sm font-medium text-gray-700 dark:text-gray-300",$$slots:{default:[jr]},$$scope:{ctx:r}}}),C=new Oe({props:{size:"xs",color:"alternative",class:"rounded-sm",disabled:r[0],$$slots:{default:[Hr]},$$scope:{ctx:r}}}),C.$on("click",r[7]);let le=r[4].items&&xa(r),Q=Qe(r[3]),H=[];for(let B=0;B<Q.length;B+=1)H[B]=Xa(ja(r,Q,B));const ce=B=>E(H[B],1,1,()=>{H[B]=null});let x=r[3].length===0&&Ga(r),ne=r[3].length>0&&Ka(r);return ee=new Oe({props:{color:"alternative",class:"rounded-sm",disabled:r[0],$$slots:{default:[Ur]},$$scope:{ctx:r}}}),ee.$on("click",r[12]),G=new Oe({props:{color:"primary",class:"rounded-sm",disabled:!r[5],$$slots:{default:[Xr]},$$scope:{ctx:r}}}),G.$on("click",r[11]),{c(){e=v("div"),t=P(),a=v("div"),J(l.$$.fragment),n=P(),s=v("div"),i=v("div"),o=v("div"),J(c.$$.fragment),d=P(),J(m.$$.fragment),$=P(),K&&K.c(),V=P(),O=v("div"),T=v("div"),J(D.$$.fragment),h=P(),J(C.$$.fragment),S=P(),le&&le.c(),w=P(),q=v("div");for(let B=0;B<H.length;B+=1)H[B].c();N=P(),x&&x.c(),Y=P(),ne&&ne.c(),Z=P(),y=v("div"),L=v("div"),J(ee.$$.fragment),se=P(),J(G.$$.fragment),this.h()},l(B){e=p(B,"DIV",{class:!0}),k(e).forEach(u),t=A(B),a=p(B,"DIV",{class:!0});var j=k(a);X(l.$$.fragment,j),n=A(j),s=p(j,"DIV",{class:!0});var Ce=k(s);i=p(Ce,"DIV",{class:!0});var ae=k(i);o=p(ae,"DIV",{class:!0});var ie=k(o);X(c.$$.fragment,ie),d=A(ie),X(m.$$.fragment,ie),$=A(ie),K&&K.l(ie),ie.forEach(u),V=A(ae),O=p(ae,"DIV",{class:!0});var de=k(O);T=p(de,"DIV",{class:!0});var re=k(T);X(D.$$.fragment,re),h=A(re),X(C.$$.fragment,re),re.forEach(u),S=A(de),le&&le.l(de),w=A(de),q=p(de,"DIV",{class:!0});var ue=k(q);for(let be=0;be<H.length;be+=1)H[be].l(ue);N=A(ue),x&&x.l(ue),ue.forEach(u),de.forEach(u),Y=A(ae),ne&&ne.l(ae),ae.forEach(u),Z=A(Ce),y=p(Ce,"DIV",{class:!0});var he=k(y);L=p(he,"DIV",{class:!0});var me=k(L);X(ee.$$.fragment,me),se=A(me),X(G.$$.fragment,me),me.forEach(u),he.forEach(u),Ce.forEach(u),j.forEach(u),this.h()},h(){b(e,"class","fixed inset-0 bg-black bg-opacity-50 z-55 transition-opacity"),b(o,"class","mb-6"),b(T,"class","flex items-center justify-between mb-4"),b(q,"class","space-y-4"),b(O,"class","mb-6"),b(i,"class","flex-1 overflow-y-auto custom-scrollbar p-6 svelte-ng7f9w"),b(L,"class","flex items-center justify-end space-x-3"),b(y,"class","flex-shrink-0 bg-gray-50 dark:bg-gray-800 px-6 py-4 border-t border-gray-200 dark:border-gray-700"),b(s,"class","flex flex-col h-full"),b(a,"class","fixed top-0 right-0 h-full w-full max-w-2xl bg-white dark:bg-gray-900 shadow-2xl z-60 transform transition-transform duration-300 ease-in-out")},m(B,j){I(B,e,j),I(B,t,j),I(B,a,j),W(l,a,null),f(a,n),f(a,s),f(s,i),f(i,o),W(c,o,null),f(o,d),W(m,o,null),f(o,$),K&&K.m(o,null),f(i,V),f(i,O),f(O,T),W(D,T,null),f(T,h),W(C,T,null),f(O,S),le&&le.m(O,null),f(O,w),f(O,q);for(let Ce=0;Ce<H.length;Ce+=1)H[Ce]&&H[Ce].m(q,null);f(q,N),x&&x.m(q,null),f(i,Y),ne&&ne.m(i,null),f(s,Z),f(s,y),f(y,L),W(ee,L,null),f(L,se),W(G,L,null),te=!0},p(B,j){const Ce={};j&67108864&&(Ce.$$scope={dirty:j,ctx:B}),c.$set(Ce);const ae={};j&16&&(ae.class="rounded-sm "+(B[4].responsavel?"border-red-500":"")),j&1&&(ae.disabled=B[0]),!g&&j&4&&(g=!0,ae.value=B[2],Ge(()=>g=!1)),m.$set(ae),B[4].responsavel?K?K.p(B,j):(K=Ra(B),K.c(),K.m(o,null)):K&&(K.d(1),K=null);const ie={};j&67108864&&(ie.$$scope={dirty:j,ctx:B}),D.$set(ie);const de={};if(j&1&&(de.disabled=B[0]),j&67108864&&(de.$$scope={dirty:j,ctx:B}),C.$set(de),B[4].items?le?le.p(B,j):(le=xa(B),le.c(),le.m(O,w)):le&&(le.d(1),le=null),j&1881){Q=Qe(B[3]);let he;for(he=0;he<Q.length;he+=1){const me=ja(B,Q,he);H[he]?(H[he].p(me,j),_(H[he],1)):(H[he]=Xa(me),H[he].c(),_(H[he],1),H[he].m(q,N))}for(pe(),he=Q.length;he<H.length;he+=1)ce(he);ve()}B[3].length===0?x?(x.p(B,j),j&8&&_(x,1)):(x=Ga(B),x.c(),_(x,1),x.m(q,null)):x&&(pe(),E(x,1,1,()=>{x=null}),ve()),B[3].length>0?ne?ne.p(B,j):(ne=Ka(B),ne.c(),ne.m(i,null)):ne&&(ne.d(1),ne=null);const re={};j&1&&(re.disabled=B[0]),j&67108864&&(re.$$scope={dirty:j,ctx:B}),ee.$set(re);const ue={};j&32&&(ue.disabled=!B[5]),j&67108865&&(ue.$$scope={dirty:j,ctx:B}),G.$set(ue)},i(B){if(!te){_(l.$$.fragment,B),_(c.$$.fragment,B),_(m.$$.fragment,B),_(D.$$.fragment,B),_(C.$$.fragment,B);for(let j=0;j<Q.length;j+=1)_(H[j]);_(x),_(ee.$$.fragment,B),_(G.$$.fragment,B),te=!0}},o(B){E(l.$$.fragment,B),E(c.$$.fragment,B),E(m.$$.fragment,B),E(D.$$.fragment,B),E(C.$$.fragment,B),H=H.filter(Boolean);for(let j=0;j<H.length;j+=1)E(H[j]);E(x),E(ee.$$.fragment,B),E(G.$$.fragment,B),te=!1},d(B){B&&(u(e),u(t),u(a)),U(l),U(c),U(m),K&&K.d(),U(D),U(C),le&&le.d(),vt(H,B),x&&x.d(),ne&&ne.d(),U(ee),U(G)}}}function Br(r){let e;return{c(){e=F("ResponsÃ¡vel pela Entrega *")},l(t){e=z(t,"ResponsÃ¡vel pela Entrega *")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ra(r){let e,t=r[4].responsavel+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&16&&t!==(t=l[4].responsavel+"")&&oe(a,t)},d(l){l&&u(e)}}}function jr(r){let e;return{c(){e=F("EPIs para Entrega *")},l(t){e=z(t,"EPIs para Entrega *")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Hr(r){let e,t,a;return e=new ye({props:{name:"PlusOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
              Adicionar Item`)},l(l){X(e.$$.fragment,l),t=z(l,`
              Adicionar Item`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},p:Se,i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function xa(r){let e,t=r[4].items+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mb-3 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&16&&t!==(t=l[4].items+"")&&oe(a,t)},d(l){l&&u(e)}}}function Qa(r){let e,t,a,l,n;t=new ye({props:{name:"TrashBinOutline",size:"w-4 h-4"}});function s(){return r[15](r[25])}return{c(){e=v("button"),J(t.$$.fragment),this.h()},l(i){e=p(i,"BUTTON",{class:!0,title:!0});var o=k(e);X(t.$$.fragment,o),o.forEach(u),this.h()},h(){b(e,"class","text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"),e.disabled=r[0],b(e,"title","Remover item")},m(i,o){I(i,e,o),W(t,e,null),a=!0,l||(n=Pe(e,"click",s),l=!0)},p(i,o){r=i,(!a||o&1)&&(e.disabled=r[0])},i(i){a||(_(t.$$.fragment,i),a=!0)},o(i){E(t.$$.fragment,i),a=!1},d(i){i&&u(e),U(t),l=!1,n()}}}function Rr(r){let e;return{c(){e=F("Equipamento")},l(t){e=z(t,"Equipamento")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ua(r){let e,t=r[4][`item-${r[25]}`]+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&16&&t!==(t=l[4][`item-${l[25]}`]+"")&&oe(a,t)},d(l){l&&u(e)}}}function xr(r){let e;return{c(){e=F("Quantidade")},l(t){e=z(t,"Quantidade")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Wa(r){let e,t=r[4][`quantidade-${r[25]}`]+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&16&&t!==(t=l[4][`quantidade-${l[25]}`]+"")&&oe(a,t)},d(l){l&&u(e)}}}function Ja(r){let e,t,a,l,n=r[23].nomeEquipamento+"",s,i,o,c,d=r[23].registroCA+"",m,g,$,V,O,T=r[23].quantidade+"",D;return{c(){e=v("div"),t=v("div"),a=v("div"),l=v("p"),s=F(n),i=P(),o=v("p"),c=F("CA "),m=F(d),g=P(),$=v("div"),V=v("p"),O=F("Qtd: "),D=F(T),this.h()},l(h){e=p(h,"DIV",{class:!0});var C=k(e);t=p(C,"DIV",{class:!0});var S=k(t);a=p(S,"DIV",{});var w=k(a);l=p(w,"P",{class:!0});var q=k(l);s=z(q,n),q.forEach(u),i=A(w),o=p(w,"P",{class:!0});var N=k(o);c=z(N,"CA "),m=z(N,d),N.forEach(u),w.forEach(u),g=A(S),$=p(S,"DIV",{class:!0});var Y=k($);V=p(Y,"P",{class:!0});var Z=k(V);O=z(Z,"Qtd: "),D=z(Z,T),Z.forEach(u),Y.forEach(u),S.forEach(u),C.forEach(u),this.h()},h(){b(l,"class","text-sm font-medium text-gray-900 dark:text-white"),b(o,"class","text-xs text-gray-500 dark:text-gray-400"),b(V,"class","text-sm font-medium text-gray-900 dark:text-white"),b($,"class","text-right"),b(t,"class","flex items-center justify-between"),b(e,"class","mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-sm")},m(h,C){I(h,e,C),f(e,t),f(t,a),f(a,l),f(l,s),f(a,i),f(a,o),f(o,c),f(o,m),f(t,g),f(t,$),f($,V),f(V,O),f(V,D)},p(h,C){C&8&&n!==(n=h[23].nomeEquipamento+"")&&oe(s,n),C&8&&d!==(d=h[23].registroCA+"")&&oe(m,d),C&8&&T!==(T=h[23].quantidade+"")&&oe(D,T)},d(h){h&&u(e)}}}function Xa(r){let e,t,a,l,n=r[25]+1+"",s,i,o,c,d,m,g,$,V,O,T,D,h,C,S,w,q,N,Y,Z,y=r[3].length>1&&Qa(r);m=new xe({props:{for:"epi-"+r[25],class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[Rr]},$$scope:{ctx:r}}});function L(Q){r[16](Q,r[23])}function ee(...Q){return r[17](r[25],...Q)}let se={id:"epi-"+r[25],items:r[6],class:"rounded-sm "+(r[4][`item-${r[25]}`]?"border-red-500":""),disabled:r[0]};r[23].episDisponivelId!==void 0&&(se.value=r[23].episDisponivelId),$=new Ul({props:se}),Je.push(()=>Xe($,"value",L)),$.$on("change",ee);let G=r[4][`item-${r[25]}`]&&Ua(r);h=new xe({props:{for:"quantidade-"+r[25],class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[xr]},$$scope:{ctx:r}}});function te(Q){r[18](Q,r[23])}function R(...Q){return r[19](r[25],...Q)}let M={id:"quantidade-"+r[25],type:"number",min:"1",max:"100",class:"rounded-sm "+(r[4][`quantidade-${r[25]}`]?"border-red-500":""),disabled:r[0]};r[23].quantidade!==void 0&&(M.value=r[23].quantidade),S=new yt({props:M}),Je.push(()=>Xe(S,"value",te)),S.$on("input",R);let K=r[4][`quantidade-${r[25]}`]&&Wa(r),le=r[23].nomeEquipamento&&Ja(r);return{c(){e=v("div"),t=v("div"),a=v("h4"),l=F("Item "),s=F(n),i=P(),y&&y.c(),o=P(),c=v("div"),d=v("div"),J(m.$$.fragment),g=P(),J($.$$.fragment),O=P(),G&&G.c(),T=P(),D=v("div"),J(h.$$.fragment),C=P(),J(S.$$.fragment),q=P(),K&&K.c(),N=P(),le&&le.c(),Y=P(),this.h()},l(Q){e=p(Q,"DIV",{class:!0});var H=k(e);t=p(H,"DIV",{class:!0});var ce=k(t);a=p(ce,"H4",{class:!0});var x=k(a);l=z(x,"Item "),s=z(x,n),x.forEach(u),i=A(ce),y&&y.l(ce),ce.forEach(u),o=A(H),c=p(H,"DIV",{class:!0});var ne=k(c);d=p(ne,"DIV",{class:!0});var B=k(d);X(m.$$.fragment,B),g=A(B),X($.$$.fragment,B),O=A(B),G&&G.l(B),B.forEach(u),T=A(ne),D=p(ne,"DIV",{});var j=k(D);X(h.$$.fragment,j),C=A(j),X(S.$$.fragment,j),q=A(j),K&&K.l(j),j.forEach(u),ne.forEach(u),N=A(H),le&&le.l(H),Y=A(H),H.forEach(u),this.h()},h(){b(a,"class","text-sm font-medium text-gray-900 dark:text-white"),b(t,"class","flex items-start justify-between mb-4"),b(d,"class","md:col-span-2"),b(c,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),b(e,"class","border border-gray-200 dark:border-gray-700 rounded-lg p-4")},m(Q,H){I(Q,e,H),f(e,t),f(t,a),f(a,l),f(a,s),f(t,i),y&&y.m(t,null),f(e,o),f(e,c),f(c,d),W(m,d,null),f(d,g),W($,d,null),f(d,O),G&&G.m(d,null),f(c,T),f(c,D),W(h,D,null),f(D,C),W(S,D,null),f(D,q),K&&K.m(D,null),f(e,N),le&&le.m(e,null),f(e,Y),Z=!0},p(Q,H){r=Q,r[3].length>1?y?(y.p(r,H),H&8&&_(y,1)):(y=Qa(r),y.c(),_(y,1),y.m(t,null)):y&&(pe(),E(y,1,1,()=>{y=null}),ve());const ce={};H&67108864&&(ce.$$scope={dirty:H,ctx:r}),m.$set(ce);const x={};H&64&&(x.items=r[6]),H&16&&(x.class="rounded-sm "+(r[4][`item-${r[25]}`]?"border-red-500":"")),H&1&&(x.disabled=r[0]),!V&&H&8&&(V=!0,x.value=r[23].episDisponivelId,Ge(()=>V=!1)),$.$set(x),r[4][`item-${r[25]}`]?G?G.p(r,H):(G=Ua(r),G.c(),G.m(d,null)):G&&(G.d(1),G=null);const ne={};H&67108864&&(ne.$$scope={dirty:H,ctx:r}),h.$set(ne);const B={};H&16&&(B.class="rounded-sm "+(r[4][`quantidade-${r[25]}`]?"border-red-500":"")),H&1&&(B.disabled=r[0]),!w&&H&8&&(w=!0,B.value=r[23].quantidade,Ge(()=>w=!1)),S.$set(B),r[4][`quantidade-${r[25]}`]?K?K.p(r,H):(K=Wa(r),K.c(),K.m(D,null)):K&&(K.d(1),K=null),r[23].nomeEquipamento?le?le.p(r,H):(le=Ja(r),le.c(),le.m(e,Y)):le&&(le.d(1),le=null)},i(Q){Z||(_(y),_(m.$$.fragment,Q),_($.$$.fragment,Q),_(h.$$.fragment,Q),_(S.$$.fragment,Q),Z=!0)},o(Q){E(y),E(m.$$.fragment,Q),E($.$$.fragment,Q),E(h.$$.fragment,Q),E(S.$$.fragment,Q),Z=!1},d(Q){Q&&u(e),y&&y.d(),U(m),U($),G&&G.d(),U(h),U(S),K&&K.d(),le&&le.d()}}}function Ga(r){let e,t,a,l,n="Nenhum item adicionado",s,i,o;return t=new ye({props:{name:"PlusOutline",className:"mx-auto mb-3 text-gray-400",size:"w-8 h-8"}}),i=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:r[0],$$slots:{default:[Qr]},$$scope:{ctx:r}}}),i.$on("click",r[7]),{c(){e=v("div"),J(t.$$.fragment),a=P(),l=v("p"),l.textContent=n,s=P(),J(i.$$.fragment),this.h()},l(c){e=p(c,"DIV",{class:!0});var d=k(e);X(t.$$.fragment,d),a=A(d),l=p(d,"P",{class:!0,"data-svelte-h":!0}),De(l)!=="svelte-1e863on"&&(l.textContent=n),s=A(d),X(i.$$.fragment,d),d.forEach(u),this.h()},h(){b(l,"class","text-sm text-gray-500 dark:text-gray-400 mb-4"),b(e,"class","border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center")},m(c,d){I(c,e,d),W(t,e,null),f(e,a),f(e,l),f(e,s),W(i,e,null),o=!0},p(c,d){const m={};d&1&&(m.disabled=c[0]),d&67108864&&(m.$$scope={dirty:d,ctx:c}),i.$set(m)},i(c){o||(_(t.$$.fragment,c),_(i.$$.fragment,c),o=!0)},o(c){E(t.$$.fragment,c),E(i.$$.fragment,c),o=!1},d(c){c&&u(e),U(t),U(i)}}}function Qr(r){let e;return{c(){e=F("Adicionar Primeiro Item")},l(t){e=z(t,"Adicionar Primeiro Item")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ka(r){let e,t,a="Resumo da Entrega",l,n,s,i,o=r[3].length+"",c,d,m,g,$=r[3].reduce(Ya,0)+"",V,O,T,D,h,C=(r[2]||"NÃ£o informado")+"",S;return{c(){e=v("div"),t=v("h4"),t.textContent=a,l=P(),n=v("div"),s=v("p"),i=F("â€¢ Total de itens: "),c=F(o),d=P(),m=v("p"),g=F("â€¢ Quantidade total: "),V=F($),O=F(" unidades"),T=P(),D=v("p"),h=F("â€¢ ResponsÃ¡vel: "),S=F(C),this.h()},l(w){e=p(w,"DIV",{class:!0});var q=k(e);t=p(q,"H4",{class:!0,"data-svelte-h":!0}),De(t)!=="svelte-gkoh82"&&(t.textContent=a),l=A(q),n=p(q,"DIV",{class:!0});var N=k(n);s=p(N,"P",{});var Y=k(s);i=z(Y,"â€¢ Total de itens: "),c=z(Y,o),Y.forEach(u),d=A(N),m=p(N,"P",{});var Z=k(m);g=z(Z,"â€¢ Quantidade total: "),V=z(Z,$),O=z(Z," unidades"),Z.forEach(u),T=A(N),D=p(N,"P",{});var y=k(D);h=z(y,"â€¢ ResponsÃ¡vel: "),S=z(y,C),y.forEach(u),N.forEach(u),q.forEach(u),this.h()},h(){b(t,"class","text-sm font-medium text-blue-900 dark:text-blue-100 mb-2"),b(n,"class","text-sm text-blue-800 dark:text-blue-200"),b(e,"class","mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800")},m(w,q){I(w,e,q),f(e,t),f(e,l),f(e,n),f(n,s),f(s,i),f(s,c),f(n,d),f(n,m),f(m,g),f(m,V),f(m,O),f(n,T),f(n,D),f(D,h),f(D,S)},p(w,q){q&8&&o!==(o=w[3].length+"")&&oe(c,o),q&8&&$!==($=w[3].reduce(Ya,0)+"")&&oe(V,$),q&4&&C!==(C=(w[2]||"NÃ£o informado")+"")&&oe(S,C)},d(w){w&&u(e)}}}function Ur(r){let e;return{c(){e=F("Cancelar")},l(t){e=z(t,"Cancelar")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Wr(r){let e,t,a;return e=new ye({props:{name:"CheckOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
              Salvar Entrega`)},l(l){X(e.$$.fragment,l),t=z(l,`
              Salvar Entrega`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function Jr(r){let e,t,a;return e=new ye({props:{name:"SpinnerOutline",className:"mr-2 animate-spin",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
              Salvando...`)},l(l){X(e.$$.fragment,l),t=z(l,`
              Salvando...`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function Xr(r){let e,t,a,l;const n=[Jr,Wr],s=[];function i(o,c){return o[0]?0:1}return e=i(r),t=s[e]=n[e](r),{c(){t.c(),a=Ee()},l(o){t.l(o),a=Ee()},m(o,c){s[e].m(o,c),I(o,a,c),l=!0},p(o,c){let d=e;e=i(o),e!==d&&(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),t=s[e],t||(t=s[e]=n[e](o),t.c()),_(t,1),t.m(a.parentNode,a))},i(o){l||(_(t),l=!0)},o(o){E(t),l=!1},d(o){o&&u(a),s[e].d(o)}}}function Gr(r){let e,t,a=r[1]&&Ha(r);return{c(){a&&a.c(),e=Ee()},l(l){a&&a.l(l),e=Ee()},m(l,n){a&&a.m(l,n),I(l,e,n),t=!0},p(l,[n]){l[1]?a?(a.p(l,n),n&2&&_(a,1)):(a=Ha(l),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(pe(),E(a,1,1,()=>{a=null}),ve())},i(l){t||(_(a),t=!0)},o(l){E(a),t=!1},d(l){l&&u(e),a&&a.d(l)}}}const Ya=(r,e)=>r+e.quantidade;function Kr(r,e,t){let a,l,{episDisponiveis:n=[]}=e,{loading:s=!1}=e,{show:i=!1}=e;const o=kt();let c="",d=[],m={};function g(){t(2,c=""),t(3,d=[]),t(4,m={})}function $(){t(3,d=[...d,{episDisponivelId:"",nomeEquipamento:"",registroCA:"",quantidade:1}])}function V(y){t(3,d=d.filter((L,ee)=>ee!==y))}function O(y,L){const ee=n.find(se=>se.id===L);ee&&(t(3,d[y]={...d[y],episDisponivelId:L,nomeEquipamento:ee.nomeEquipamento,registroCA:ee.registroCA},d),delete m[`item-${y}`],t(4,m={...m}))}function T(y,L){t(3,d[y]={...d[y],quantidade:L},d),delete m[`quantidade-${y}`],t(4,m={...m})}function D(){const y={};return c.trim()||(y.responsavel="ResponsÃ¡vel Ã© obrigatÃ³rio"),d.length===0&&(y.items="Adicione pelo menos um item"),d.forEach((L,ee)=>{L.episDisponivelId||(y[`item-${ee}`]="Selecione um EPI"),L.quantidade<1&&(y[`quantidade-${ee}`]="Quantidade deve ser maior que 0")}),t(4,m=y),Object.keys(y).length===0}function h(){if(!D())return;const y={responsavel:c.trim(),itens:d.map(L=>({episDisponivelId:L.episDisponivelId,nomeEquipamento:L.nomeEquipamento,registroCA:L.registroCA,quantidade:L.quantidade}))};o("salvar",y)}function C(){o("cancelar")}function S(y){c=y,t(2,c)}const w=y=>V(y);function q(y,L){r.$$.not_equal(L.episDisponivelId,y)&&(L.episDisponivelId=y,t(3,d))}const N=(y,L)=>O(y,L.target.value);function Y(y,L){r.$$.not_equal(L.quantidade,y)&&(L.quantidade=y,t(3,d))}const Z=(y,L)=>T(y,parseInt(L.target.value)||1);return r.$$set=y=>{"episDisponiveis"in y&&t(13,n=y.episDisponiveis),"loading"in y&&t(0,s=y.loading),"show"in y&&t(1,i=y.show)},r.$$.update=()=>{r.$$.dirty&2&&i&&g(),r.$$.dirty&8192&&t(6,a=[{value:"",label:"Selecione um EPI..."},...n.filter(y=>y.disponivel).map(y=>({value:y.id,label:`${y.nomeEquipamento} (CA ${y.registroCA})${y.quantidade?` - ${y.quantidade} disponÃ­veis`:""}`}))]),r.$$.dirty&13&&t(5,l=c.trim()&&d.length>0&&!s)},[s,i,c,d,m,l,a,$,V,O,T,h,C,n,S,w,q,N,Y,Z]}class Yr extends lt{constructor(e){super(),rt(this,e,Kr,Gr,nt,{episDisponiveis:13,loading:0,show:1})}}function Za(r,e,t){const a=r.slice();return a[25]=e[t],a[26]=e,a[27]=t,a}function el(r){var Ce;let e,t,a,l,n,s,i,o,c,d,m,g,$,V,O,T,D,h,C,S,w,q,N,Y,Z,y,L,ee,se,G,te,R;l=new ia({props:{title:"Editar Entrega #"+(((Ce=r[0])==null?void 0:Ce.id)||"")}}),l.$on("close",r[13]);let M=r[0]&&tl(r);d=new xe({props:{for:"responsavel",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[Zr]},$$scope:{ctx:r}}});function K(ae){r[15](ae)}let le={id:"responsavel",type:"text",placeholder:"Nome do responsÃ¡vel pela entrega",class:"rounded-sm "+(r[5].responsavel?"border-red-500":""),disabled:r[1]};r[3]!==void 0&&(le.value=r[3]),g=new yt({props:le}),Je.push(()=>Xe(g,"value",K));let Q=r[5].responsavel&&al(r);h=new xe({props:{class:"text-sm font-medium text-gray-700 dark:text-gray-300",$$slots:{default:[en]},$$scope:{ctx:r}}}),S=new Oe({props:{size:"xs",color:"alternative",class:"rounded-sm",disabled:r[1],$$slots:{default:[tn]},$$scope:{ctx:r}}}),S.$on("click",r[8]);let H=r[5].items&&ll(r),ce=Qe(r[4]),x=[];for(let ae=0;ae<ce.length;ae+=1)x[ae]=il(Za(r,ce,ae));const ne=ae=>E(x[ae],1,1,()=>{x[ae]=null});let B=r[4].length===0&&fl(r),j=r[4].length>0&&ul(r);return se=new Oe({props:{color:"alternative",class:"rounded-sm",disabled:r[1],$$slots:{default:[nn]},$$scope:{ctx:r}}}),se.$on("click",r[13]),te=new Oe({props:{color:"primary",class:"rounded-sm",disabled:!r[6],$$slots:{default:[fn]},$$scope:{ctx:r}}}),te.$on("click",r[12]),{c(){e=v("div"),t=P(),a=v("div"),J(l.$$.fragment),n=P(),s=v("div"),i=v("div"),M&&M.c(),o=P(),c=v("div"),J(d.$$.fragment),m=P(),J(g.$$.fragment),V=P(),Q&&Q.c(),O=P(),T=v("div"),D=v("div"),J(h.$$.fragment),C=P(),J(S.$$.fragment),w=P(),H&&H.c(),q=P(),N=v("div");for(let ae=0;ae<x.length;ae+=1)x[ae].c();Y=P(),B&&B.c(),Z=P(),j&&j.c(),y=P(),L=v("div"),ee=v("div"),J(se.$$.fragment),G=P(),J(te.$$.fragment),this.h()},l(ae){e=p(ae,"DIV",{class:!0}),k(e).forEach(u),t=A(ae),a=p(ae,"DIV",{class:!0});var ie=k(a);X(l.$$.fragment,ie),n=A(ie),s=p(ie,"DIV",{class:!0});var de=k(s);i=p(de,"DIV",{class:!0});var re=k(i);M&&M.l(re),o=A(re),c=p(re,"DIV",{class:!0});var ue=k(c);X(d.$$.fragment,ue),m=A(ue),X(g.$$.fragment,ue),V=A(ue),Q&&Q.l(ue),ue.forEach(u),O=A(re),T=p(re,"DIV",{class:!0});var he=k(T);D=p(he,"DIV",{class:!0});var me=k(D);X(h.$$.fragment,me),C=A(me),X(S.$$.fragment,me),me.forEach(u),w=A(he),H&&H.l(he),q=A(he),N=p(he,"DIV",{class:!0});var be=k(N);for(let _e=0;_e<x.length;_e+=1)x[_e].l(be);Y=A(be),B&&B.l(be),be.forEach(u),he.forEach(u),Z=A(re),j&&j.l(re),re.forEach(u),y=A(de),L=p(de,"DIV",{class:!0});var $e=k(L);ee=p($e,"DIV",{class:!0});var ge=k(ee);X(se.$$.fragment,ge),G=A(ge),X(te.$$.fragment,ge),ge.forEach(u),$e.forEach(u),de.forEach(u),ie.forEach(u),this.h()},h(){b(e,"class","fixed inset-0 bg-black bg-opacity-50 z-55 transition-opacity"),b(c,"class","mb-6"),b(D,"class","flex items-center justify-between mb-4"),b(N,"class","space-y-4"),b(T,"class","mb-6"),b(i,"class","flex-1 overflow-y-auto custom-scrollbar p-6 svelte-ng7f9w"),b(ee,"class","flex items-center justify-end space-x-3"),b(L,"class","flex-shrink-0 bg-gray-50 dark:bg-gray-800 px-6 py-4 border-t border-gray-200 dark:border-gray-700"),b(s,"class","flex flex-col h-full"),b(a,"class","fixed top-0 right-0 h-full w-full max-w-2xl bg-white dark:bg-gray-900 shadow-2xl z-60 transform transition-transform duration-300 ease-in-out")},m(ae,ie){I(ae,e,ie),I(ae,t,ie),I(ae,a,ie),W(l,a,null),f(a,n),f(a,s),f(s,i),M&&M.m(i,null),f(i,o),f(i,c),W(d,c,null),f(c,m),W(g,c,null),f(c,V),Q&&Q.m(c,null),f(i,O),f(i,T),f(T,D),W(h,D,null),f(D,C),W(S,D,null),f(T,w),H&&H.m(T,null),f(T,q),f(T,N);for(let de=0;de<x.length;de+=1)x[de]&&x[de].m(N,null);f(N,Y),B&&B.m(N,null),f(i,Z),j&&j.m(i,null),f(s,y),f(s,L),f(L,ee),W(se,ee,null),f(ee,G),W(te,ee,null),R=!0},p(ae,ie){var ge;const de={};ie&1&&(de.title="Editar Entrega #"+(((ge=ae[0])==null?void 0:ge.id)||"")),l.$set(de),ae[0]?M?M.p(ae,ie):(M=tl(ae),M.c(),M.m(i,o)):M&&(M.d(1),M=null);const re={};ie&268435456&&(re.$$scope={dirty:ie,ctx:ae}),d.$set(re);const ue={};ie&32&&(ue.class="rounded-sm "+(ae[5].responsavel?"border-red-500":"")),ie&2&&(ue.disabled=ae[1]),!$&&ie&8&&($=!0,ue.value=ae[3],Ge(()=>$=!1)),g.$set(ue),ae[5].responsavel?Q?Q.p(ae,ie):(Q=al(ae),Q.c(),Q.m(c,null)):Q&&(Q.d(1),Q=null);const he={};ie&268435456&&(he.$$scope={dirty:ie,ctx:ae}),h.$set(he);const me={};if(ie&2&&(me.disabled=ae[1]),ie&268435456&&(me.$$scope={dirty:ie,ctx:ae}),S.$set(me),ae[5].items?H?H.p(ae,ie):(H=ll(ae),H.c(),H.m(T,q)):H&&(H.d(1),H=null),ie&3762){ce=Qe(ae[4]);let _e;for(_e=0;_e<ce.length;_e+=1){const we=Za(ae,ce,_e);x[_e]?(x[_e].p(we,ie),_(x[_e],1)):(x[_e]=il(we),x[_e].c(),_(x[_e],1),x[_e].m(N,Y))}for(pe(),_e=ce.length;_e<x.length;_e+=1)ne(_e);ve()}ae[4].length===0?B?(B.p(ae,ie),ie&16&&_(B,1)):(B=fl(ae),B.c(),_(B,1),B.m(N,null)):B&&(pe(),E(B,1,1,()=>{B=null}),ve()),ae[4].length>0?j?j.p(ae,ie):(j=ul(ae),j.c(),j.m(i,null)):j&&(j.d(1),j=null);const be={};ie&2&&(be.disabled=ae[1]),ie&268435456&&(be.$$scope={dirty:ie,ctx:ae}),se.$set(be);const $e={};ie&64&&($e.disabled=!ae[6]),ie&268435458&&($e.$$scope={dirty:ie,ctx:ae}),te.$set($e)},i(ae){if(!R){_(l.$$.fragment,ae),_(d.$$.fragment,ae),_(g.$$.fragment,ae),_(h.$$.fragment,ae),_(S.$$.fragment,ae);for(let ie=0;ie<ce.length;ie+=1)_(x[ie]);_(B),_(se.$$.fragment,ae),_(te.$$.fragment,ae),R=!0}},o(ae){E(l.$$.fragment,ae),E(d.$$.fragment,ae),E(g.$$.fragment,ae),E(h.$$.fragment,ae),E(S.$$.fragment,ae),x=x.filter(Boolean);for(let ie=0;ie<x.length;ie+=1)E(x[ie]);E(B),E(se.$$.fragment,ae),E(te.$$.fragment,ae),R=!1},d(ae){ae&&(u(e),u(t),u(a)),U(l),M&&M.d(),U(d),U(g),Q&&Q.d(),U(h),U(S),H&&H.d(),vt(x,ae),B&&B.d(),j&&j.d(),U(se),U(te)}}}function tl(r){let e,t,a="InformaÃ§Ãµes da Entrega Original",l,n,s,i,o=new Date(r[0].dataEntrega).toLocaleDateString("pt-BR")+"",c,d,m,g,$=r[0].status==="assinado"?"Assinado":"Pendente Assinatura",V,O,T,D,h=r[0].id+"",C;return{c(){e=v("div"),t=v("h4"),t.textContent=a,l=P(),n=v("div"),s=v("p"),i=F("â€¢ Data: "),c=F(o),d=P(),m=v("p"),g=F("â€¢ Status: "),V=F($),O=P(),T=v("p"),D=F("â€¢ ID: #"),C=F(h),this.h()},l(S){e=p(S,"DIV",{class:!0});var w=k(e);t=p(w,"H4",{class:!0,"data-svelte-h":!0}),De(t)!=="svelte-1p8cqi4"&&(t.textContent=a),l=A(w),n=p(w,"DIV",{class:!0});var q=k(n);s=p(q,"P",{});var N=k(s);i=z(N,"â€¢ Data: "),c=z(N,o),N.forEach(u),d=A(q),m=p(q,"P",{});var Y=k(m);g=z(Y,"â€¢ Status: "),V=z(Y,$),Y.forEach(u),O=A(q),T=p(q,"P",{});var Z=k(T);D=z(Z,"â€¢ ID: #"),C=z(Z,h),Z.forEach(u),q.forEach(u),w.forEach(u),this.h()},h(){b(t,"class","text-sm font-medium text-blue-900 dark:text-blue-100 mb-2"),b(n,"class","text-sm text-blue-800 dark:text-blue-200"),b(e,"class","mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800")},m(S,w){I(S,e,w),f(e,t),f(e,l),f(e,n),f(n,s),f(s,i),f(s,c),f(n,d),f(n,m),f(m,g),f(m,V),f(n,O),f(n,T),f(T,D),f(T,C)},p(S,w){w&1&&o!==(o=new Date(S[0].dataEntrega).toLocaleDateString("pt-BR")+"")&&oe(c,o),w&1&&$!==($=S[0].status==="assinado"?"Assinado":"Pendente Assinatura")&&oe(V,$),w&1&&h!==(h=S[0].id+"")&&oe(C,h)},d(S){S&&u(e)}}}function Zr(r){let e;return{c(){e=F("ResponsÃ¡vel pela Entrega *")},l(t){e=z(t,"ResponsÃ¡vel pela Entrega *")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function al(r){let e,t=r[5].responsavel+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&32&&t!==(t=l[5].responsavel+"")&&oe(a,t)},d(l){l&&u(e)}}}function en(r){let e;return{c(){e=F("EPIs da Entrega *")},l(t){e=z(t,"EPIs da Entrega *")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function tn(r){let e,t,a;return e=new ye({props:{name:"PlusOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
              Adicionar Item`)},l(l){X(e.$$.fragment,l),t=z(l,`
              Adicionar Item`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},p:Se,i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function ll(r){let e,t=r[5].items+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mb-3 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&32&&t!==(t=l[5].items+"")&&oe(a,t)},d(l){l&&u(e)}}}function rl(r){let e,t,a,l,n;t=new ye({props:{name:"TrashBinOutline",size:"w-4 h-4"}});function s(){return r[16](r[27])}return{c(){e=v("button"),J(t.$$.fragment),this.h()},l(i){e=p(i,"BUTTON",{class:!0,title:!0});var o=k(e);X(t.$$.fragment,o),o.forEach(u),this.h()},h(){b(e,"class","text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"),e.disabled=r[1],b(e,"title","Remover item")},m(i,o){I(i,e,o),W(t,e,null),a=!0,l||(n=Pe(e,"click",s),l=!0)},p(i,o){r=i,(!a||o&2)&&(e.disabled=r[1])},i(i){a||(_(t.$$.fragment,i),a=!0)},o(i){E(t.$$.fragment,i),a=!1},d(i){i&&u(e),U(t),l=!1,n()}}}function an(r){let e;return{c(){e=F("Equipamento")},l(t){e=z(t,"Equipamento")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function nl(r){let e,t=r[5][`item-${r[27]}`]+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&32&&t!==(t=l[5][`item-${l[27]}`]+"")&&oe(a,t)},d(l){l&&u(e)}}}function ln(r){let e;return{c(){e=F("Quantidade")},l(t){e=z(t,"Quantidade")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function sl(r){let e,t=r[5][`quantidade-${r[27]}`]+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&32&&t!==(t=l[5][`quantidade-${l[27]}`]+"")&&oe(a,t)},d(l){l&&u(e)}}}function ol(r){let e,t,a,l,n=r[25].nomeEquipamento+"",s,i,o,c,d=r[25].registroCA+"",m,g,$,V,O,T=r[25].quantidade+"",D;return{c(){e=v("div"),t=v("div"),a=v("div"),l=v("p"),s=F(n),i=P(),o=v("p"),c=F("CA "),m=F(d),g=P(),$=v("div"),V=v("p"),O=F("Qtd: "),D=F(T),this.h()},l(h){e=p(h,"DIV",{class:!0});var C=k(e);t=p(C,"DIV",{class:!0});var S=k(t);a=p(S,"DIV",{});var w=k(a);l=p(w,"P",{class:!0});var q=k(l);s=z(q,n),q.forEach(u),i=A(w),o=p(w,"P",{class:!0});var N=k(o);c=z(N,"CA "),m=z(N,d),N.forEach(u),w.forEach(u),g=A(S),$=p(S,"DIV",{class:!0});var Y=k($);V=p(Y,"P",{class:!0});var Z=k(V);O=z(Z,"Qtd: "),D=z(Z,T),Z.forEach(u),Y.forEach(u),S.forEach(u),C.forEach(u),this.h()},h(){b(l,"class","text-sm font-medium text-gray-900 dark:text-white"),b(o,"class","text-xs text-gray-500 dark:text-gray-400"),b(V,"class","text-sm font-medium text-gray-900 dark:text-white"),b($,"class","text-right"),b(t,"class","flex items-center justify-between"),b(e,"class","mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-sm")},m(h,C){I(h,e,C),f(e,t),f(t,a),f(a,l),f(l,s),f(a,i),f(a,o),f(o,c),f(o,m),f(t,g),f(t,$),f($,V),f(V,O),f(V,D)},p(h,C){C&16&&n!==(n=h[25].nomeEquipamento+"")&&oe(s,n),C&16&&d!==(d=h[25].registroCA+"")&&oe(m,d),C&16&&T!==(T=h[25].quantidade+"")&&oe(D,T)},d(h){h&&u(e)}}}function il(r){let e,t,a,l,n=r[27]+1+"",s,i,o,c,d,m,g,$,V,O,T,D,h,C,S,w,q,N,Y,Z,y=r[4].length>1&&rl(r);m=new xe({props:{for:"epi-"+r[27],class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[an]},$$scope:{ctx:r}}});function L(Q){r[17](Q,r[25])}function ee(...Q){return r[18](r[27],...Q)}let se={id:"epi-"+r[27],items:r[7],class:"rounded-sm "+(r[5][`item-${r[27]}`]?"border-red-500":""),disabled:r[1]};r[25].episDisponivelId!==void 0&&(se.value=r[25].episDisponivelId),$=new Ul({props:se}),Je.push(()=>Xe($,"value",L)),$.$on("change",ee);let G=r[5][`item-${r[27]}`]&&nl(r);h=new xe({props:{for:"quantidade-"+r[27],class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[ln]},$$scope:{ctx:r}}});function te(Q){r[19](Q,r[25])}function R(...Q){return r[20](r[27],...Q)}let M={id:"quantidade-"+r[27],type:"number",min:"1",max:"100",class:"rounded-sm "+(r[5][`quantidade-${r[27]}`]?"border-red-500":""),disabled:r[1]};r[25].quantidade!==void 0&&(M.value=r[25].quantidade),S=new yt({props:M}),Je.push(()=>Xe(S,"value",te)),S.$on("input",R);let K=r[5][`quantidade-${r[27]}`]&&sl(r),le=r[25].nomeEquipamento&&ol(r);return{c(){e=v("div"),t=v("div"),a=v("h4"),l=F("Item "),s=F(n),i=P(),y&&y.c(),o=P(),c=v("div"),d=v("div"),J(m.$$.fragment),g=P(),J($.$$.fragment),O=P(),G&&G.c(),T=P(),D=v("div"),J(h.$$.fragment),C=P(),J(S.$$.fragment),q=P(),K&&K.c(),N=P(),le&&le.c(),Y=P(),this.h()},l(Q){e=p(Q,"DIV",{class:!0});var H=k(e);t=p(H,"DIV",{class:!0});var ce=k(t);a=p(ce,"H4",{class:!0});var x=k(a);l=z(x,"Item "),s=z(x,n),x.forEach(u),i=A(ce),y&&y.l(ce),ce.forEach(u),o=A(H),c=p(H,"DIV",{class:!0});var ne=k(c);d=p(ne,"DIV",{class:!0});var B=k(d);X(m.$$.fragment,B),g=A(B),X($.$$.fragment,B),O=A(B),G&&G.l(B),B.forEach(u),T=A(ne),D=p(ne,"DIV",{});var j=k(D);X(h.$$.fragment,j),C=A(j),X(S.$$.fragment,j),q=A(j),K&&K.l(j),j.forEach(u),ne.forEach(u),N=A(H),le&&le.l(H),Y=A(H),H.forEach(u),this.h()},h(){b(a,"class","text-sm font-medium text-gray-900 dark:text-white"),b(t,"class","flex items-start justify-between mb-4"),b(d,"class","md:col-span-2"),b(c,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),b(e,"class","border border-gray-200 dark:border-gray-700 rounded-lg p-4")},m(Q,H){I(Q,e,H),f(e,t),f(t,a),f(a,l),f(a,s),f(t,i),y&&y.m(t,null),f(e,o),f(e,c),f(c,d),W(m,d,null),f(d,g),W($,d,null),f(d,O),G&&G.m(d,null),f(c,T),f(c,D),W(h,D,null),f(D,C),W(S,D,null),f(D,q),K&&K.m(D,null),f(e,N),le&&le.m(e,null),f(e,Y),Z=!0},p(Q,H){r=Q,r[4].length>1?y?(y.p(r,H),H&16&&_(y,1)):(y=rl(r),y.c(),_(y,1),y.m(t,null)):y&&(pe(),E(y,1,1,()=>{y=null}),ve());const ce={};H&268435456&&(ce.$$scope={dirty:H,ctx:r}),m.$set(ce);const x={};H&128&&(x.items=r[7]),H&32&&(x.class="rounded-sm "+(r[5][`item-${r[27]}`]?"border-red-500":"")),H&2&&(x.disabled=r[1]),!V&&H&16&&(V=!0,x.value=r[25].episDisponivelId,Ge(()=>V=!1)),$.$set(x),r[5][`item-${r[27]}`]?G?G.p(r,H):(G=nl(r),G.c(),G.m(d,null)):G&&(G.d(1),G=null);const ne={};H&268435456&&(ne.$$scope={dirty:H,ctx:r}),h.$set(ne);const B={};H&32&&(B.class="rounded-sm "+(r[5][`quantidade-${r[27]}`]?"border-red-500":"")),H&2&&(B.disabled=r[1]),!w&&H&16&&(w=!0,B.value=r[25].quantidade,Ge(()=>w=!1)),S.$set(B),r[5][`quantidade-${r[27]}`]?K?K.p(r,H):(K=sl(r),K.c(),K.m(D,null)):K&&(K.d(1),K=null),r[25].nomeEquipamento?le?le.p(r,H):(le=ol(r),le.c(),le.m(e,Y)):le&&(le.d(1),le=null)},i(Q){Z||(_(y),_(m.$$.fragment,Q),_($.$$.fragment,Q),_(h.$$.fragment,Q),_(S.$$.fragment,Q),Z=!0)},o(Q){E(y),E(m.$$.fragment,Q),E($.$$.fragment,Q),E(h.$$.fragment,Q),E(S.$$.fragment,Q),Z=!1},d(Q){Q&&u(e),y&&y.d(),U(m),U($),G&&G.d(),U(h),U(S),K&&K.d(),le&&le.d()}}}function fl(r){let e,t,a,l,n="Nenhum item na entrega",s,i,o;return t=new ye({props:{name:"PlusOutline",className:"mx-auto mb-3 text-gray-400",size:"w-8 h-8"}}),i=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:r[1],$$slots:{default:[rn]},$$scope:{ctx:r}}}),i.$on("click",r[8]),{c(){e=v("div"),J(t.$$.fragment),a=P(),l=v("p"),l.textContent=n,s=P(),J(i.$$.fragment),this.h()},l(c){e=p(c,"DIV",{class:!0});var d=k(e);X(t.$$.fragment,d),a=A(d),l=p(d,"P",{class:!0,"data-svelte-h":!0}),De(l)!=="svelte-iymvfb"&&(l.textContent=n),s=A(d),X(i.$$.fragment,d),d.forEach(u),this.h()},h(){b(l,"class","text-sm text-gray-500 dark:text-gray-400 mb-4"),b(e,"class","border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center")},m(c,d){I(c,e,d),W(t,e,null),f(e,a),f(e,l),f(e,s),W(i,e,null),o=!0},p(c,d){const m={};d&2&&(m.disabled=c[1]),d&268435456&&(m.$$scope={dirty:d,ctx:c}),i.$set(m)},i(c){o||(_(t.$$.fragment,c),_(i.$$.fragment,c),o=!0)},o(c){E(t.$$.fragment,c),E(i.$$.fragment,c),o=!1},d(c){c&&u(e),U(t),U(i)}}}function rn(r){let e;return{c(){e=F("Adicionar Primeiro Item")},l(t){e=z(t,"Adicionar Primeiro Item")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function ul(r){let e,t,a="Resumo das AlteraÃ§Ãµes",l,n,s,i,o=r[4].length+"",c,d,m,g,$=r[4].reduce(cl,0)+"",V,O,T,D,h,C=(r[3]||"NÃ£o informado")+"",S;return{c(){e=v("div"),t=v("h4"),t.textContent=a,l=P(),n=v("div"),s=v("p"),i=F("â€¢ Total de itens: "),c=F(o),d=P(),m=v("p"),g=F("â€¢ Quantidade total: "),V=F($),O=F(" unidades"),T=P(),D=v("p"),h=F("â€¢ ResponsÃ¡vel: "),S=F(C),this.h()},l(w){e=p(w,"DIV",{class:!0});var q=k(e);t=p(q,"H4",{class:!0,"data-svelte-h":!0}),De(t)!=="svelte-sxfnj2"&&(t.textContent=a),l=A(q),n=p(q,"DIV",{class:!0});var N=k(n);s=p(N,"P",{});var Y=k(s);i=z(Y,"â€¢ Total de itens: "),c=z(Y,o),Y.forEach(u),d=A(N),m=p(N,"P",{});var Z=k(m);g=z(Z,"â€¢ Quantidade total: "),V=z(Z,$),O=z(Z," unidades"),Z.forEach(u),T=A(N),D=p(N,"P",{});var y=k(D);h=z(y,"â€¢ ResponsÃ¡vel: "),S=z(y,C),y.forEach(u),N.forEach(u),q.forEach(u),this.h()},h(){b(t,"class","text-sm font-medium text-yellow-900 dark:text-yellow-100 mb-2"),b(n,"class","text-sm text-yellow-800 dark:text-yellow-200"),b(e,"class","mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800")},m(w,q){I(w,e,q),f(e,t),f(e,l),f(e,n),f(n,s),f(s,i),f(s,c),f(n,d),f(n,m),f(m,g),f(m,V),f(m,O),f(n,T),f(n,D),f(D,h),f(D,S)},p(w,q){q&16&&o!==(o=w[4].length+"")&&oe(c,o),q&16&&$!==($=w[4].reduce(cl,0)+"")&&oe(V,$),q&8&&C!==(C=(w[3]||"NÃ£o informado")+"")&&oe(S,C)},d(w){w&&u(e)}}}function nn(r){let e;return{c(){e=F("Cancelar")},l(t){e=z(t,"Cancelar")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function sn(r){let e,t,a;return e=new ye({props:{name:"CheckOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
              Salvar AlteraÃ§Ãµes`)},l(l){X(e.$$.fragment,l),t=z(l,`
              Salvar AlteraÃ§Ãµes`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function on(r){let e,t,a;return e=new ye({props:{name:"SpinnerOutline",className:"mr-2 animate-spin",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
              Salvando...`)},l(l){X(e.$$.fragment,l),t=z(l,`
              Salvando...`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function fn(r){let e,t,a,l;const n=[on,sn],s=[];function i(o,c){return o[1]?0:1}return e=i(r),t=s[e]=n[e](r),{c(){t.c(),a=Ee()},l(o){t.l(o),a=Ee()},m(o,c){s[e].m(o,c),I(o,a,c),l=!0},p(o,c){let d=e;e=i(o),e!==d&&(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),t=s[e],t||(t=s[e]=n[e](o),t.c()),_(t,1),t.m(a.parentNode,a))},i(o){l||(_(t),l=!0)},o(o){E(t),l=!1},d(o){o&&u(a),s[e].d(o)}}}function un(r){let e,t,a=r[2]&&el(r);return{c(){a&&a.c(),e=Ee()},l(l){a&&a.l(l),e=Ee()},m(l,n){a&&a.m(l,n),I(l,e,n),t=!0},p(l,[n]){l[2]?a?(a.p(l,n),n&4&&_(a,1)):(a=el(l),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(pe(),E(a,1,1,()=>{a=null}),ve())},i(l){t||(_(a),t=!0)},o(l){E(a),t=!1},d(l){l&&u(e),a&&a.d(l)}}}const cl=(r,e)=>r+e.quantidade;function cn(r,e,t){let a,l,{episDisponiveis:n=[]}=e,{entrega:s=null}=e,{loading:i=!1}=e,{show:o=!1}=e;const c=kt();let d="",m=[],g={};function $(){s&&(t(3,d="ResponsÃ¡vel da Entrega"),t(4,m=[{episDisponivelId:"1",nomeEquipamento:"Capacete de SeguranÃ§a",registroCA:"31469",quantidade:1}]),t(5,g={}))}function V(){t(4,m=[...m,{episDisponivelId:"",nomeEquipamento:"",registroCA:"",quantidade:1}])}function O(L){t(4,m=m.filter((ee,se)=>se!==L))}function T(L,ee){const se=n.find(G=>G.id===ee);se&&(t(4,m[L]={...m[L],episDisponivelId:ee,nomeEquipamento:se.nomeEquipamento,registroCA:se.registroCA},m),delete g[`item-${L}`],t(5,g={...g}))}function D(L,ee){t(4,m[L]={...m[L],quantidade:ee},m),delete g[`quantidade-${L}`],t(5,g={...g})}function h(){const L={};return d.trim()||(L.responsavel="ResponsÃ¡vel Ã© obrigatÃ³rio"),m.length===0&&(L.items="Adicione pelo menos um item"),m.forEach((ee,se)=>{ee.episDisponivelId||(L[`item-${se}`]="Selecione um EPI"),ee.quantidade<1&&(L[`quantidade-${se}`]="Quantidade deve ser maior que 0")}),t(5,g=L),Object.keys(L).length===0}function C(){if(!h())return;const L={responsavel:d.trim(),itens:m.map(ee=>({episDisponivelId:ee.episDisponivelId,nomeEquipamento:ee.nomeEquipamento,registroCA:ee.registroCA,quantidade:ee.quantidade}))};c("salvar",L)}function S(){c("cancelar")}function w(L){d=L,t(3,d)}const q=L=>O(L);function N(L,ee){r.$$.not_equal(ee.episDisponivelId,L)&&(ee.episDisponivelId=L,t(4,m))}const Y=(L,ee)=>T(L,ee.target.value);function Z(L,ee){r.$$.not_equal(ee.quantidade,L)&&(ee.quantidade=L,t(4,m))}const y=(L,ee)=>D(L,parseInt(ee.target.value)||1);return r.$$set=L=>{"episDisponiveis"in L&&t(14,n=L.episDisponiveis),"entrega"in L&&t(0,s=L.entrega),"loading"in L&&t(1,i=L.loading),"show"in L&&t(2,o=L.show)},r.$$.update=()=>{r.$$.dirty&5&&o&&s&&$(),r.$$.dirty&16384&&t(7,a=[{value:"",label:"Selecione um EPI..."},...n.filter(L=>L.disponivel).map(L=>({value:L.id,label:`${L.nomeEquipamento} (CA ${L.registroCA})${L.quantidade?` - ${L.quantidade} disponÃ­veis`:""}`}))]),r.$$.dirty&26&&t(6,l=d.trim()&&m.length>0&&!i)},[s,i,o,d,m,g,l,a,V,O,T,D,C,S,n,w,q,N,Y,Z,y]}class dn extends lt{constructor(e){super(),rt(this,e,cn,un,nt,{episDisponiveis:14,entrega:0,loading:1,show:2})}}function dl(r){let e,t,a,l,n=r[1].nomeEquipamento+"",s,i,o,c,d=r[1].registroCA+"",m,g,$=r[1].entregaId+"",V,O,T,D,h,C=r[1].quantidade+"",S,w,q,N,Y,Z,y="Prazo de DevoluÃ§Ã£o",L,ee,se=et(r[1].prazoMaximoDevolucao)+"",G,te,R,M,K,le,Q,H,ce,x,ne,B,j,Ce,ae,ie,de,re,ue,he,me,be,$e,ge,_e,we,Ie,qe="Resumo da DevoluÃ§Ã£o",Ae,Ve,Ne,je,Le=r[1].nomeEquipamento+"",Ue,Me,Ke=r[1].registroCA+"",st,We,tt,Be,ot,ft=(r[4]?r[1].quantidade:r[5])+"",ut,Et,At=r[4]||r[5]===1?"unidade":"unidades",zt,Zt,wt,ea,Pt=r[4]?"DevoluÃ§Ã£o total":"DevoluÃ§Ã£o parcial",Ft,ta,aa=r[3].trim(),Ye;const ua=[gn,mn],ct=[];function ca(fe,ke){return fe[8]?0:1}M=ca(r),K=ct[M]=ua[M](r),H=new xe({props:{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",$$slots:{default:[hn]},$$scope:{ctx:r}}});function Xl(fe){r[12](fe)}let da={id:"devolucao-total",class:"rounded-sm"};r[4]!==void 0&&(da.checked=r[4]),B=new oa({props:da}),Je.push(()=>Xe(B,"checked",Xl)),ae=new xe({props:{for:"devolucao-total",class:"ml-3 text-sm text-gray-900 dark:text-white",$$slots:{default:[_n]},$$scope:{ctx:r}}});let Te=r[1].quantidade>1&&ml(r);ue=new xe({props:{for:"motivo",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[bn]},$$scope:{ctx:r}}});function Gl(fe){r[15](fe)}let ma={id:"motivo",placeholder:"Descreva o motivo da devoluÃ§Ã£o...",rows:3,class:"rounded-sm "+(r[6].motivo?"border-red-500":""),disabled:r[2]};r[3]!==void 0&&(ma.value=r[3]),me=new Ql({props:ma}),Je.push(()=>Xe(me,"value",Gl));let He=r[6].motivo&&_l(r),ze=r[8]&&pl(r),Re=aa&&vl(r);return{c(){e=v("div"),t=v("div"),a=v("div"),l=v("h4"),s=F(n),i=P(),o=v("p"),c=F("CA "),m=F(d),g=F(" â€¢ Entrega #"),V=F($),O=P(),T=v("div"),D=v("p"),h=F("Qtd: "),S=F(C),w=P(),q=v("div"),N=v("div"),Y=v("div"),Z=v("p"),Z.textContent=y,L=P(),ee=v("p"),G=F(se),te=P(),R=v("div"),K.c(),le=P(),Q=v("div"),J(H.$$.fragment),ce=P(),x=v("div"),ne=v("div"),J(B.$$.fragment),Ce=P(),J(ae.$$.fragment),ie=P(),Te&&Te.c(),de=P(),re=v("div"),J(ue.$$.fragment),he=P(),J(me.$$.fragment),$e=P(),He&&He.c(),ge=P(),ze&&ze.c(),_e=P(),we=v("div"),Ie=v("h4"),Ie.textContent=qe,Ae=P(),Ve=v("div"),Ne=v("p"),je=F("â€¢ Equipamento: "),Ue=F(Le),Me=F(" (CA "),st=F(Ke),We=F(")"),tt=P(),Be=v("p"),ot=F("â€¢ Quantidade: "),ut=F(ft),Et=P(),zt=F(At),Zt=P(),wt=v("p"),ea=F("â€¢ Tipo: "),Ft=F(Pt),ta=P(),Re&&Re.c(),this.h()},l(fe){e=p(fe,"DIV",{class:!0});var ke=k(e);t=p(ke,"DIV",{class:!0});var dt=k(t);a=p(dt,"DIV",{});var bt=k(a);l=p(bt,"H4",{class:!0});var Vt=k(l);s=z(Vt,n),Vt.forEach(u),i=A(bt),o=p(bt,"P",{class:!0});var mt=k(o);c=z(mt,"CA "),m=z(mt,d),g=z(mt," â€¢ Entrega #"),V=z(mt,$),mt.forEach(u),bt.forEach(u),O=A(dt),T=p(dt,"DIV",{class:!0});var qt=k(T);D=p(qt,"P",{class:!0});var gt=k(D);h=z(gt,"Qtd: "),S=z(gt,C),gt.forEach(u),qt.forEach(u),dt.forEach(u),w=A(ke),q=p(ke,"DIV",{class:!0});var ga=k(q);N=p(ga,"DIV",{class:!0});var Mt=k(N);Y=p(Mt,"DIV",{});var Lt=k(Y);Z=p(Lt,"P",{class:!0,"data-svelte-h":!0}),De(Z)!=="svelte-13u3t5e"&&(Z.textContent=y),L=A(Lt),ee=p(Lt,"P",{class:!0});var ha=k(ee);G=z(ha,se),ha.forEach(u),Lt.forEach(u),te=A(Mt),R=p(Mt,"DIV",{class:!0});var _a=k(R);K.l(_a),_a.forEach(u),Mt.forEach(u),ga.forEach(u),ke.forEach(u),le=A(fe),Q=p(fe,"DIV",{class:!0});var Bt=k(Q);X(H.$$.fragment,Bt),ce=A(Bt),x=p(Bt,"DIV",{class:!0});var jt=k(x);ne=p(jt,"DIV",{class:!0});var Ht=k(ne);X(B.$$.fragment,Ht),Ce=A(Ht),X(ae.$$.fragment,Ht),Ht.forEach(u),ie=A(jt),Te&&Te.l(jt),jt.forEach(u),Bt.forEach(u),de=A(fe),re=p(fe,"DIV",{class:!0});var Dt=k(re);X(ue.$$.fragment,Dt),he=A(Dt),X(me.$$.fragment,Dt),$e=A(Dt),He&&He.l(Dt),Dt.forEach(u),ge=A(fe),ze&&ze.l(fe),_e=A(fe),we=p(fe,"DIV",{class:!0});var Rt=k(we);Ie=p(Rt,"H4",{class:!0,"data-svelte-h":!0}),De(Ie)!=="svelte-2ckhis"&&(Ie.textContent=qe),Ae=A(Rt),Ve=p(Rt,"DIV",{class:!0});var ht=k(Ve);Ne=p(ht,"P",{});var Ct=k(Ne);je=z(Ct,"â€¢ Equipamento: "),Ue=z(Ct,Le),Me=z(Ct," (CA "),st=z(Ct,Ke),We=z(Ct,")"),Ct.forEach(u),tt=A(ht),Be=p(ht,"P",{});var St=k(Be);ot=z(St,"â€¢ Quantidade: "),ut=z(St,ft),Et=A(St),zt=z(St,At),St.forEach(u),Zt=A(ht),wt=p(ht,"P",{});var la=k(wt);ea=z(la,"â€¢ Tipo: "),Ft=z(la,Pt),la.forEach(u),ta=A(ht),Re&&Re.l(ht),ht.forEach(u),Rt.forEach(u),this.h()},h(){b(l,"class","font-medium text-gray-900 dark:text-white"),b(o,"class","text-sm text-gray-500 dark:text-gray-400"),b(D,"class","text-sm font-medium text-gray-900 dark:text-white"),b(T,"class","text-right"),b(t,"class","flex items-start justify-between mb-3"),b(Z,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(ee,"class","text-sm text-gray-900 dark:text-white"),b(R,"class","text-right"),b(N,"class","flex items-center justify-between"),b(q,"class","pt-3 border-t border-gray-200 dark:border-gray-700"),b(e,"class","mb-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"),b(ne,"class","flex items-center"),b(x,"class","space-y-3"),b(Q,"class","mb-6"),b(re,"class","mb-6"),b(Ie,"class","text-sm font-medium text-blue-900 dark:text-blue-100 mb-2"),b(Ve,"class","text-sm text-blue-800 dark:text-blue-200"),b(we,"class","mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800")},m(fe,ke){I(fe,e,ke),f(e,t),f(t,a),f(a,l),f(l,s),f(a,i),f(a,o),f(o,c),f(o,m),f(o,g),f(o,V),f(t,O),f(t,T),f(T,D),f(D,h),f(D,S),f(e,w),f(e,q),f(q,N),f(N,Y),f(Y,Z),f(Y,L),f(Y,ee),f(ee,G),f(N,te),f(N,R),ct[M].m(R,null),I(fe,le,ke),I(fe,Q,ke),W(H,Q,null),f(Q,ce),f(Q,x),f(x,ne),W(B,ne,null),f(ne,Ce),W(ae,ne,null),f(x,ie),Te&&Te.m(x,null),I(fe,de,ke),I(fe,re,ke),W(ue,re,null),f(re,he),W(me,re,null),f(re,$e),He&&He.m(re,null),I(fe,ge,ke),ze&&ze.m(fe,ke),I(fe,_e,ke),I(fe,we,ke),f(we,Ie),f(we,Ae),f(we,Ve),f(Ve,Ne),f(Ne,je),f(Ne,Ue),f(Ne,Me),f(Ne,st),f(Ne,We),f(Ve,tt),f(Ve,Be),f(Be,ot),f(Be,ut),f(Be,Et),f(Be,zt),f(Ve,Zt),f(Ve,wt),f(wt,ea),f(wt,Ft),f(Ve,ta),Re&&Re.m(Ve,null),Ye=!0},p(fe,ke){(!Ye||ke&2)&&n!==(n=fe[1].nomeEquipamento+"")&&oe(s,n),(!Ye||ke&2)&&d!==(d=fe[1].registroCA+"")&&oe(m,d),(!Ye||ke&2)&&$!==($=fe[1].entregaId+"")&&oe(V,$),(!Ye||ke&2)&&C!==(C=fe[1].quantidade+"")&&oe(S,C),(!Ye||ke&2)&&se!==(se=et(fe[1].prazoMaximoDevolucao)+"")&&oe(G,se);let dt=M;M=ca(fe),M===dt?ct[M].p(fe,ke):(pe(),E(ct[dt],1,1,()=>{ct[dt]=null}),ve(),K=ct[M],K?K.p(fe,ke):(K=ct[M]=ua[M](fe),K.c()),_(K,1),K.m(R,null));const bt={};ke&1048576&&(bt.$$scope={dirty:ke,ctx:fe}),H.$set(bt);const Vt={};!j&&ke&16&&(j=!0,Vt.checked=fe[4],Ge(()=>j=!1)),B.$set(Vt);const mt={};ke&1048578&&(mt.$$scope={dirty:ke,ctx:fe}),ae.$set(mt),fe[1].quantidade>1?Te?(Te.p(fe,ke),ke&2&&_(Te,1)):(Te=ml(fe),Te.c(),_(Te,1),Te.m(x,null)):Te&&(pe(),E(Te,1,1,()=>{Te=null}),ve());const qt={};ke&1048576&&(qt.$$scope={dirty:ke,ctx:fe}),ue.$set(qt);const gt={};ke&64&&(gt.class="rounded-sm "+(fe[6].motivo?"border-red-500":"")),ke&4&&(gt.disabled=fe[2]),!be&&ke&8&&(be=!0,gt.value=fe[3],Ge(()=>be=!1)),me.$set(gt),fe[6].motivo?He?He.p(fe,ke):(He=_l(fe),He.c(),He.m(re,null)):He&&(He.d(1),He=null),fe[8]?ze?(ze.p(fe,ke),ke&256&&_(ze,1)):(ze=pl(fe),ze.c(),_(ze,1),ze.m(_e.parentNode,_e)):ze&&(pe(),E(ze,1,1,()=>{ze=null}),ve()),(!Ye||ke&2)&&Le!==(Le=fe[1].nomeEquipamento+"")&&oe(Ue,Le),(!Ye||ke&2)&&Ke!==(Ke=fe[1].registroCA+"")&&oe(st,Ke),(!Ye||ke&50)&&ft!==(ft=(fe[4]?fe[1].quantidade:fe[5])+"")&&oe(ut,ft),(!Ye||ke&48)&&At!==(At=fe[4]||fe[5]===1?"unidade":"unidades")&&oe(zt,At),(!Ye||ke&16)&&Pt!==(Pt=fe[4]?"DevoluÃ§Ã£o total":"DevoluÃ§Ã£o parcial")&&oe(Ft,Pt),ke&8&&(aa=fe[3].trim()),aa?Re?Re.p(fe,ke):(Re=vl(fe),Re.c(),Re.m(Ve,null)):Re&&(Re.d(1),Re=null)},i(fe){Ye||(_(K),_(H.$$.fragment,fe),_(B.$$.fragment,fe),_(ae.$$.fragment,fe),_(Te),_(ue.$$.fragment,fe),_(me.$$.fragment,fe),_(ze),Ye=!0)},o(fe){E(K),E(H.$$.fragment,fe),E(B.$$.fragment,fe),E(ae.$$.fragment,fe),E(Te),E(ue.$$.fragment,fe),E(me.$$.fragment,fe),E(ze),Ye=!1},d(fe){fe&&(u(e),u(le),u(Q),u(de),u(re),u(ge),u(_e),u(we)),ct[M].d(),U(H),U(B),U(ae),Te&&Te.d(),U(ue),U(me),He&&He.d(),ze&&ze.d(fe),Re&&Re.d()}}}function mn(r){let e,t,a,l;return t=new ye({props:{name:"CheckCircleOutline",className:"mr-1",size:"w-3 h-3"}}),{c(){e=v("div"),J(t.$$.fragment),a=F(`
                  No prazo`),this.h()},l(n){e=p(n,"DIV",{class:!0});var s=k(e);X(t.$$.fragment,s),a=z(s,`
                  No prazo`),s.forEach(u),this.h()},h(){b(e,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200")},m(n,s){I(n,e,s),W(t,e,null),f(e,a),l=!0},p:Se,i(n){l||(_(t.$$.fragment,n),l=!0)},o(n){E(t.$$.fragment,n),l=!1},d(n){n&&u(e),U(t)}}}function gn(r){let e,t,a,l,n,s;return t=new ye({props:{name:"ExclamationTriangleOutline",className:"mr-1",size:"w-3 h-3"}}),{c(){e=v("div"),J(t.$$.fragment),a=F(`
                  Vencido hÃ¡ `),l=F(r[7]),n=F(" dias"),this.h()},l(i){e=p(i,"DIV",{class:!0});var o=k(e);X(t.$$.fragment,o),a=z(o,`
                  Vencido hÃ¡ `),l=z(o,r[7]),n=z(o," dias"),o.forEach(u),this.h()},h(){b(e,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")},m(i,o){I(i,e,o),W(t,e,null),f(e,a),f(e,l),f(e,n),s=!0},p(i,o){(!s||o&128)&&oe(l,i[7])},i(i){s||(_(t.$$.fragment,i),s=!0)},o(i){E(t.$$.fragment,i),s=!1},d(i){i&&u(e),U(t)}}}function hn(r){let e;return{c(){e=F("Tipo de DevoluÃ§Ã£o")},l(t){e=z(t,"Tipo de DevoluÃ§Ã£o")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function _n(r){let e,t=r[1].quantidade+"",a,l,n=r[1].quantidade===1?"unidade":"unidades",s,i;return{c(){e=F("DevoluÃ§Ã£o total ("),a=F(t),l=P(),s=F(n),i=F(")")},l(o){e=z(o,"DevoluÃ§Ã£o total ("),a=z(o,t),l=A(o),s=z(o,n),i=z(o,")")},m(o,c){I(o,e,c),I(o,a,c),I(o,l,c),I(o,s,c),I(o,i,c)},p(o,c){c&2&&t!==(t=o[1].quantidade+"")&&oe(a,t),c&2&&n!==(n=o[1].quantidade===1?"unidade":"unidades")&&oe(s,n)},d(o){o&&(u(e),u(a),u(l),u(s),u(i))}}}function ml(r){let e,t,a,l,n,s,i;t=new oa({props:{checked:!r[4],id:"devolucao-parcial",class:"rounded-sm"}}),t.$on("change",r[13]),l=new xe({props:{for:"devolucao-parcial",class:"ml-3 text-sm text-gray-900 dark:text-white",$$slots:{default:[pn]},$$scope:{ctx:r}}});let o=!r[4]&&gl(r);return{c(){e=v("div"),J(t.$$.fragment),a=P(),J(l.$$.fragment),n=P(),o&&o.c(),s=Ee(),this.h()},l(c){e=p(c,"DIV",{class:!0});var d=k(e);X(t.$$.fragment,d),a=A(d),X(l.$$.fragment,d),d.forEach(u),n=A(c),o&&o.l(c),s=Ee(),this.h()},h(){b(e,"class","flex items-center")},m(c,d){I(c,e,d),W(t,e,null),f(e,a),W(l,e,null),I(c,n,d),o&&o.m(c,d),I(c,s,d),i=!0},p(c,d){const m={};d&16&&(m.checked=!c[4]),t.$set(m);const g={};d&1048576&&(g.$$scope={dirty:d,ctx:c}),l.$set(g),c[4]?o&&(pe(),E(o,1,1,()=>{o=null}),ve()):o?(o.p(c,d),d&16&&_(o,1)):(o=gl(c),o.c(),_(o,1),o.m(s.parentNode,s))},i(c){i||(_(t.$$.fragment,c),_(l.$$.fragment,c),_(o),i=!0)},o(c){E(t.$$.fragment,c),E(l.$$.fragment,c),E(o),i=!1},d(c){c&&(u(e),u(n),u(s)),U(t),U(l),o&&o.d(c)}}}function pn(r){let e;return{c(){e=F("DevoluÃ§Ã£o parcial")},l(t){e=z(t,"DevoluÃ§Ã£o parcial")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function gl(r){let e,t,a,l,n,s,i;t=new xe({props:{for:"quantidade-devolucao",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",$$slots:{default:[vn]},$$scope:{ctx:r}}});function o(m){r[14](m)}let c={id:"quantidade-devolucao",type:"number",min:"1",max:r[1].quantidade,class:"w-32 rounded-sm "+(r[6].quantidade?"border-red-500":""),disabled:r[2]};r[5]!==void 0&&(c.value=r[5]),l=new yt({props:c}),Je.push(()=>Xe(l,"value",o));let d=r[6].quantidade&&hl(r);return{c(){e=v("div"),J(t.$$.fragment),a=P(),J(l.$$.fragment),s=P(),d&&d.c(),this.h()},l(m){e=p(m,"DIV",{class:!0});var g=k(e);X(t.$$.fragment,g),a=A(g),X(l.$$.fragment,g),s=A(g),d&&d.l(g),g.forEach(u),this.h()},h(){b(e,"class","ml-6 mt-2")},m(m,g){I(m,e,g),W(t,e,null),f(e,a),W(l,e,null),f(e,s),d&&d.m(e,null),i=!0},p(m,g){const $={};g&1048576&&($.$$scope={dirty:g,ctx:m}),t.$set($);const V={};g&2&&(V.max=m[1].quantidade),g&64&&(V.class="w-32 rounded-sm "+(m[6].quantidade?"border-red-500":"")),g&4&&(V.disabled=m[2]),!n&&g&32&&(n=!0,V.value=m[5],Ge(()=>n=!1)),l.$set(V),m[6].quantidade?d?d.p(m,g):(d=hl(m),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(m){i||(_(t.$$.fragment,m),_(l.$$.fragment,m),i=!0)},o(m){E(t.$$.fragment,m),E(l.$$.fragment,m),i=!1},d(m){m&&u(e),U(t),U(l),d&&d.d()}}}function vn(r){let e;return{c(){e=F("Quantidade a devolver")},l(t){e=z(t,"Quantidade a devolver")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function hl(r){let e,t=r[6].quantidade+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&64&&t!==(t=l[6].quantidade+"")&&oe(a,t)},d(l){l&&u(e)}}}function bn(r){let e;return{c(){e=F("Motivo da DevoluÃ§Ã£o *")},l(t){e=z(t,"Motivo da DevoluÃ§Ã£o *")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function _l(r){let e,t=r[6].motivo+"",a;return{c(){e=v("p"),a=F(t),this.h()},l(l){e=p(l,"P",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n&64&&t!==(t=l[6].motivo+"")&&oe(a,t)},d(l){l&&u(e)}}}function pl(r){let e,t,a,l,n,s,i="Equipamento com prazo vencido",o,c,d,m,g,$;return a=new ye({props:{name:"ExclamationTriangleOutline",className:"text-red-600 dark:text-red-400 mt-0.5 mr-3",size:"w-5 h-5"}}),{c(){e=v("div"),t=v("div"),J(a.$$.fragment),l=P(),n=v("div"),s=v("h4"),s.textContent=i,o=P(),c=v("p"),d=F("Este equipamento estÃ¡ "),m=F(r[7]),g=F(" dias em atraso para devoluÃ§Ã£o."),this.h()},l(V){e=p(V,"DIV",{class:!0});var O=k(e);t=p(O,"DIV",{class:!0});var T=k(t);X(a.$$.fragment,T),l=A(T),n=p(T,"DIV",{});var D=k(n);s=p(D,"H4",{class:!0,"data-svelte-h":!0}),De(s)!=="svelte-1l5do2t"&&(s.textContent=i),o=A(D),c=p(D,"P",{class:!0});var h=k(c);d=z(h,"Este equipamento estÃ¡ "),m=z(h,r[7]),g=z(h," dias em atraso para devoluÃ§Ã£o."),h.forEach(u),D.forEach(u),T.forEach(u),O.forEach(u),this.h()},h(){b(s,"class","text-sm font-medium text-red-800 dark:text-red-200"),b(c,"class","text-sm text-red-700 dark:text-red-300 mt-1"),b(t,"class","flex items-start"),b(e,"class","mb-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800")},m(V,O){I(V,e,O),f(e,t),W(a,t,null),f(t,l),f(t,n),f(n,s),f(n,o),f(n,c),f(c,d),f(c,m),f(c,g),$=!0},p(V,O){(!$||O&128)&&oe(m,V[7])},i(V){$||(_(a.$$.fragment,V),$=!0)},o(V){E(a.$$.fragment,V),$=!1},d(V){V&&u(e),U(a)}}}function vl(r){let e,t,a=r[3].trim()+"",l;return{c(){e=v("p"),t=F("â€¢ Motivo: "),l=F(a)},l(n){e=p(n,"P",{});var s=k(e);t=z(s,"â€¢ Motivo: "),l=z(s,a),s.forEach(u)},m(n,s){I(n,e,s),f(e,t),f(e,l)},p(n,s){s&8&&a!==(a=n[3].trim()+"")&&oe(l,a)},d(n){n&&u(e)}}}function $n(r){let e;return{c(){e=F("Cancelar")},l(t){e=z(t,"Cancelar")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function kn(r){let e,t,a;return e=new ye({props:{name:"CheckOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
          Confirmar DevoluÃ§Ã£o`)},l(l){X(e.$$.fragment,l),t=z(l,`
          Confirmar DevoluÃ§Ã£o`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function En(r){let e,t,a;return e=new ye({props:{name:"SpinnerOutline",className:"mr-2 animate-spin",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
          Processando...`)},l(l){X(e.$$.fragment,l),t=z(l,`
          Processando...`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function wn(r){let e,t,a,l;const n=[En,kn],s=[];function i(o,c){return o[2]?0:1}return e=i(r),t=s[e]=n[e](r),{c(){t.c(),a=Ee()},l(o){t.l(o),a=Ee()},m(o,c){s[e].m(o,c),I(o,a,c),l=!0},p(o,c){let d=e;e=i(o),e!==d&&(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),t=s[e],t||(t=s[e]=n[e](o),t.c()),_(t,1),t.m(a.parentNode,a))},i(o){l||(_(t),l=!0)},o(o){E(t),l=!1},d(o){o&&u(a),s[e].d(o)}}}function Dn(r){let e,t,a,l="Devolver Equipamento",n,s,i,o,c,d,m,g,$,V,O,T;i=new ye({props:{name:"CloseOutline",size:"w-5 h-5"}});let D=r[1]&&dl(r);return m=new Oe({props:{color:"alternative",class:"rounded-sm",disabled:r[2],$$slots:{default:[$n]},$$scope:{ctx:r}}}),m.$on("click",r[11]),$=new Oe({props:{color:"primary",class:"rounded-sm",disabled:!r[9],$$slots:{default:[wn]},$$scope:{ctx:r}}}),$.$on("click",r[10]),{c(){e=v("div"),t=v("div"),a=v("h3"),a.textContent=l,n=P(),s=v("button"),J(i.$$.fragment),o=P(),D&&D.c(),c=P(),d=v("div"),J(m.$$.fragment),g=P(),J($.$$.fragment),this.h()},l(h){e=p(h,"DIV",{class:!0});var C=k(e);t=p(C,"DIV",{class:!0});var S=k(t);a=p(S,"H3",{class:!0,"data-svelte-h":!0}),De(a)!=="svelte-az2hzw"&&(a.textContent=l),n=A(S),s=p(S,"BUTTON",{class:!0});var w=k(s);X(i.$$.fragment,w),w.forEach(u),S.forEach(u),o=A(C),D&&D.l(C),c=A(C),d=p(C,"DIV",{class:!0});var q=k(d);X(m.$$.fragment,q),g=A(q),X($.$$.fragment,q),q.forEach(u),C.forEach(u),this.h()},h(){b(a,"class","text-lg font-semibold text-gray-900 dark:text-white"),b(s,"class","text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"),s.disabled=r[2],b(t,"class","flex items-center justify-between mb-6"),b(d,"class","flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"),b(e,"class","p-6")},m(h,C){I(h,e,C),f(e,t),f(t,a),f(t,n),f(t,s),W(i,s,null),f(e,o),D&&D.m(e,null),f(e,c),f(e,d),W(m,d,null),f(d,g),W($,d,null),V=!0,O||(T=Pe(s,"click",r[11]),O=!0)},p(h,C){(!V||C&4)&&(s.disabled=h[2]),h[1]?D?(D.p(h,C),C&2&&_(D,1)):(D=dl(h),D.c(),_(D,1),D.m(e,c)):D&&(pe(),E(D,1,1,()=>{D=null}),ve());const S={};C&4&&(S.disabled=h[2]),C&1048576&&(S.$$scope={dirty:C,ctx:h}),m.$set(S);const w={};C&512&&(w.disabled=!h[9]),C&1048580&&(w.$$scope={dirty:C,ctx:h}),$.$set(w)},i(h){V||(_(i.$$.fragment,h),_(D),_(m.$$.fragment,h),_($.$$.fragment,h),V=!0)},o(h){E(i.$$.fragment,h),E(D),E(m.$$.fragment,h),E($.$$.fragment,h),V=!1},d(h){h&&u(e),U(i),D&&D.d(),U(m),U($),O=!1,T()}}}function Cn(r){let e,t,a;function l(s){r[16](s)}let n={size:"md",autoclose:!1,class:"z-60",$$slots:{default:[Dn]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.open=r[0]),e=new Jl({props:n}),Je.push(()=>Xe(e,"open",l)),{c(){J(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,i){W(e,s,i),a=!0},p(s,[i]){const o={};i&1049598&&(o.$$scope={dirty:i,ctx:s}),!t&&i&1&&(t=!0,o.open=s[0],Ge(()=>t=!1)),e.$set(o)},i(s){a||(_(e.$$.fragment,s),a=!0)},o(s){E(e.$$.fragment,s),a=!1},d(s){U(e,s)}}}function In(r,e,t){let a,l,n,{equipamento:s=null}=e,{loading:i=!1}=e,{show:o=!1}=e;const c=kt();let d="",m=!0,g=1,$={};function V(){t(3,d=""),t(4,m=!0),t(5,g=(s==null?void 0:s.quantidade)||1),t(6,$={})}function O(){const N={};return d.trim()||(N.motivo="Motivo da devoluÃ§Ã£o Ã© obrigatÃ³rio"),!m&&g<1&&(N.quantidade="Quantidade deve ser maior que 0"),!m&&s&&g>s.quantidade&&(N.quantidade=`Quantidade nÃ£o pode ser maior que ${s.quantidade}`),t(6,$=N),Object.keys(N).length===0}function T(){if(!O())return;const N=m?`DevoluÃ§Ã£o total: ${d.trim()}`:`DevoluÃ§Ã£o parcial (${g}/${s==null?void 0:s.quantidade}): ${d.trim()}`;c("confirmar",{motivo:N})}function D(){c("cancelar")}function h(N){m=N,t(4,m)}const C=()=>t(4,m=!1);function S(N){g=N,t(5,g)}function w(N){d=N,t(3,d)}function q(N){o=N,t(0,o)}return r.$$set=N=>{"equipamento"in N&&t(1,s=N.equipamento),"loading"in N&&t(2,i=N.loading),"show"in N&&t(0,o=N.show)},r.$$.update=()=>{r.$$.dirty&3&&o&&s&&V(),r.$$.dirty&12&&t(9,a=d.trim()&&!i),r.$$.dirty&2&&t(8,l=(s==null?void 0:s.vencido)||!1),r.$$.dirty&2&&t(7,n=(s==null?void 0:s.diasVencido)||0)},[o,s,i,d,m,g,$,n,l,a,T,D,h,C,S,w,q]}class yn extends lt{constructor(e){super(),rt(this,e,In,Cn,nt,{equipamento:1,loading:2,show:0})}}function bl(r){let e,t,a,l,n="Entrega",s,i,o,c=r[1].id+"",d,m,g,$,V="Data da Entrega",O,T,D=et(r[1].dataEntrega)+"",h,C,S,w='<h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">EPIs a serem confirmados:</h4> <div class="space-y-2"><div class="flex items-center justify-between py-3 px-4 bg-gray-50 dark:bg-gray-700 rounded-sm border border-gray-200 dark:border-gray-600"><div class="flex flex-col"><span class="text-sm text-gray-900 dark:text-white font-medium">Capacete de SeguranÃ§a</span> <span class="text-xs text-gray-500 dark:text-gray-400">CA 31469</span></div> <div class="text-right"><span class="text-sm font-medium text-gray-900 dark:text-white">Qtd: 1</span></div></div></div>',q,N,Y,Z,y,L,ee,se,G,te,R,M,K=`<h4 class="text-sm font-medium text-blue-900 dark:text-blue-100">Assinatura Digital Segura</h4> <p class="text-sm text-blue-800 dark:text-blue-200 mt-1">Sua assinatura serÃ¡ registrada de forma segura e vinculada a esta entrega. 
              Este processo confirma o recebimento dos EPIs listados acima.</p>`,le,Q,H,ce,x,ne,B,j='<h4 class="text-sm font-medium text-yellow-900 dark:text-yellow-100">Importante</h4> <p class="text-sm text-yellow-800 dark:text-yellow-200 mt-1">Ao assinar, vocÃª confirma o recebimento dos EPIs e se compromete a:</p> <ul class="text-sm text-yellow-800 dark:text-yellow-200 mt-2 ml-4 list-disc"><li>Usar os equipamentos conforme as instruÃ§Ãµes</li> <li>Manter os EPIs em bom estado de conservaÃ§Ã£o</li> <li>Devolver quando solicitado ou no fim do perÃ­odo</li> <li>Comunicar imediatamente qualquer dano ou perda</li></ul>',Ce;Y=new xe({props:{for:"observacoes",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",$$slots:{default:[An]},$$scope:{ctx:r}}});function ae(re){r[8](re)}let ie={id:"observacoes",placeholder:"Adicione observaÃ§Ãµes sobre a entrega...",rows:3,class:"rounded-sm",disabled:r[2]};r[4]!==void 0&&(ie.value=r[4]),y=new Ql({props:ie}),Je.push(()=>Xe(y,"value",ae)),te=new ye({props:{name:"ShieldCheckOutline",className:"text-blue-600 dark:text-blue-400 mt-0.5 mr-3",size:"w-5 h-5"}});let de=r[3]&&$l();return x=new ye({props:{name:"ExclamationTriangleOutline",className:"text-yellow-600 dark:text-yellow-400 mt-0.5 mr-3",size:"w-5 h-5"}}),{c(){e=v("div"),t=v("div"),a=v("div"),l=v("p"),l.textContent=n,s=P(),i=v("p"),o=F("#"),d=F(c),m=P(),g=v("div"),$=v("p"),$.textContent=V,O=P(),T=v("p"),h=F(D),C=P(),S=v("div"),S.innerHTML=w,q=P(),N=v("div"),J(Y.$$.fragment),Z=P(),J(y.$$.fragment),ee=P(),se=v("div"),G=v("div"),J(te.$$.fragment),R=P(),M=v("div"),M.innerHTML=K,le=P(),de&&de.c(),Q=P(),H=v("div"),ce=v("div"),J(x.$$.fragment),ne=P(),B=v("div"),B.innerHTML=j,this.h()},l(re){e=p(re,"DIV",{class:!0});var ue=k(e);t=p(ue,"DIV",{class:!0});var he=k(t);a=p(he,"DIV",{});var me=k(a);l=p(me,"P",{class:!0,"data-svelte-h":!0}),De(l)!=="svelte-15muixn"&&(l.textContent=n),s=A(me),i=p(me,"P",{class:!0});var be=k(i);o=z(be,"#"),d=z(be,c),be.forEach(u),me.forEach(u),m=A(he),g=p(he,"DIV",{});var $e=k(g);$=p($e,"P",{class:!0,"data-svelte-h":!0}),De($)!=="svelte-1nce9zk"&&($.textContent=V),O=A($e),T=p($e,"P",{class:!0});var ge=k(T);h=z(ge,D),ge.forEach(u),$e.forEach(u),he.forEach(u),ue.forEach(u),C=A(re),S=p(re,"DIV",{class:!0,"data-svelte-h":!0}),De(S)!=="svelte-udbm6m"&&(S.innerHTML=w),q=A(re),N=p(re,"DIV",{class:!0});var _e=k(N);X(Y.$$.fragment,_e),Z=A(_e),X(y.$$.fragment,_e),_e.forEach(u),ee=A(re),se=p(re,"DIV",{class:!0});var we=k(se);G=p(we,"DIV",{class:!0});var Ie=k(G);X(te.$$.fragment,Ie),R=A(Ie),M=p(Ie,"DIV",{"data-svelte-h":!0}),De(M)!=="svelte-1xj7jh7"&&(M.innerHTML=K),Ie.forEach(u),we.forEach(u),le=A(re),de&&de.l(re),Q=A(re),H=p(re,"DIV",{class:!0});var qe=k(H);ce=p(qe,"DIV",{class:!0});var Ae=k(ce);X(x.$$.fragment,Ae),ne=A(Ae),B=p(Ae,"DIV",{"data-svelte-h":!0}),De(B)!=="svelte-eonq7k"&&(B.innerHTML=j),Ae.forEach(u),qe.forEach(u),this.h()},h(){b(l,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(i,"class","text-sm text-gray-900 dark:text-white font-semibold"),b($,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(T,"class","text-sm text-gray-900 dark:text-white font-semibold"),b(t,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),b(e,"class","mb-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"),b(S,"class","mb-6"),b(N,"class","mb-6"),b(G,"class","flex items-start"),b(se,"class","mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800"),b(ce,"class","flex items-start"),b(H,"class","mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800")},m(re,ue){I(re,e,ue),f(e,t),f(t,a),f(a,l),f(a,s),f(a,i),f(i,o),f(i,d),f(t,m),f(t,g),f(g,$),f(g,O),f(g,T),f(T,h),I(re,C,ue),I(re,S,ue),I(re,q,ue),I(re,N,ue),W(Y,N,null),f(N,Z),W(y,N,null),I(re,ee,ue),I(re,se,ue),f(se,G),W(te,G,null),f(G,R),f(G,M),I(re,le,ue),de&&de.m(re,ue),I(re,Q,ue),I(re,H,ue),f(H,ce),W(x,ce,null),f(ce,ne),f(ce,B),Ce=!0},p(re,ue){(!Ce||ue&2)&&c!==(c=re[1].id+"")&&oe(d,c),(!Ce||ue&2)&&D!==(D=et(re[1].dataEntrega)+"")&&oe(h,D);const he={};ue&8192&&(he.$$scope={dirty:ue,ctx:re}),Y.$set(he);const me={};ue&4&&(me.disabled=re[2]),!L&&ue&16&&(L=!0,me.value=re[4],Ge(()=>L=!1)),y.$set(me),re[3]?de?ue&8&&_(de,1):(de=$l(),de.c(),_(de,1),de.m(Q.parentNode,Q)):de&&(pe(),E(de,1,1,()=>{de=null}),ve())},i(re){Ce||(_(Y.$$.fragment,re),_(y.$$.fragment,re),_(te.$$.fragment,re),_(de),_(x.$$.fragment,re),Ce=!0)},o(re){E(Y.$$.fragment,re),E(y.$$.fragment,re),E(te.$$.fragment,re),E(de),E(x.$$.fragment,re),Ce=!1},d(re){re&&(u(e),u(C),u(S),u(q),u(N),u(ee),u(se),u(le),u(Q),u(H)),U(Y),U(y),U(te),de&&de.d(re),U(x)}}}function An(r){let e;return{c(){e=F("ObservaÃ§Ãµes (opcional)")},l(t){e=z(t,"ObservaÃ§Ãµes (opcional)")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function $l(r){let e,t,a,l,n,s='<h4 class="text-sm font-medium text-green-900 dark:text-green-100">Assinatura Confirmada</h4> <p class="text-sm text-green-800 dark:text-green-200">Processando assinatura digital...</p>',i;return a=new ye({props:{name:"CheckCircleOutline",className:"text-green-600 dark:text-green-400 mr-3",size:"w-5 h-5"}}),{c(){e=v("div"),t=v("div"),J(a.$$.fragment),l=P(),n=v("div"),n.innerHTML=s,this.h()},l(o){e=p(o,"DIV",{class:!0});var c=k(e);t=p(c,"DIV",{class:!0});var d=k(t);X(a.$$.fragment,d),l=A(d),n=p(d,"DIV",{"data-svelte-h":!0}),De(n)!=="svelte-9s52he"&&(n.innerHTML=s),d.forEach(u),c.forEach(u),this.h()},h(){b(t,"class","flex items-center"),b(e,"class","mb-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800")},m(o,c){I(o,e,c),f(e,t),W(a,t,null),f(t,l),f(t,n),i=!0},i(o){i||(_(a.$$.fragment,o),i=!0)},o(o){E(a.$$.fragment,o),i=!1},d(o){o&&u(e),U(a)}}}function Pn(r){let e;return{c(){e=F("Cancelar")},l(t){e=z(t,"Cancelar")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Vn(r){let e,t,a;return e=new ye({props:{name:"PenOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
          Assinar Digitalmente`)},l(l){X(e.$$.fragment,l),t=z(l,`
          Assinar Digitalmente`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function qn(r){let e,t,a;return e=new ye({props:{name:"CheckOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
          Assinatura Confirmada`)},l(l){X(e.$$.fragment,l),t=z(l,`
          Assinatura Confirmada`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function Sn(r){let e,t,a;return e=new ye({props:{name:"SpinnerOutline",className:"mr-2 animate-spin",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
          Processando Assinatura...`)},l(l){X(e.$$.fragment,l),t=z(l,`
          Processando Assinatura...`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function Nn(r){let e,t,a,l;const n=[Sn,qn,Vn],s=[];function i(o,c){return o[2]?0:o[3]?1:2}return e=i(r),t=s[e]=n[e](r),{c(){t.c(),a=Ee()},l(o){t.l(o),a=Ee()},m(o,c){s[e].m(o,c),I(o,a,c),l=!0},p(o,c){let d=e;e=i(o),e!==d&&(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),t=s[e],t||(t=s[e]=n[e](o),t.c()),_(t,1),t.m(a.parentNode,a))},i(o){l||(_(t),l=!0)},o(o){E(t),l=!1},d(o){o&&u(a),s[e].d(o)}}}function On(r){let e,t,a,l="Confirmar Assinatura Digital",n,s,i,o,c,d,m,g,$,V,O,T;i=new ye({props:{name:"CloseOutline",size:"w-5 h-5"}});let D=r[1]&&bl(r);return m=new Oe({props:{color:"alternative",class:"rounded-sm",disabled:r[2],$$slots:{default:[Pn]},$$scope:{ctx:r}}}),m.$on("click",r[6]),$=new Oe({props:{color:"primary",class:"rounded-sm",disabled:!r[5],$$slots:{default:[Nn]},$$scope:{ctx:r}}}),$.$on("click",r[7]),{c(){e=v("div"),t=v("div"),a=v("h3"),a.textContent=l,n=P(),s=v("button"),J(i.$$.fragment),o=P(),D&&D.c(),c=P(),d=v("div"),J(m.$$.fragment),g=P(),J($.$$.fragment),this.h()},l(h){e=p(h,"DIV",{class:!0});var C=k(e);t=p(C,"DIV",{class:!0});var S=k(t);a=p(S,"H3",{class:!0,"data-svelte-h":!0}),De(a)!=="svelte-1iz89hx"&&(a.textContent=l),n=A(S),s=p(S,"BUTTON",{class:!0});var w=k(s);X(i.$$.fragment,w),w.forEach(u),S.forEach(u),o=A(C),D&&D.l(C),c=A(C),d=p(C,"DIV",{class:!0});var q=k(d);X(m.$$.fragment,q),g=A(q),X($.$$.fragment,q),q.forEach(u),C.forEach(u),this.h()},h(){b(a,"class","text-lg font-semibold text-gray-900 dark:text-white"),b(s,"class","text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"),s.disabled=r[2],b(t,"class","flex items-center justify-between mb-6"),b(d,"class","flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"),b(e,"class","p-6")},m(h,C){I(h,e,C),f(e,t),f(t,a),f(t,n),f(t,s),W(i,s,null),f(e,o),D&&D.m(e,null),f(e,c),f(e,d),W(m,d,null),f(d,g),W($,d,null),V=!0,O||(T=Pe(s,"click",r[6]),O=!0)},p(h,C){(!V||C&4)&&(s.disabled=h[2]),h[1]?D?(D.p(h,C),C&2&&_(D,1)):(D=bl(h),D.c(),_(D,1),D.m(e,c)):D&&(pe(),E(D,1,1,()=>{D=null}),ve());const S={};C&4&&(S.disabled=h[2]),C&8192&&(S.$$scope={dirty:C,ctx:h}),m.$set(S);const w={};C&32&&(w.disabled=!h[5]),C&8204&&(w.$$scope={dirty:C,ctx:h}),$.$set(w)},i(h){V||(_(i.$$.fragment,h),_(D),_(m.$$.fragment,h),_($.$$.fragment,h),V=!0)},o(h){E(i.$$.fragment,h),E(D),E(m.$$.fragment,h),E($.$$.fragment,h),V=!1},d(h){h&&u(e),U(i),D&&D.d(),U(m),U($),O=!1,T()}}}function Tn(r){let e,t,a;function l(s){r[9](s)}let n={size:"lg",autoclose:!1,class:"z-60",$$slots:{default:[On]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.open=r[0]),e=new Jl({props:n}),Je.push(()=>Xe(e,"open",l)),{c(){J(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,i){W(e,s,i),a=!0},p(s,[i]){const o={};i&8254&&(o.$$scope={dirty:i,ctx:s}),!t&&i&1&&(t=!0,o.open=s[0],Ge(()=>t=!1)),e.$set(o)},i(s){a||(_(e.$$.fragment,s),a=!0)},o(s){E(e.$$.fragment,s),a=!1},d(s){U(e,s)}}}function zn(r,e,t){let a,{entrega:l=null}=e,{loading:n=!1}=e,{show:s=!1}=e;const i=kt();let o="",c=!1;function d(){t(4,o=""),t(3,c=!1)}function m(){const T=`assinatura_digital_${Date.now()}`;i("confirmar",{assinatura:T})}function g(){i("cancelar")}function $(){t(3,c=!0),setTimeout(()=>{m()},500)}function V(T){o=T,t(4,o)}function O(T){s=T,t(0,s)}return r.$$set=T=>{"entrega"in T&&t(1,l=T.entrega),"loading"in T&&t(2,n=T.loading),"show"in T&&t(0,s=T.show)},r.$$.update=()=>{r.$$.dirty&1&&s&&d(),r.$$.dirty&12&&t(5,a=!n&&!c)},[s,l,n,c,o,a,g,$,V,O]}class Fn extends lt{constructor(e){super(),rt(this,e,zn,Tn,nt,{entrega:1,loading:2,show:0})}}const{Boolean:fa}=mr;function kl(r,e,t){const a=r.slice();a[40]=e[t];const l=fs(a[40].status);return a[41]=l,a}function El(r,e,t){const a=r.slice();return a[44]=e[t],a}function wl(r,e,t){const a=r.slice();return a[47]=e[t],a}function Dl(r){var Y,Z,y,L,ee,se,G,te;let e,t,a,l,n,s,i,o,c,d,m,g,$,V,O,T;l=new ia({props:{objectType:"FICHA EPI",title:((Z=(Y=r[0])==null?void 0:Y.colaborador)==null?void 0:Z.nome)||"Carregando colaborador...",iconName:"ClipboardListOutline",status:((L=(y=r[0])==null?void 0:y.ficha)==null?void 0:L.status)||"",statusType:"ficha",additionalInfo:[(se=(ee=r[0])==null?void 0:ee.colaborador)!=null&&se.cpf?`CPF ${r[0].colaborador.cpf}`:"",((te=(G=r[0])==null?void 0:G.colaborador)==null?void 0:te.cargo)||""].filter(Boolean),primaryAction:{text:"Nova entrega",icon:"PlusOutline"}}}),l.$on("close",r[16]),l.$on("primaryAction",r[17]);const D=[jn,Bn,Ln,Mn],h=[];function C(R,M){return R[2]?0:R[3]?1:R[0]?2:3}i=C(r),o=h[i]=D[i](r);let S=r[7]&&Sl(r),w=r[8]&&r[11]&&Nl(r),q=r[9]&&r[12]&&Ol(r),N=r[10]&&r[13]&&Tl(r);return{c(){e=v("div"),t=P(),a=v("div"),J(l.$$.fragment),n=P(),s=v("div"),o.c(),c=P(),S&&S.c(),d=P(),w&&w.c(),m=P(),q&&q.c(),g=P(),N&&N.c(),$=Ee(),this.h()},l(R){e=p(R,"DIV",{class:!0,style:!0,role:!0,tabindex:!0}),k(e).forEach(u),t=A(R),a=p(R,"DIV",{class:!0,style:!0});var M=k(a);X(l.$$.fragment,M),n=A(M),s=p(M,"DIV",{class:!0});var K=k(s);o.l(K),K.forEach(u),M.forEach(u),c=A(R),S&&S.l(R),d=A(R),w&&w.l(R),m=A(R),q&&q.l(R),g=A(R),N&&N.l(R),$=Ee(),this.h()},h(){b(e,"class","fixed bg-black bg-opacity-50 z-40 transition-opacity"),at(e,"top","4rem"),at(e,"left","0"),at(e,"right","0"),at(e,"bottom","0"),b(e,"role","button"),b(e,"tabindex","0"),b(s,"class","flex-1 overflow-y-auto custom-scrollbar svelte-1mqz8gy"),b(a,"class","fixed top-16 right-0 bg-white dark:bg-gray-800 shadow-xl z-45 transform transition-transform duration-300 ease-in-out flex flex-col"),at(a,"width","min(880px, 95vw)"),at(a,"height","calc(100vh - 4rem)"),xt(a,"translate-x-0",r[14]),xt(a,"translate-x-full",!r[14])},m(R,M){I(R,e,M),I(R,t,M),I(R,a,M),W(l,a,null),f(a,n),f(a,s),h[i].m(s,null),I(R,c,M),S&&S.m(R,M),I(R,d,M),w&&w.m(R,M),I(R,m,M),q&&q.m(R,M),I(R,g,M),N&&N.m(R,M),I(R,$,M),V=!0,O||(T=[Pe(e,"click",r[16]),Pe(e,"keydown",r[22])],O=!0)},p(R,M){var Q,H,ce,x,ne,B,j,Ce;const K={};M[0]&1&&(K.title=((H=(Q=R[0])==null?void 0:Q.colaborador)==null?void 0:H.nome)||"Carregando colaborador..."),M[0]&1&&(K.status=((x=(ce=R[0])==null?void 0:ce.ficha)==null?void 0:x.status)||""),M[0]&1&&(K.additionalInfo=[(B=(ne=R[0])==null?void 0:ne.colaborador)!=null&&B.cpf?`CPF ${R[0].colaborador.cpf}`:"",((Ce=(j=R[0])==null?void 0:j.colaborador)==null?void 0:Ce.cargo)||""].filter(Boolean)),l.$set(K);let le=i;i=C(R),i===le?h[i].p(R,M):(pe(),E(h[le],1,1,()=>{h[le]=null}),ve(),o=h[i],o?o.p(R,M):(o=h[i]=D[i](R),o.c()),_(o,1),o.m(s,null)),(!V||M[0]&16384)&&xt(a,"translate-x-0",R[14]),(!V||M[0]&16384)&&xt(a,"translate-x-full",!R[14]),R[7]?S?(S.p(R,M),M[0]&128&&_(S,1)):(S=Sl(R),S.c(),_(S,1),S.m(d.parentNode,d)):S&&(pe(),E(S,1,1,()=>{S=null}),ve()),R[8]&&R[11]?w?(w.p(R,M),M[0]&2304&&_(w,1)):(w=Nl(R),w.c(),_(w,1),w.m(m.parentNode,m)):w&&(pe(),E(w,1,1,()=>{w=null}),ve()),R[9]&&R[12]?q?(q.p(R,M),M[0]&4608&&_(q,1)):(q=Ol(R),q.c(),_(q,1),q.m(g.parentNode,g)):q&&(pe(),E(q,1,1,()=>{q=null}),ve()),R[10]&&R[13]?N?(N.p(R,M),M[0]&9216&&_(N,1)):(N=Tl(R),N.c(),_(N,1),N.m($.parentNode,$)):N&&(pe(),E(N,1,1,()=>{N=null}),ve())},i(R){V||(_(l.$$.fragment,R),_(o),_(S),_(w),_(q),_(N),V=!0)},o(R){E(l.$$.fragment,R),E(o),E(S),E(w),E(q),E(N),V=!1},d(R){R&&(u(e),u(t),u(a),u(c),u(d),u(m),u(g),u($)),U(l),h[i].d(),S&&S.d(R),w&&w.d(R),q&&q.d(R),N&&N.d(R),O=!1,Yt(T)}}}function Mn(r){let e,t,a,l,n,s,i="Nenhuma ficha selecionada",o,c,d="Selecione uma ficha para ver os detalhes.",m;return l=new ye({props:{name:"DocumentOutline",className:"text-gray-400",size:"w-8 h-8"}}),{c(){e=v("div"),t=v("div"),a=v("div"),J(l.$$.fragment),n=P(),s=v("h3"),s.textContent=i,o=P(),c=v("p"),c.textContent=d,this.h()},l(g){e=p(g,"DIV",{class:!0});var $=k(e);t=p($,"DIV",{class:!0});var V=k(t);a=p(V,"DIV",{class:!0});var O=k(a);X(l.$$.fragment,O),O.forEach(u),n=A(V),s=p(V,"H3",{class:!0,"data-svelte-h":!0}),De(s)!=="svelte-61ymzq"&&(s.textContent=i),o=A(V),c=p(V,"P",{class:!0,"data-svelte-h":!0}),De(c)!=="svelte-174czpu"&&(c.textContent=d),V.forEach(u),$.forEach(u),this.h()},h(){b(a,"class","p-4 bg-gray-100 dark:bg-gray-800 rounded-full w-fit mx-auto mb-4"),b(s,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),b(c,"class","text-gray-500 dark:text-gray-400"),b(t,"class","text-center"),b(e,"class","flex items-center justify-center h-full")},m(g,$){I(g,e,$),f(e,t),f(t,a),W(l,a,null),f(t,n),f(t,s),f(t,o),f(t,c),m=!0},p:Se,i(g){m||(_(l.$$.fragment,g),m=!0)},o(g){E(l.$$.fragment,g),m=!1},d(g){g&&u(e),U(l)}}}function Ln(r){let e,t,a;return t=new cr({props:{tabStyle:"underline",contentClass:"p-0 mt-4",$$slots:{default:[ss]},$$scope:{ctx:r}}}),{c(){e=v("div"),J(t.$$.fragment),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=k(e);X(t.$$.fragment,n),n.forEach(u),this.h()},h(){b(e,"class","px-4 py-4")},m(l,n){I(l,e,n),W(t,e,null),a=!0},p(l,n){const s={};n[0]&33|n[1]&524288&&(s.$$scope={dirty:n,ctx:l}),t.$set(s)},i(l){a||(_(t.$$.fragment,l),a=!0)},o(l){E(t.$$.fragment,l),a=!1},d(l){l&&u(e),U(t)}}}function Bn(r){let e,t,a,l,n,s,i,o;return t=new ye({props:{name:"ExclamationTriangleOutline",className:"text-red-500 mx-auto mb-4",size:"w-16 h-16"}}),i=new Oe({props:{size:"sm",color:"primary",class:"rounded-sm mt-4",$$slots:{default:[os]},$$scope:{ctx:r}}}),i.$on("click",r[23]),{c(){e=v("div"),J(t.$$.fragment),a=P(),l=v("p"),n=F(r[3]),s=P(),J(i.$$.fragment),this.h()},l(c){e=p(c,"DIV",{class:!0});var d=k(e);X(t.$$.fragment,d),a=A(d),l=p(d,"P",{class:!0});var m=k(l);n=z(m,r[3]),m.forEach(u),s=A(d),X(i.$$.fragment,d),d.forEach(u),this.h()},h(){b(l,"class","text-red-600 dark:text-red-400 text-lg mb-4"),b(e,"class","p-8 text-center")},m(c,d){I(c,e,d),W(t,e,null),f(e,a),f(e,l),f(l,n),f(e,s),W(i,e,null),o=!0},p(c,d){(!o||d[0]&8)&&oe(n,c[3]);const m={};d[1]&524288&&(m.$$scope={dirty:d,ctx:c}),i.$set(m)},i(c){o||(_(t.$$.fragment,c),_(i.$$.fragment,c),o=!0)},o(c){E(t.$$.fragment,c),E(i.$$.fragment,c),o=!1},d(c){c&&u(e),U(t),U(i)}}}function jn(r){let e,t,a;return t=new Wl({}),{c(){e=v("div"),J(t.$$.fragment),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=k(e);X(t.$$.fragment,n),n.forEach(u),this.h()},h(){b(e,"class","flex items-center justify-center py-16")},m(l,n){I(l,e,n),W(t,e,null),a=!0},p:Se,i(l){a||(_(t.$$.fragment,l),a=!0)},o(l){E(t.$$.fragment,l),a=!1},d(l){l&&u(e),U(t)}}}function Hn(r){let e,t,a,l,n,s="Nenhum equipamento em posse",i,o,c="Este colaborador nÃ£o possui EPIs em sua posse no momento.",d;return a=new ye({props:{name:"ShieldCheckOutline",className:"text-gray-400",size:"w-8 h-8"}}),{c(){e=v("div"),t=v("div"),J(a.$$.fragment),l=P(),n=v("h3"),n.textContent=s,i=P(),o=v("p"),o.textContent=c,this.h()},l(m){e=p(m,"DIV",{class:!0});var g=k(e);t=p(g,"DIV",{class:!0});var $=k(t);X(a.$$.fragment,$),$.forEach(u),l=A(g),n=p(g,"H3",{class:!0,"data-svelte-h":!0}),De(n)!=="svelte-rfo04i"&&(n.textContent=s),i=A(g),o=p(g,"P",{class:!0,"data-svelte-h":!0}),De(o)!=="svelte-1guugvm"&&(o.textContent=c),g.forEach(u),this.h()},h(){b(t,"class","p-4 bg-gray-100 dark:bg-gray-800 rounded-full w-fit mx-auto mb-4"),b(n,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),b(o,"class","text-gray-500 dark:text-gray-400"),b(e,"class","text-center py-12")},m(m,g){I(m,e,g),f(e,t),W(a,t,null),f(e,l),f(e,n),f(e,i),f(e,o),d=!0},p:Se,i(m){d||(_(a.$$.fragment,m),d=!0)},o(m){E(a.$$.fragment,m),d=!1},d(m){m&&u(e),U(a)}}}function Rn(r){let e,t,a=Qe(r[0].equipamentosEmPosse),l=[];for(let s=0;s<a.length;s+=1)l[s]=Il(wl(r,a,s));const n=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=Ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);I(s,e,i),t=!0},p(s,i){if(i[0]&1048577){a=Qe(s[0].equipamentosEmPosse);let o;for(o=0;o<a.length;o+=1){const c=wl(s,a,o);l[o]?(l[o].p(c,i),_(l[o],1)):(l[o]=Il(c),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(pe(),o=a.length;o<l.length;o+=1)n(o);ve()}},i(s){if(!t){for(let i=0;i<a.length;i+=1)_(l[i]);t=!0}},o(s){l=l.filter(fa);for(let i=0;i<l.length;i+=1)E(l[i]);t=!1},d(s){s&&u(e),vt(l,s)}}}function xn(r){let e;return{c(){e=F("Devolver")},l(t){e=z(t,"Devolver")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Cl(r){let e,t,a=r[47].diasVencido+"",l,n;return{c(){e=v("span"),t=F("- "),l=F(a),n=F(" dias atrasado"),this.h()},l(s){e=p(s,"SPAN",{class:!0});var i=k(e);t=z(i,"- "),l=z(i,a),n=z(i," dias atrasado"),i.forEach(u),this.h()},h(){b(e,"class","text-red-600")},m(s,i){I(s,e,i),f(e,t),f(e,l),f(e,n)},p(s,i){i[0]&1&&a!==(a=s[47].diasVencido+"")&&oe(l,a)},d(s){s&&u(e)}}}function Qn(r){let e;return{c(){e=F("No prazo")},l(t){e=z(t,"No prazo")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Un(r){let e;return{c(){e=F("Em atraso")},l(t){e=z(t,"Em atraso")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Il(r){let e,t,a,l,n,s=r[47].quantidade+"",i,o,c,d,m=r[47].nomeEquipamento+"",g,$,V,O,T=r[47].registroCA+"",D,h,C,S,w,q,N,Y,Z="Entrega",y,L,ee,se=r[47].entregaId+"",G,te,R,M,K="Prazo DevoluÃ§Ã£o",le,Q,H=et(r[47].prazoMaximoDevolucao)+"",ce,x,ne,B,j,Ce="Status",ae,ie,de,re,ue,he,me;function be(){return r[24](r[47])}S=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm border border-gray-300 dark:border-gray-600",$$slots:{default:[xn]},$$scope:{ctx:r}}}),S.$on("click",be);function $e(){return r[25](r[47])}let ge=r[47].vencido&&Cl(r);function _e(qe,Ae){return qe[47].vencido?Un:Qn}let we=_e(r),Ie=we(r);return{c(){e=v("div"),t=v("div"),a=v("div"),l=v("div"),n=v("span"),i=F(s),o=P(),c=v("div"),d=v("p"),g=F(m),$=P(),V=v("p"),O=F("CA "),D=F(T),h=P(),C=v("div"),J(S.$$.fragment),w=P(),q=v("div"),N=v("div"),Y=v("span"),Y.textContent=Z,y=P(),L=v("button"),ee=F("#"),G=F(se),te=P(),R=v("div"),M=v("span"),M.textContent=K,le=P(),Q=v("span"),ce=F(H),x=P(),ge&&ge.c(),ne=P(),B=v("div"),j=v("span"),j.textContent=Ce,ae=P(),ie=v("span"),Ie.c(),re=P(),this.h()},l(qe){e=p(qe,"DIV",{class:!0});var Ae=k(e);t=p(Ae,"DIV",{class:!0});var Ve=k(t);a=p(Ve,"DIV",{class:!0});var Ne=k(a);l=p(Ne,"DIV",{class:!0});var je=k(l);n=p(je,"SPAN",{class:!0});var Le=k(n);i=z(Le,s),Le.forEach(u),je.forEach(u),o=A(Ne),c=p(Ne,"DIV",{});var Ue=k(c);d=p(Ue,"P",{class:!0});var Me=k(d);g=z(Me,m),Me.forEach(u),$=A(Ue),V=p(Ue,"P",{class:!0});var Ke=k(V);O=z(Ke,"CA "),D=z(Ke,T),Ke.forEach(u),Ue.forEach(u),Ne.forEach(u),h=A(Ve),C=p(Ve,"DIV",{class:!0});var st=k(C);X(S.$$.fragment,st),st.forEach(u),Ve.forEach(u),w=A(Ae),q=p(Ae,"DIV",{class:!0});var We=k(q);N=p(We,"DIV",{class:!0});var tt=k(N);Y=p(tt,"SPAN",{class:!0,"data-svelte-h":!0}),De(Y)!=="svelte-1bkkvwr"&&(Y.textContent=Z),y=A(tt),L=p(tt,"BUTTON",{class:!0});var Be=k(L);ee=z(Be,"#"),G=z(Be,se),Be.forEach(u),tt.forEach(u),te=A(We),R=p(We,"DIV",{class:!0});var ot=k(R);M=p(ot,"SPAN",{class:!0,"data-svelte-h":!0}),De(M)!=="svelte-16fo64b"&&(M.textContent=K),le=A(ot),Q=p(ot,"SPAN",{class:!0});var ft=k(Q);ce=z(ft,H),x=A(ft),ge&&ge.l(ft),ft.forEach(u),ot.forEach(u),ne=A(We),B=p(We,"DIV",{class:!0});var ut=k(B);j=p(ut,"SPAN",{class:!0,"data-svelte-h":!0}),De(j)!=="svelte-1m0tcpl"&&(j.textContent=Ce),ae=A(ut),ie=p(ut,"SPAN",{class:!0});var Et=k(ie);Ie.l(Et),Et.forEach(u),ut.forEach(u),We.forEach(u),re=A(Ae),Ae.forEach(u),this.h()},h(){b(n,"class","text-lg font-bold text-primary-600 dark:text-primary-400"),b(l,"class","w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-sm flex items-center justify-center"),b(d,"class","font-semibold text-gray-900 dark:text-white text-base"),b(V,"class","text-sm text-gray-500 dark:text-gray-400"),b(a,"class","flex items-center space-x-4"),b(C,"class","flex items-center space-x-3"),b(t,"class","flex items-center justify-between mb-4"),b(Y,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(L,"class","text-sm text-primary-600 dark:text-primary-400 font-semibold mt-1 hover:underline text-left"),b(N,"class","flex flex-col"),b(M,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(Q,"class","text-sm text-gray-900 dark:text-white font-semibold mt-1"),b(R,"class","flex flex-col"),b(j,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(ie,"class",de="text-sm font-semibold mt-1 "+(r[47].vencido?"text-red-600":"text-green-600")),b(B,"class","flex flex-col"),b(q,"class","grid grid-cols-3 gap-4"),b(e,"class","bg-white dark:bg-gray-800 p-6 border-b border-gray-200 dark:border-gray-700 last:border-b-0")},m(qe,Ae){I(qe,e,Ae),f(e,t),f(t,a),f(a,l),f(l,n),f(n,i),f(a,o),f(a,c),f(c,d),f(d,g),f(c,$),f(c,V),f(V,O),f(V,D),f(t,h),f(t,C),W(S,C,null),f(e,w),f(e,q),f(q,N),f(N,Y),f(N,y),f(N,L),f(L,ee),f(L,G),f(q,te),f(q,R),f(R,M),f(R,le),f(R,Q),f(Q,ce),f(Q,x),ge&&ge.m(Q,null),f(q,ne),f(q,B),f(B,j),f(B,ae),f(B,ie),Ie.m(ie,null),f(e,re),ue=!0,he||(me=Pe(L,"click",$e),he=!0)},p(qe,Ae){r=qe,(!ue||Ae[0]&1)&&s!==(s=r[47].quantidade+"")&&oe(i,s),(!ue||Ae[0]&1)&&m!==(m=r[47].nomeEquipamento+"")&&oe(g,m),(!ue||Ae[0]&1)&&T!==(T=r[47].registroCA+"")&&oe(D,T);const Ve={};Ae[1]&524288&&(Ve.$$scope={dirty:Ae,ctx:r}),S.$set(Ve),(!ue||Ae[0]&1)&&se!==(se=r[47].entregaId+"")&&oe(G,se),(!ue||Ae[0]&1)&&H!==(H=et(r[47].prazoMaximoDevolucao)+"")&&oe(ce,H),r[47].vencido?ge?ge.p(r,Ae):(ge=Cl(r),ge.c(),ge.m(Q,null)):ge&&(ge.d(1),ge=null),we!==(we=_e(r))&&(Ie.d(1),Ie=we(r),Ie&&(Ie.c(),Ie.m(ie,null))),(!ue||Ae[0]&1&&de!==(de="text-sm font-semibold mt-1 "+(r[47].vencido?"text-red-600":"text-green-600")))&&b(ie,"class",de)},i(qe){ue||(_(S.$$.fragment,qe),ue=!0)},o(qe){E(S.$$.fragment,qe),ue=!1},d(qe){qe&&u(e),U(S),ge&&ge.d(),Ie.d(),he=!1,me()}}}function Wn(r){let e,t,a,l;const n=[Rn,Hn],s=[];function i(o,c){return o[0].equipamentosEmPosse.length>0?0:1}return t=i(r),a=s[t]=n[t](r),{c(){e=v("div"),a.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var c=k(e);a.l(c),c.forEach(u),this.h()},h(){b(e,"class","mt-6 border border-gray-200 dark:border-gray-700 rounded-sm overflow-hidden")},m(o,c){I(o,e,c),s[t].m(e,null),l=!0},p(o,c){let d=t;t=i(o),t===d?s[t].p(o,c):(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),a=s[t],a?a.p(o,c):(a=s[t]=n[t](o),a.c()),_(a,1),a.m(e,null))},i(o){l||(_(a),l=!0)},o(o){E(a),l=!1},d(o){o&&u(e),s[t].d()}}}function Jn(r){let e,t,a,l,n,s="Nenhuma devoluÃ§Ã£o encontrada",i,o,c="Este colaborador nÃ£o possui devoluÃ§Ãµes registradas.",d;return a=new ye({props:{name:"ArrowUturnLeftOutline",className:"text-gray-400",size:"w-8 h-8"}}),{c(){e=v("div"),t=v("div"),J(a.$$.fragment),l=P(),n=v("h3"),n.textContent=s,i=P(),o=v("p"),o.textContent=c,this.h()},l(m){e=p(m,"DIV",{class:!0});var g=k(e);t=p(g,"DIV",{class:!0});var $=k(t);X(a.$$.fragment,$),$.forEach(u),l=A(g),n=p(g,"H3",{class:!0,"data-svelte-h":!0}),De(n)!=="svelte-rnqo4m"&&(n.textContent=s),i=A(g),o=p(g,"P",{class:!0,"data-svelte-h":!0}),De(o)!=="svelte-7hptym"&&(o.textContent=c),g.forEach(u),this.h()},h(){b(t,"class","p-4 bg-gray-100 dark:bg-gray-800 rounded-full w-fit mx-auto mb-4"),b(n,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),b(o,"class","text-gray-500 dark:text-gray-400"),b(e,"class","text-center py-12")},m(m,g){I(m,e,g),f(e,t),W(a,t,null),f(e,l),f(e,n),f(e,i),f(e,o),d=!0},p:Se,i(m){d||(_(a.$$.fragment,m),d=!0)},o(m){E(a.$$.fragment,m),d=!1},d(m){m&&u(e),U(a)}}}function Xn(r){let e,t,a=Qe(r[0].devolucoes),l=[];for(let s=0;s<a.length;s+=1)l[s]=Al(El(r,a,s));const n=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=Ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);I(s,e,i),t=!0},p(s,i){if(i[0]&1){a=Qe(s[0].devolucoes);let o;for(o=0;o<a.length;o+=1){const c=El(s,a,o);l[o]?(l[o].p(c,i),_(l[o],1)):(l[o]=Al(c),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(pe(),o=a.length;o<l.length;o+=1)n(o);ve()}},i(s){if(!t){for(let i=0;i<a.length;i+=1)_(l[i]);t=!0}},o(s){l=l.filter(fa);for(let i=0;i<l.length;i+=1)E(l[i]);t=!1},d(s){s&&u(e),vt(l,s)}}}function Gn(r){let e;return{c(){e=F("Cancelar")},l(t){e=z(t,"Cancelar")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function yl(r){let e,t,a=r[44].diasAtraso+"",l,n;return{c(){e=v("span"),t=F("- "),l=F(a),n=F(" dias atrasado"),this.h()},l(s){e=p(s,"SPAN",{class:!0});var i=k(e);t=z(i,"- "),l=z(i,a),n=z(i," dias atrasado"),i.forEach(u),this.h()},h(){b(e,"class","text-red-600")},m(s,i){I(s,e,i),f(e,t),f(e,l),f(e,n)},p(s,i){i[0]&1&&a!==(a=s[44].diasAtraso+"")&&oe(l,a)},d(s){s&&u(e)}}}function Al(r){let e,t,a,l,n,s=r[44].quantidade+"",i,o,c,d,m=r[44].nomeEquipamento+"",g,$,V,O,T=r[44].registroCA+"",D,h,C,S,w,q,N,Y,Z="Entrega",y,L,ee,se=Math.random().toString(36).substr(2,3).toUpperCase()+"",G,te,R,M,K="Prazo Original",le,Q,H=et(r[44].prazoOriginal)+"",ce,x,ne,B,j,Ce="Data da devoluÃ§Ã£o",ae,ie,de=et(r[44].dataDevolucao)+"",re,ue,he,me,be;function $e(){return r[26](r[44])}S=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm border border-gray-300 dark:border-gray-600",$$slots:{default:[Gn]},$$scope:{ctx:r}}}),S.$on("click",$e);let ge=!r[44].noPrazo&&yl(r);return{c(){e=v("div"),t=v("div"),a=v("div"),l=v("div"),n=v("span"),i=F(s),o=P(),c=v("div"),d=v("p"),g=F(m),$=P(),V=v("p"),O=F("CA "),D=F(T),h=P(),C=v("div"),J(S.$$.fragment),w=P(),q=v("div"),N=v("div"),Y=v("span"),Y.textContent=Z,y=P(),L=v("button"),ee=F("#E"),G=F(se),te=P(),R=v("div"),M=v("span"),M.textContent=K,le=P(),Q=v("span"),ce=F(H),x=P(),ge&&ge.c(),ne=P(),B=v("div"),j=v("span"),j.textContent=Ce,ae=P(),ie=v("span"),re=F(de),ue=P(),this.h()},l(_e){e=p(_e,"DIV",{class:!0});var we=k(e);t=p(we,"DIV",{class:!0});var Ie=k(t);a=p(Ie,"DIV",{class:!0});var qe=k(a);l=p(qe,"DIV",{class:!0});var Ae=k(l);n=p(Ae,"SPAN",{class:!0});var Ve=k(n);i=z(Ve,s),Ve.forEach(u),Ae.forEach(u),o=A(qe),c=p(qe,"DIV",{});var Ne=k(c);d=p(Ne,"P",{class:!0});var je=k(d);g=z(je,m),je.forEach(u),$=A(Ne),V=p(Ne,"P",{class:!0});var Le=k(V);O=z(Le,"CA "),D=z(Le,T),Le.forEach(u),Ne.forEach(u),qe.forEach(u),h=A(Ie),C=p(Ie,"DIV",{class:!0});var Ue=k(C);X(S.$$.fragment,Ue),Ue.forEach(u),Ie.forEach(u),w=A(we),q=p(we,"DIV",{class:!0});var Me=k(q);N=p(Me,"DIV",{class:!0});var Ke=k(N);Y=p(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),De(Y)!=="svelte-1bkkvwr"&&(Y.textContent=Z),y=A(Ke),L=p(Ke,"BUTTON",{class:!0});var st=k(L);ee=z(st,"#E"),G=z(st,se),st.forEach(u),Ke.forEach(u),te=A(Me),R=p(Me,"DIV",{class:!0});var We=k(R);M=p(We,"SPAN",{class:!0,"data-svelte-h":!0}),De(M)!=="svelte-k3q2nw"&&(M.textContent=K),le=A(We),Q=p(We,"SPAN",{class:!0});var tt=k(Q);ce=z(tt,H),x=A(tt),ge&&ge.l(tt),tt.forEach(u),We.forEach(u),ne=A(Me),B=p(Me,"DIV",{class:!0});var Be=k(B);j=p(Be,"SPAN",{class:!0,"data-svelte-h":!0}),De(j)!=="svelte-b9twru"&&(j.textContent=Ce),ae=A(Be),ie=p(Be,"SPAN",{class:!0});var ot=k(ie);re=z(ot,de),ot.forEach(u),Be.forEach(u),Me.forEach(u),ue=A(we),we.forEach(u),this.h()},h(){b(n,"class","text-lg font-bold text-green-600 dark:text-green-400"),b(l,"class","w-10 h-10 bg-green-100 dark:bg-green-900 rounded-sm flex items-center justify-center"),b(d,"class","font-semibold text-gray-900 dark:text-white text-base"),b(V,"class","text-sm text-gray-500 dark:text-gray-400"),b(a,"class","flex items-center space-x-4"),b(C,"class","flex items-center space-x-3"),b(t,"class","flex items-center justify-between mb-4"),b(Y,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(L,"class","text-sm text-primary-600 dark:text-primary-400 font-semibold mt-1 hover:underline text-left"),b(N,"class","flex flex-col"),b(M,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(Q,"class","text-sm text-gray-900 dark:text-white font-semibold mt-1"),b(R,"class","flex flex-col"),b(j,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(ie,"class","text-sm text-gray-900 dark:text-white font-semibold mt-1"),b(B,"class","flex flex-col"),b(q,"class","grid grid-cols-3 gap-4"),b(e,"class","bg-white dark:bg-gray-800 p-6 border-b border-gray-200 dark:border-gray-700 last:border-b-0")},m(_e,we){I(_e,e,we),f(e,t),f(t,a),f(a,l),f(l,n),f(n,i),f(a,o),f(a,c),f(c,d),f(d,g),f(c,$),f(c,V),f(V,O),f(V,D),f(t,h),f(t,C),W(S,C,null),f(e,w),f(e,q),f(q,N),f(N,Y),f(N,y),f(N,L),f(L,ee),f(L,G),f(q,te),f(q,R),f(R,M),f(R,le),f(R,Q),f(Q,ce),f(Q,x),ge&&ge.m(Q,null),f(q,ne),f(q,B),f(B,j),f(B,ae),f(B,ie),f(ie,re),f(e,ue),he=!0,me||(be=Pe(L,"click",r[27]),me=!0)},p(_e,we){r=_e,(!he||we[0]&1)&&s!==(s=r[44].quantidade+"")&&oe(i,s),(!he||we[0]&1)&&m!==(m=r[44].nomeEquipamento+"")&&oe(g,m),(!he||we[0]&1)&&T!==(T=r[44].registroCA+"")&&oe(D,T);const Ie={};we[1]&524288&&(Ie.$$scope={dirty:we,ctx:r}),S.$set(Ie),(!he||we[0]&1)&&H!==(H=et(r[44].prazoOriginal)+"")&&oe(ce,H),r[44].noPrazo?ge&&(ge.d(1),ge=null):ge?ge.p(r,we):(ge=yl(r),ge.c(),ge.m(Q,null)),(!he||we[0]&1)&&de!==(de=et(r[44].dataDevolucao)+"")&&oe(re,de)},i(_e){he||(_(S.$$.fragment,_e),he=!0)},o(_e){E(S.$$.fragment,_e),he=!1},d(_e){_e&&u(e),U(S),ge&&ge.d(),me=!1,be()}}}function Kn(r){let e,t,a,l;const n=[Xn,Jn],s=[];function i(o,c){return o[0].devolucoes.length>0?0:1}return t=i(r),a=s[t]=n[t](r),{c(){e=v("div"),a.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var c=k(e);a.l(c),c.forEach(u),this.h()},h(){b(e,"class","mt-6 border border-gray-200 dark:border-gray-700 rounded-sm overflow-hidden")},m(o,c){I(o,e,c),s[t].m(e,null),l=!0},p(o,c){let d=t;t=i(o),t===d?s[t].p(o,c):(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),a=s[t],a?a.p(o,c):(a=s[t]=n[t](o),a.c()),_(a,1),a.m(e,null))},i(o){l||(_(a),l=!0)},o(o){E(a),l=!1},d(o){o&&u(e),s[t].d()}}}function Yn(r){let e,t,a,l,n,s="Nenhuma entrega encontrada",i,o,c="Esta ficha ainda nÃ£o possui entregas registradas.",d;return a=new ye({props:{name:"TruckOutline",className:"text-gray-400",size:"w-8 h-8"}}),{c(){e=v("div"),t=v("div"),J(a.$$.fragment),l=P(),n=v("h3"),n.textContent=s,i=P(),o=v("p"),o.textContent=c,this.h()},l(m){e=p(m,"DIV",{class:!0});var g=k(e);t=p(g,"DIV",{class:!0});var $=k(t);X(a.$$.fragment,$),$.forEach(u),l=A(g),n=p(g,"H3",{class:!0,"data-svelte-h":!0}),De(n)!=="svelte-13xuse8"&&(n.textContent=s),i=A(g),o=p(g,"P",{class:!0,"data-svelte-h":!0}),De(o)!=="svelte-1p30txm"&&(o.textContent=c),g.forEach(u),this.h()},h(){b(t,"class","p-4 bg-gray-100 dark:bg-gray-800 rounded-full w-fit mx-auto mb-4"),b(n,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),b(o,"class","text-gray-500 dark:text-gray-400"),b(e,"class","text-center py-12")},m(m,g){I(m,e,g),f(e,t),W(a,t,null),f(e,l),f(e,n),f(e,i),f(e,o),d=!0},p:Se,i(m){d||(_(a.$$.fragment,m),d=!0)},o(m){E(a.$$.fragment,m),d=!1},d(m){m&&u(e),U(a)}}}function Zn(r){let e,t,a=Qe(r[0].entregas),l=[];for(let s=0;s<a.length;s+=1)l[s]=ql(kl(r,a,s));const n=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=Ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);I(s,e,i),t=!0},p(s,i){if(i[0]&2883617){a=Qe(s[0].entregas);let o;for(o=0;o<a.length;o+=1){const c=kl(s,a,o);l[o]?(l[o].p(c,i),_(l[o],1)):(l[o]=ql(c),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(pe(),o=a.length;o<l.length;o+=1)n(o);ve()}},i(s){if(!t){for(let i=0;i<a.length;i+=1)_(l[i]);t=!0}},o(s){l=l.filter(fa);for(let i=0;i<l.length;i+=1)E(l[i]);t=!1},d(s){s&&u(e),vt(l,s)}}}function es(r){let e=r[41].label+"",t;return{c(){t=F(e)},l(a){t=z(a,e)},m(a,l){I(a,t,l)},p(a,l){l[0]&1&&e!==(e=a[41].label+"")&&oe(t,e)},d(a){a&&u(t)}}}function Pl(r){let e,t;function a(){return r[28](r[40])}return e=new Oe({props:{size:"sm",color:"primary",class:"rounded-sm",disabled:r[5],$$slots:{default:[ts]},$$scope:{ctx:r}}}),e.$on("click",a),{c(){J(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){r=l;const s={};n[0]&32&&(s.disabled=r[5]),n[1]&524288&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function ts(r){let e;return{c(){e=F("Assinar")},l(t){e=z(t,"Assinar")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function as(r){let e,t,a;return e=new ye({props:{name:"PrinterOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
                              Imprimir`)},l(l){X(e.$$.fragment,l),t=z(l,`
                              Imprimir`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},p:Se,i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function ls(r){let e,t,a;return e=new ye({props:{name:"EditOutline",className:"mr-2",size:"w-4 h-4"}}),{c(){J(e.$$.fragment),t=F(`
                              Editar`)},l(l){X(e.$$.fragment,l),t=z(l,`
                              Editar`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},p:Se,i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function Vl(r){let e,t,a="Data Assinatura",l,n,s=et(r[40].dataAssinatura)+"",i;return{c(){e=v("div"),t=v("span"),t.textContent=a,l=P(),n=v("span"),i=F(s),this.h()},l(o){e=p(o,"DIV",{class:!0});var c=k(e);t=p(c,"SPAN",{class:!0,"data-svelte-h":!0}),De(t)!=="svelte-y249x4"&&(t.textContent=a),l=A(c),n=p(c,"SPAN",{class:!0});var d=k(n);i=z(d,s),d.forEach(u),c.forEach(u),this.h()},h(){b(t,"class","text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide"),b(n,"class","text-sm text-gray-900 dark:text-white font-semibold mt-1"),b(e,"class","flex flex-col")},m(o,c){I(o,e,c),f(e,t),f(e,l),f(e,n),f(n,i)},p(o,c){c[0]&1&&s!==(s=et(o[40].dataAssinatura)+"")&&oe(i,s)},d(o){o&&u(e)}}}function rs(r){let e;return{c(){e=F("Qtd: 1")},l(t){e=z(t,"Qtd: 1")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function ql(r){let e,t,a,l,n,s,i,o,c,d=r[40].id+"",m,g,$,V=et(r[40].dataEntrega)+"",O,T,D,h,C,S,w,q,N,Y,Z,y,L,ee,se='<span class="text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide">ResponsÃ¡vel</span> <span class="text-sm text-gray-900 dark:text-white font-semibold mt-1">ResponsÃ¡vel da Entrega</span>',G,te,R='<span class="text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide">Itens</span> <span class="text-sm text-gray-900 dark:text-white font-semibold mt-1">1 item</span>',M,K,le,Q,H="EPIs Entregues:",ce,x,ne,B,j='<span class="text-sm text-gray-900 dark:text-white font-medium">Capacete de SeguranÃ§a</span> <span class="text-xs text-gray-500 dark:text-gray-400">CA 31469</span>',Ce,ae,ie,de;n=new ye({props:{name:"TruckOutline",className:"text-primary-600 dark:text-primary-400",size:"w-5 h-5"}}),C=new Xt({props:{color:r[41].color,class:"w-fit rounded-sm",$$slots:{default:[es]},$$scope:{ctx:r}}});let re=r[40].status==="nao_assinado"&&Pl(r);function ue(){return r[29](r[40])}N=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm border border-gray-300 dark:border-gray-600",$$slots:{default:[as]},$$scope:{ctx:r}}}),N.$on("click",ue);function he(){return r[30](r[40])}Z=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm border border-gray-300 dark:border-gray-600",$$slots:{default:[ls]},$$scope:{ctx:r}}}),Z.$on("click",he);let me=r[40].status==="assinado"&&r[40].dataAssinatura&&Vl(r);return ae=new Xt({props:{color:"gray",class:"w-fit rounded-md text-xs",$$slots:{default:[rs]},$$scope:{ctx:r}}}),{c(){e=v("div"),t=v("div"),a=v("div"),l=v("div"),J(n.$$.fragment),s=P(),i=v("div"),o=v("p"),c=F("Entrega "),m=F(d),g=P(),$=v("p"),O=F(V),T=F(" â€¢ ResponsÃ¡vel da Entrega"),D=P(),h=v("div"),J(C.$$.fragment),S=P(),w=v("div"),re&&re.c(),q=P(),J(N.$$.fragment),Y=P(),J(Z.$$.fragment),y=P(),L=v("div"),ee=v("div"),ee.innerHTML=se,G=P(),te=v("div"),te.innerHTML=R,M=P(),me&&me.c(),K=P(),le=v("div"),Q=v("p"),Q.textContent=H,ce=P(),x=v("div"),ne=v("div"),B=v("div"),B.innerHTML=j,Ce=P(),J(ae.$$.fragment),ie=P(),this.h()},l(be){e=p(be,"DIV",{class:!0});var $e=k(e);t=p($e,"DIV",{class:!0});var ge=k(t);a=p(ge,"DIV",{class:!0});var _e=k(a);l=p(_e,"DIV",{class:!0});var we=k(l);X(n.$$.fragment,we),we.forEach(u),s=A(_e),i=p(_e,"DIV",{});var Ie=k(i);o=p(Ie,"P",{class:!0});var qe=k(o);c=z(qe,"Entrega "),m=z(qe,d),qe.forEach(u),g=A(Ie),$=p(Ie,"P",{class:!0});var Ae=k($);O=z(Ae,V),T=z(Ae," â€¢ ResponsÃ¡vel da Entrega"),Ae.forEach(u),Ie.forEach(u),_e.forEach(u),D=A(ge),h=p(ge,"DIV",{class:!0});var Ve=k(h);X(C.$$.fragment,Ve),S=A(Ve),w=p(Ve,"DIV",{class:!0});var Ne=k(w);re&&re.l(Ne),q=A(Ne),X(N.$$.fragment,Ne),Y=A(Ne),X(Z.$$.fragment,Ne),Ne.forEach(u),Ve.forEach(u),ge.forEach(u),y=A($e),L=p($e,"DIV",{class:!0});var je=k(L);ee=p(je,"DIV",{class:!0,"data-svelte-h":!0}),De(ee)!=="svelte-aj4nd7"&&(ee.innerHTML=se),G=A(je),te=p(je,"DIV",{class:!0,"data-svelte-h":!0}),De(te)!=="svelte-12aei6o"&&(te.innerHTML=R),M=A(je),me&&me.l(je),je.forEach(u),K=A($e),le=p($e,"DIV",{class:!0});var Le=k(le);Q=p(Le,"P",{class:!0,"data-svelte-h":!0}),De(Q)!=="svelte-3j99ra"&&(Q.textContent=H),ce=A(Le),x=p(Le,"DIV",{class:!0});var Ue=k(x);ne=p(Ue,"DIV",{class:!0});var Me=k(ne);B=p(Me,"DIV",{class:!0,"data-svelte-h":!0}),De(B)!=="svelte-171j8y6"&&(B.innerHTML=j),Ce=A(Me),X(ae.$$.fragment,Me),Me.forEach(u),Ue.forEach(u),Le.forEach(u),ie=A($e),$e.forEach(u),this.h()},h(){b(l,"class","p-3 bg-primary-100 dark:bg-primary-900 rounded-sm"),b(o,"class","font-semibold text-gray-900 dark:text-white text-base"),b($,"class","text-sm text-gray-500 dark:text-gray-400"),b(a,"class","flex items-center space-x-4"),b(w,"class","flex items-center space-x-2"),b(h,"class","flex items-center space-x-3"),b(t,"class","flex items-center justify-between mb-4"),b(ee,"class","flex flex-col"),b(te,"class","flex flex-col"),b(L,"class","grid grid-cols-2 gap-4 mb-4"),b(Q,"class","text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"),b(B,"class","flex flex-col"),b(ne,"class","flex items-center justify-between py-3 px-4 bg-gray-50 dark:bg-gray-700 rounded-sm"),b(x,"class","space-y-2"),b(le,"class","mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"),b(e,"class","bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-sm p-6 shadow-sm")},m(be,$e){I(be,e,$e),f(e,t),f(t,a),f(a,l),W(n,l,null),f(a,s),f(a,i),f(i,o),f(o,c),f(o,m),f(i,g),f(i,$),f($,O),f($,T),f(t,D),f(t,h),W(C,h,null),f(h,S),f(h,w),re&&re.m(w,null),f(w,q),W(N,w,null),f(w,Y),W(Z,w,null),f(e,y),f(e,L),f(L,ee),f(L,G),f(L,te),f(L,M),me&&me.m(L,null),f(e,K),f(e,le),f(le,Q),f(le,ce),f(le,x),f(x,ne),f(ne,B),f(ne,Ce),W(ae,ne,null),f(e,ie),de=!0},p(be,$e){r=be,(!de||$e[0]&1)&&d!==(d=r[40].id+"")&&oe(m,d),(!de||$e[0]&1)&&V!==(V=et(r[40].dataEntrega)+"")&&oe(O,V);const ge={};$e[0]&1&&(ge.color=r[41].color),$e[0]&1|$e[1]&524288&&(ge.$$scope={dirty:$e,ctx:r}),C.$set(ge),r[40].status==="nao_assinado"?re?(re.p(r,$e),$e[0]&1&&_(re,1)):(re=Pl(r),re.c(),_(re,1),re.m(w,q)):re&&(pe(),E(re,1,1,()=>{re=null}),ve());const _e={};$e[1]&524288&&(_e.$$scope={dirty:$e,ctx:r}),N.$set(_e);const we={};$e[1]&524288&&(we.$$scope={dirty:$e,ctx:r}),Z.$set(we),r[40].status==="assinado"&&r[40].dataAssinatura?me?me.p(r,$e):(me=Vl(r),me.c(),me.m(L,null)):me&&(me.d(1),me=null);const Ie={};$e[1]&524288&&(Ie.$$scope={dirty:$e,ctx:r}),ae.$set(Ie)},i(be){de||(_(n.$$.fragment,be),_(C.$$.fragment,be),_(re),_(N.$$.fragment,be),_(Z.$$.fragment,be),_(ae.$$.fragment,be),de=!0)},o(be){E(n.$$.fragment,be),E(C.$$.fragment,be),E(re),E(N.$$.fragment,be),E(Z.$$.fragment,be),E(ae.$$.fragment,be),de=!1},d(be){be&&u(e),U(n),U(C),re&&re.d(),U(N),U(Z),me&&me.d(),U(ae)}}}function ns(r){let e,t,a,l;const n=[Zn,Yn],s=[];function i(o,c){return o[0].entregas.length>0?0:1}return t=i(r),a=s[t]=n[t](r),{c(){e=v("div"),a.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var c=k(e);a.l(c),c.forEach(u),this.h()},h(){b(e,"class","space-y-4 mt-6")},m(o,c){I(o,e,c),s[t].m(e,null),l=!0},p(o,c){let d=t;t=i(o),t===d?s[t].p(o,c):(pe(),E(s[d],1,1,()=>{s[d]=null}),ve(),a=s[t],a?a.p(o,c):(a=s[t]=n[t](o),a.c()),_(a,1),a.m(e,null))},i(o){l||(_(a),l=!0)},o(o){E(a),l=!1},d(o){o&&u(e),s[t].d()}}}function ss(r){let e,t,a,l,n,s;return e=new ra({props:{open:!0,title:"Equipamentos",$$slots:{default:[Wn]},$$scope:{ctx:r}}}),a=new ra({props:{title:"DevoluÃ§Ãµes",$$slots:{default:[Kn]},$$scope:{ctx:r}}}),n=new ra({props:{title:"Entregas",$$slots:{default:[ns]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment),t=P(),J(a.$$.fragment),l=P(),J(n.$$.fragment)},l(i){X(e.$$.fragment,i),t=A(i),X(a.$$.fragment,i),l=A(i),X(n.$$.fragment,i)},m(i,o){W(e,i,o),I(i,t,o),W(a,i,o),I(i,l,o),W(n,i,o),s=!0},p(i,o){const c={};o[0]&1|o[1]&524288&&(c.$$scope={dirty:o,ctx:i}),e.$set(c);const d={};o[0]&1|o[1]&524288&&(d.$$scope={dirty:o,ctx:i}),a.$set(d);const m={};o[0]&33|o[1]&524288&&(m.$$scope={dirty:o,ctx:i}),n.$set(m)},i(i){s||(_(e.$$.fragment,i),_(a.$$.fragment,i),_(n.$$.fragment,i),s=!0)},o(i){E(e.$$.fragment,i),E(a.$$.fragment,i),E(n.$$.fragment,i),s=!1},d(i){i&&(u(t),u(l)),U(e,i),U(a,i),U(n,i)}}}function os(r){let e;return{c(){e=F("Tentar Novamente")},l(t){e=z(t,"Tentar Novamente")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Sl(r){let e,t;return e=new Yr({props:{episDisponiveis:r[1],loading:r[4],show:r[7]}}),e.$on("salvar",r[31]),e.$on("cancelar",r[32]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&2&&(n.episDisponiveis=a[1]),l[0]&16&&(n.loading=a[4]),l[0]&128&&(n.show=a[7]),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Nl(r){let e,t;return e=new dn({props:{episDisponiveis:r[1],entrega:r[11],loading:r[4],show:r[8]}}),e.$on("salvar",r[33]),e.$on("cancelar",r[34]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&2&&(n.episDisponiveis=a[1]),l[0]&2048&&(n.entrega=a[11]),l[0]&16&&(n.loading=a[4]),l[0]&256&&(n.show=a[8]),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Ol(r){let e,t;return e=new yn({props:{equipamento:r[12],loading:r[6],show:r[9]}}),e.$on("confirmar",r[35]),e.$on("cancelar",r[36]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&4096&&(n.equipamento=a[12]),l[0]&64&&(n.loading=a[6]),l[0]&512&&(n.show=a[9]),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Tl(r){let e,t;return e=new Fn({props:{entrega:r[13],loading:r[5],show:r[10]}}),e.$on("confirmar",r[37]),e.$on("cancelar",r[38]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&8192&&(n.entrega=a[13]),l[0]&32&&(n.loading=a[5]),l[0]&1024&&(n.show=a[10]),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function is(r){let e,t,a=r[14]&&Dl(r);return{c(){a&&a.c(),e=Ee()},l(l){a&&a.l(l),e=Ee()},m(l,n){a&&a.m(l,n),I(l,e,n),t=!0},p(l,n){l[14]?a?(a.p(l,n),n[0]&16384&&_(a,1)):(a=Dl(l),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(pe(),E(a,1,1,()=>{a=null}),ve())},i(l){t||(_(a),t=!0)},o(l){E(a),t=!1},d(l){l&&u(e),a&&a.d(l)}}}function fs(r){switch(r){case"assinado":return{color:"green",label:"Assinado"};case"nao_assinado":return{color:"yellow",label:"Pendente Assinatura"};case"cancelado":return{color:"red",label:"Cancelado"};default:return{color:"gray",label:"Indefinido"}}}function us(r,e,t){let{fichaData:a=null}=e,{episDisponiveis:l=[]}=e,{loading:n=!1}=e,{error:s=null}=e,{entregaLoading:i=!1}=e,{assinaturaLoading:o=!1}=e,{devolucaoLoading:c=!1}=e,{showNovaEntregaDrawer:d=!1}=e,{showEditarEntregaDrawer:m=!1}=e,{showDevolucaoModal:g=!1}=e,{showAssinaturaModal:$=!1}=e,{entregaEdicao:V=null}=e,{equipamentoDevolucao:O=null}=e,{entregaAssinatura:T=null}=e,{open:D=!1}=e;const h=kt();function C(){h("close")}function S(){h("novaEntrega")}function w(j){h("editarEntrega",{entrega:j})}function q(j){h("assinarEntrega",{entrega:j})}function N(j){h("devolverEquipamento",{equipamento:j})}function Y(j){h("imprimirEntrega",{entrega:j})}const Z=j=>j.key==="Escape"&&C(),y=()=>window.location.reload(),L=j=>N(j),ee=j=>{console.log("Abrir drawer da entrega:",j.entregaId)},se=j=>{console.log("Cancelar devoluÃ§Ã£o:",j)},G=()=>{console.log("Abrir drawer da entrega")},te=j=>q(j),R=j=>Y(j),M=j=>w(j),K=j=>h("salvarNovaEntrega",j.detail),le=()=>h("cancelarNovaEntrega"),Q=j=>h("salvarEdicaoEntrega",j.detail),H=()=>h("cancelarEdicaoEntrega"),ce=j=>h("confirmarDevolucao",j.detail),x=()=>h("cancelarDevolucao"),ne=j=>h("confirmarAssinatura",j.detail),B=()=>h("cancelarAssinatura");return r.$$set=j=>{"fichaData"in j&&t(0,a=j.fichaData),"episDisponiveis"in j&&t(1,l=j.episDisponiveis),"loading"in j&&t(2,n=j.loading),"error"in j&&t(3,s=j.error),"entregaLoading"in j&&t(4,i=j.entregaLoading),"assinaturaLoading"in j&&t(5,o=j.assinaturaLoading),"devolucaoLoading"in j&&t(6,c=j.devolucaoLoading),"showNovaEntregaDrawer"in j&&t(7,d=j.showNovaEntregaDrawer),"showEditarEntregaDrawer"in j&&t(8,m=j.showEditarEntregaDrawer),"showDevolucaoModal"in j&&t(9,g=j.showDevolucaoModal),"showAssinaturaModal"in j&&t(10,$=j.showAssinaturaModal),"entregaEdicao"in j&&t(11,V=j.entregaEdicao),"equipamentoDevolucao"in j&&t(12,O=j.equipamentoDevolucao),"entregaAssinatura"in j&&t(13,T=j.entregaAssinatura),"open"in j&&t(14,D=j.open)},[a,l,n,s,i,o,c,d,m,g,$,V,O,T,D,h,C,S,w,q,N,Y,Z,y,L,ee,se,G,te,R,M,K,le,Q,H,ce,x,ne,B]}class cs extends lt{constructor(e){super(),rt(this,e,us,is,nt,{fichaData:0,episDisponiveis:1,loading:2,error:3,entregaLoading:4,assinaturaLoading:5,devolucaoLoading:6,showNovaEntregaDrawer:7,showEditarEntregaDrawer:8,showDevolucaoModal:9,showAssinaturaModal:10,entregaEdicao:11,equipamentoDevolucao:12,entregaAssinatura:13,open:14},null,[-1,-1])}}function zl(r){let e,t;const a=[r[1]];let l={};for(let n=0;n<a.length;n+=1)l=it(l,a[n]);return e=new cs({props:l}),e.$on("close",r[2]),e.$on("novaEntrega",r[3]),e.$on("salvarNovaEntrega",r[4]),e.$on("cancelarNovaEntrega",r[5]),e.$on("editarEntrega",r[6]),e.$on("salvarEdicaoEntrega",r[7]),e.$on("cancelarEdicaoEntrega",r[8]),e.$on("assinarEntrega",r[9]),e.$on("confirmarAssinatura",r[10]),e.$on("cancelarAssinatura",r[11]),e.$on("devolverEquipamento",r[12]),e.$on("confirmarDevolucao",r[13]),e.$on("cancelarDevolucao",r[14]),e.$on("cancelarEntrega",r[15]),e.$on("imprimirEntrega",r[16]),{c(){J(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,s){W(e,n,s),t=!0},p(n,s){const i=s[0]&2?Tt(a,[tr(n[1])]):{};e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function ds(r){let e,t,a=r[0]&&zl(r);return{c(){a&&a.c(),e=Ee()},l(l){a&&a.l(l),e=Ee()},m(l,n){a&&a.m(l,n),I(l,e,n),t=!0},p(l,n){l[0]?a?(a.p(l,n),n[0]&1&&_(a,1)):(a=zl(l),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(pe(),E(a,1,1,()=>{a=null}),ve())},i(l){t||(_(a),t=!0)},o(l){E(a),t=!1},d(l){l&&u(e),a&&a.d(l)}}}function ms(r,e,t){let a,{open:l=!1}=e,{fichaId:n=null}=e;const s=kt();let i=null,o=[],c=!0,d=null,m=!1,g=!1,$=!1,V=!1,O=!1,T=!1,D=!1,h=null,C=null,S=null,w=null;na(()=>{console.log("ðŸš€ FichaDetailContainer: Inicializando..."),N()});async function q(){if(n){t(20,c=!0),t(21,d=null),t(32,w=n);try{console.log("ðŸ“‹ Carregando dados da ficha:",n),t(18,i=await $t.getFichaDetailData(n)),console.log("âœ… Dados da ficha carregados:",i)}catch(x){console.error("âŒ Erro ao carregar ficha:",x),t(21,d=x instanceof Error?x.message:"Erro desconhecido"),Ze.error("Erro ao carregar ficha","NÃ£o foi possÃ­vel carregar os dados da ficha")}finally{t(20,c=!1)}}}async function N(){try{t(19,o=await $t.getEPIsDisponiveis()),console.log("ðŸ“¦ EPIs disponÃ­veis carregados:",o.length)}catch(x){console.error("âŒ Erro ao carregar EPIs disponÃ­veis:",x)}}function Y(){t(0,l=!1),t(32,w=null),t(18,i=null),t(21,d=null),t(22,m=!1),t(23,g=!1),t(24,$=!1),t(25,V=!1),s("close"),console.log("âŒ Drawer fechado")}function Z(){t(22,m=!0),console.log("âž• Abrindo formulÃ¡rio de nova entrega")}async function y(x){if(n){t(26,O=!0);try{console.log("ðŸ’¾ Salvando nova entrega:",x.detail);const ne=await $t.criarNovaEntrega(n,x.detail);t(22,m=!1),await q(),Ze.success("Entrega criada",`Entrega ${ne.id} criada com sucesso`),s("fichaUpdated",{fichaId:n})}catch(ne){console.error("âŒ Erro ao salvar entrega:",ne),Ze.error("Erro ao salvar","NÃ£o foi possÃ­vel criar a entrega")}finally{t(26,O=!1)}}}function L(){t(22,m=!1),console.log("âŒ Nova entrega cancelada")}function ee(x){t(29,h=x.detail.entrega),t(23,g=!0),console.log("âœï¸ Editando entrega:",h.id)}async function se(x){if(h){t(26,O=!0);try{console.log("ðŸ’¾ Salvando ediÃ§Ã£o de entrega:",x.detail),await $t.editarEntrega(h.id,x.detail),t(23,g=!1),t(29,h=null),await q(),Ze.success("Entrega atualizada","Entrega foi atualizada com sucesso"),s("fichaUpdated",{fichaId:n})}catch(ne){console.error("âŒ Erro ao editar entrega:",ne),Ze.error("Erro ao editar","NÃ£o foi possÃ­vel atualizar a entrega")}finally{t(26,O=!1)}}}function G(){t(23,g=!1),t(29,h=null),console.log("âŒ EdiÃ§Ã£o de entrega cancelada")}function te(x){t(31,S=x.detail.entrega),t(25,V=!0),console.log("âœï¸ Iniciando assinatura da entrega:",S.id)}async function R(x){if(S){t(27,T=!0);try{console.log("âœï¸ Processando assinatura:",x.detail),await $t.processarAssinatura(S.id,{entregaId:S.id,assinatura:x.detail.assinatura}),t(25,V=!1),t(31,S=null),await q(),Ze.success("Assinatura registrada","Entrega foi assinada com sucesso"),s("fichaUpdated",{fichaId:n})}catch(ne){console.error("âŒ Erro ao processar assinatura:",ne),Ze.error("Erro na assinatura","NÃ£o foi possÃ­vel registrar a assinatura")}finally{t(27,T=!1)}}}function M(){t(25,V=!1),t(31,S=null),console.log("âŒ Assinatura cancelada")}function K(x){t(30,C=x.detail.equipamento),t(24,$=!0),console.log("ðŸ”„ Iniciando devoluÃ§Ã£o:",C.id)}async function le(x){if(C){t(28,D=!0);try{console.log("ðŸ”„ Processando devoluÃ§Ã£o:",x.detail),await $t.processarDevolucao(C.id,{entregaId:C.entregaId,motivo:x.detail.motivo}),t(24,$=!1),t(30,C=null),await q(),Ze.success("DevoluÃ§Ã£o registrada","Equipamento foi devolvido com sucesso"),s("fichaUpdated",{fichaId:n})}catch(ne){console.error("âŒ Erro ao processar devoluÃ§Ã£o:",ne),Ze.error("Erro na devoluÃ§Ã£o","NÃ£o foi possÃ­vel registrar a devoluÃ§Ã£o")}finally{t(28,D=!1)}}}function Q(){t(24,$=!1),t(30,C=null),console.log("âŒ DevoluÃ§Ã£o cancelada")}async function H(x){try{console.log("âŒ Cancelando entrega:",x.detail),await $t.cancelarEntrega(x.detail.entrega.id,x.detail.motivo),await q(),Ze.success("Entrega cancelada","Entrega foi cancelada com sucesso"),s("fichaUpdated",{fichaId:n})}catch(ne){console.error("âŒ Erro ao cancelar entrega:",ne),Ze.error("Erro ao cancelar","NÃ£o foi possÃ­vel cancelar a entrega")}}function ce(x){console.log("ðŸ–¨ï¸ Imprimindo entrega:",x.detail.entrega.id),Ze.info("FunÃ§Ã£o em desenvolvimento","ImpressÃ£o serÃ¡ implementada em breve")}return r.$$set=x=>{"open"in x&&t(0,l=x.open),"fichaId"in x&&t(17,n=x.fichaId)},r.$$.update=()=>{r.$$.dirty[0]&131073|r.$$.dirty[1]&2&&l&&n&&n!==w&&q(),r.$$.dirty[0]&2147221505|r.$$.dirty[1]&1&&t(1,a={fichaData:i,episDisponiveis:o,loading:c,error:d,entregaLoading:O,assinaturaLoading:T,devolucaoLoading:D,showNovaEntregaDrawer:m,showEditarEntregaDrawer:g,showDevolucaoModal:$,showAssinaturaModal:V,entregaEdicao:h,equipamentoDevolucao:C,entregaAssinatura:S,open:l})},[l,a,Y,Z,y,L,ee,se,G,te,R,M,K,le,Q,H,ce,n,i,o,c,d,m,g,$,V,O,T,D,h,C,S,w]}class gs extends lt{constructor(e){super(),rt(this,e,ms,ds,nt,{open:0,fichaId:17},null,[-1,-1])}}function Fl(r,e,t){const a=r.slice();a[28]=e[t];const l=Qs(a[28]);return a[29]=l,a}function hs(r){let e,t,a;return e=new sa({props:{class:"w-4 h-4 mr-2"}}),{c(){J(e.$$.fragment),t=F(`
        Nova Ficha`)},l(l){X(e.$$.fragment,l),t=z(l,`
        Nova Ficha`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},p:Se,i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function _s(r){let e,t;return e=new ar({props:{size:"sm",class:"rounded-sm",$$slots:{default:[Ds]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&256|l[1]&2&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function ps(r){let e,t,a,l,n,s,i,o,c,d,m,g,$,V,O,T,D,h,C="DevoluÃ§Ã£o pendente",S,w,q,N,Y,Z,y;n=new lr({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}});function L(K){r[19](K)}let ee={type:"text",placeholder:"Buscar por nome ou CPF...",class:"pl-10 rounded-sm h-10 text-sm"};r[0]!==void 0&&(ee.value=r[0]),i=new yt({props:ee}),Je.push(()=>Xe(i,"value",L)),d=new va({props:{options:r[10],value:r[1],placeholder:"Cargo"}}),d.$on("change",r[20]),g=new va({props:{options:r[11],value:r[2],placeholder:"Empresa"}}),g.$on("change",r[21]);function se(K){r[22](K)}let G={id:"devolucao-pendente-filter",class:"rounded-sm"};r[3]!==void 0&&(G.checked=r[3]),O=new oa({props:G}),Je.push(()=>Xe(O,"checked",se));const te=[Is,Cs],R=[];function M(K,le){return K[8]?0:1}return w=M(r),q=R[w]=te[w](r),Z=new nr({props:{hoverable:!0,$$slots:{default:[Rs]},$$scope:{ctx:r}}}),{c(){e=v("div"),t=v("div"),a=v("div"),l=v("div"),J(n.$$.fragment),s=P(),J(i.$$.fragment),c=P(),J(d.$$.fragment),m=P(),J(g.$$.fragment),$=P(),V=v("div"),J(O.$$.fragment),D=P(),h=v("label"),h.textContent=C,S=P(),q.c(),N=P(),Y=v("div"),J(Z.$$.fragment),this.h()},l(K){e=p(K,"DIV",{class:!0});var le=k(e);t=p(le,"DIV",{class:!0});var Q=k(t);a=p(Q,"DIV",{class:!0});var H=k(a);l=p(H,"DIV",{class:!0});var ce=k(l);X(n.$$.fragment,ce),s=A(ce),X(i.$$.fragment,ce),ce.forEach(u),c=A(H),X(d.$$.fragment,H),m=A(H),X(g.$$.fragment,H),$=A(H),V=p(H,"DIV",{class:!0});var x=k(V);X(O.$$.fragment,x),D=A(x),h=p(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),De(h)!=="svelte-c6xj71"&&(h.textContent=C),x.forEach(u),S=A(H),q.l(H),H.forEach(u),Q.forEach(u),N=A(le),Y=p(le,"DIV",{class:!0});var ne=k(Y);X(Z.$$.fragment,ne),ne.forEach(u),le.forEach(u),this.h()},h(){b(l,"class","relative"),b(h,"for","devolucao-pendente-filter"),b(h,"class","ml-2 text-sm text-gray-900 dark:text-white"),b(V,"class","flex items-center h-10"),b(a,"class","grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"),b(t,"class","p-4 border-b border-gray-200 dark:border-gray-700"),b(Y,"class","min-w-[980px] overflow-x-auto"),b(e,"class","bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden")},m(K,le){I(K,e,le),f(e,t),f(t,a),f(a,l),W(n,l,null),f(l,s),W(i,l,null),f(a,c),W(d,a,null),f(a,m),W(g,a,null),f(a,$),f(a,V),W(O,V,null),f(V,D),f(V,h),f(a,S),R[w].m(a,null),f(e,N),f(e,Y),W(Z,Y,null),y=!0},p(K,le){const Q={};!o&&le[0]&1&&(o=!0,Q.value=K[0],Ge(()=>o=!1)),i.$set(Q);const H={};le[0]&2&&(H.value=K[1]),d.$set(H);const ce={};le[0]&4&&(ce.value=K[2]),g.$set(ce);const x={};!T&&le[0]&8&&(T=!0,x.checked=K[3],Ge(()=>T=!1)),O.$set(x);let ne=w;w=M(K),w===ne?R[w].p(K,le):(pe(),E(R[ne],1,1,()=>{R[ne]=null}),ve(),q=R[w],q?q.p(K,le):(q=R[w]=te[w](K),q.c()),_(q,1),q.m(a,null));const B={};le[0]&512|le[1]&2&&(B.$$scope={dirty:le,ctx:K}),Z.$set(B)},i(K){y||(_(n.$$.fragment,K),_(i.$$.fragment,K),_(d.$$.fragment,K),_(g.$$.fragment,K),_(O.$$.fragment,K),_(q),_(Z.$$.fragment,K),y=!0)},o(K){E(n.$$.fragment,K),E(i.$$.fragment,K),E(d.$$.fragment,K),E(g.$$.fragment,K),E(O.$$.fragment,K),E(q),E(Z.$$.fragment,K),y=!1},d(K){K&&u(e),U(n),U(i),U(d),U(g),U(O),R[w].d(),U(Z)}}}function vs(r){let e,t;return e=new ur({props:{error:r[5],onRetry:r[12]}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[0]&32&&(n.error=a[5]),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function bs(r){let e,t;return e=new Wl({}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p:Se,i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function $s(r){let e,t;return e=new Oe({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[Es]},$$scope:{ctx:r}}}),e.$on("click",r[13]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[1]&2&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function ks(r){let e,t;return e=new Oe({props:{size:"sm",color:"alternative",class:"rounded-sm",$$slots:{default:[ws]},$$scope:{ctx:r}}}),e.$on("click",r[17]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[1]&2&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Es(r){let e,t,a;return e=new sa({props:{class:"w-4 h-4 mr-2"}}),{c(){J(e.$$.fragment),t=F(`
            Criar Primeira Ficha`)},l(l){X(e.$$.fragment,l),t=z(l,`
            Criar Primeira Ficha`)},m(l,n){W(e,l,n),I(l,t,n),a=!0},p:Se,i(l){a||(_(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){l&&u(t),U(e,l)}}}function ws(r){let e;return{c(){e=F("Limpar Filtros")},l(t){e=z(t,"Limpar Filtros")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ds(r){let e,t,a,l,n,s="Nenhuma ficha encontrada",i,o,c=r[8]?"Nenhuma ficha corresponde aos filtros aplicados.":"VocÃª ainda nÃ£o possui fichas EPI cadastradas.",d,m,g,$,V;a=new sa({props:{class:"w-8 h-8 text-gray-400"}});const O=[ks,$s],T=[];function D(h,C){return h[8]?0:1}return g=D(r),$=T[g]=O[g](r),{c(){e=v("div"),t=v("div"),J(a.$$.fragment),l=P(),n=v("h3"),n.textContent=s,i=P(),o=v("p"),d=F(c),m=P(),$.c(),this.h()},l(h){e=p(h,"DIV",{class:!0});var C=k(e);t=p(C,"DIV",{class:!0});var S=k(t);X(a.$$.fragment,S),S.forEach(u),l=A(C),n=p(C,"H3",{class:!0,"data-svelte-h":!0}),De(n)!=="svelte-1cyioj"&&(n.textContent=s),i=A(C),o=p(C,"P",{class:!0});var w=k(o);d=z(w,c),w.forEach(u),m=A(C),$.l(C),C.forEach(u),this.h()},h(){b(t,"class","p-4 bg-gray-100 dark:bg-gray-800 rounded-full w-fit mx-auto mb-4"),b(n,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),b(o,"class","text-gray-500 dark:text-gray-400 mb-4"),b(e,"class","text-center py-12")},m(h,C){I(h,e,C),f(e,t),W(a,t,null),f(e,l),f(e,n),f(e,i),f(e,o),f(o,d),f(e,m),T[g].m(e,null),V=!0},p(h,C){(!V||C[0]&256)&&c!==(c=h[8]?"Nenhuma ficha corresponde aos filtros aplicados.":"VocÃª ainda nÃ£o possui fichas EPI cadastradas.")&&oe(d,c);let S=g;g=D(h),g===S?T[g].p(h,C):(pe(),E(T[S],1,1,()=>{T[S]=null}),ve(),$=T[g],$?$.p(h,C):($=T[g]=O[g](h),$.c()),_($,1),$.m(e,null))},i(h){V||(_(a.$$.fragment,h),_($),V=!0)},o(h){E(a.$$.fragment,h),E($),V=!1},d(h){h&&u(e),U(a),T[g].d()}}}function Cs(r){let e;return{c(){e=v("div")},l(t){e=p(t,"DIV",{}),k(e).forEach(u)},m(t,a){I(t,e,a)},p:Se,i:Se,o:Se,d(t){t&&u(e)}}}function Is(r){let e,t;return e=new Oe({props:{color:"alternative",class:"rounded-sm h-10 w-10 p-0 flex items-center justify-center",title:"Limpar Filtros",$$slots:{default:[ys]},$$scope:{ctx:r}}}),e.$on("click",r[17]),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p(a,l){const n={};l[1]&2&&(n.$$scope={dirty:l,ctx:a}),e.$set(n)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function ys(r){let e,t;return e=new rr({props:{class:"w-4 h-4"}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},p:Se,i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function As(r){let e;return{c(){e=F("Colaborador")},l(t){e=z(t,"Colaborador")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ps(r){let e;return{c(){e=F("Cargo")},l(t){e=z(t,"Cargo")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Vs(r){let e;return{c(){e=F("Empresa")},l(t){e=z(t,"Empresa")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function qs(r){let e;return{c(){e=F("EPIs")},l(t){e=z(t,"EPIs")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ss(r){let e;return{c(){e=F("AÃ§Ãµes")},l(t){e=z(t,"AÃ§Ãµes")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ns(r){let e,t,a,l,n,s,i,o,c,d;return e=new Nt({props:{class:"min-w-[200px]",$$slots:{default:[As]},$$scope:{ctx:r}}}),a=new Nt({props:{class:"min-w-[120px] hidden lg:table-cell",$$slots:{default:[Ps]},$$scope:{ctx:r}}}),n=new Nt({props:{class:"min-w-[150px] hidden xl:table-cell",$$slots:{default:[Vs]},$$scope:{ctx:r}}}),i=new Nt({props:{class:"min-w-[100px]",$$slots:{default:[qs]},$$scope:{ctx:r}}}),c=new Nt({props:{class:"min-w-[120px]",$$slots:{default:[Ss]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment),t=P(),J(a.$$.fragment),l=P(),J(n.$$.fragment),s=P(),J(i.$$.fragment),o=P(),J(c.$$.fragment)},l(m){X(e.$$.fragment,m),t=A(m),X(a.$$.fragment,m),l=A(m),X(n.$$.fragment,m),s=A(m),X(i.$$.fragment,m),o=A(m),X(c.$$.fragment,m)},m(m,g){W(e,m,g),I(m,t,g),W(a,m,g),I(m,l,g),W(n,m,g),I(m,s,g),W(i,m,g),I(m,o,g),W(c,m,g),d=!0},p(m,g){const $={};g[1]&2&&($.$$scope={dirty:g,ctx:m}),e.$set($);const V={};g[1]&2&&(V.$$scope={dirty:g,ctx:m}),a.$set(V);const O={};g[1]&2&&(O.$$scope={dirty:g,ctx:m}),n.$set(O);const T={};g[1]&2&&(T.$$scope={dirty:g,ctx:m}),i.$set(T);const D={};g[1]&2&&(D.$$scope={dirty:g,ctx:m}),c.$set(D)},i(m){d||(_(e.$$.fragment,m),_(a.$$.fragment,m),_(n.$$.fragment,m),_(i.$$.fragment,m),_(c.$$.fragment,m),d=!0)},o(m){E(e.$$.fragment,m),E(a.$$.fragment,m),E(n.$$.fragment,m),E(i.$$.fragment,m),E(c.$$.fragment,m),d=!1},d(m){m&&(u(t),u(l),u(s),u(o)),U(e,m),U(a,m),U(n,m),U(i,m),U(c,m)}}}function Os(r){let e,t,a=r[28].colaborador.nome+"",l,n,s,i,o=r[28].colaborador.cpf+"",c,d,m,g=r[28].colaborador.cargo+"",$,V,O,T=r[28].colaborador.empresa+"",D;return{c(){e=v("div"),t=v("p"),l=F(a),n=P(),s=v("p"),i=F("CPF: "),c=F(o),d=P(),m=v("p"),$=F(g),V=P(),O=v("p"),D=F(T),this.h()},l(h){e=p(h,"DIV",{});var C=k(e);t=p(C,"P",{class:!0});var S=k(t);l=z(S,a),S.forEach(u),n=A(C),s=p(C,"P",{class:!0});var w=k(s);i=z(w,"CPF: "),c=z(w,o),w.forEach(u),d=A(C),m=p(C,"P",{class:!0});var q=k(m);$=z(q,g),q.forEach(u),V=A(C),O=p(C,"P",{class:!0});var N=k(O);D=z(N,T),N.forEach(u),C.forEach(u),this.h()},h(){b(t,"class","font-medium text-gray-900 dark:text-white truncate"),b(s,"class","text-sm text-gray-500 dark:text-gray-400"),b(m,"class","text-xs text-gray-500 dark:text-gray-400 lg:hidden mt-1"),b(O,"class","text-xs text-gray-500 dark:text-gray-400 xl:hidden mt-1")},m(h,C){I(h,e,C),f(e,t),f(t,l),f(e,n),f(e,s),f(s,i),f(s,c),f(e,d),f(e,m),f(m,$),f(e,V),f(e,O),f(O,D)},p(h,C){C[0]&512&&a!==(a=h[28].colaborador.nome+"")&&oe(l,a),C[0]&512&&o!==(o=h[28].colaborador.cpf+"")&&oe(c,o),C[0]&512&&g!==(g=h[28].colaborador.cargo+"")&&oe($,g),C[0]&512&&T!==(T=h[28].colaborador.empresa+"")&&oe(D,T)},d(h){h&&u(e)}}}function Ts(r){let e,t=r[28].colaborador.cargo+"",a;return{c(){e=v("span"),a=F(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","text-sm text-gray-900 dark:text-white")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n[0]&512&&t!==(t=l[28].colaborador.cargo+"")&&oe(a,t)},d(l){l&&u(e)}}}function zs(r){let e,t=r[28].colaborador.empresa+"",a;return{c(){e=v("span"),a=F(t),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=k(e);a=z(n,t),n.forEach(u),this.h()},h(){b(e,"class","text-sm text-gray-900 dark:text-white truncate")},m(l,n){I(l,e,n),f(e,a)},p(l,n){n[0]&512&&t!==(t=l[28].colaborador.empresa+"")&&oe(a,t)},d(l){l&&u(e)}}}function Fs(r){let e=r[28].itens.length+"",t,a,l=r[28].itens.length!==1?"s":"",n;return{c(){t=F(e),a=F(" item"),n=F(l)},l(s){t=z(s,e),a=z(s," item"),n=z(s,l)},m(s,i){I(s,t,i),I(s,a,i),I(s,n,i)},p(s,i){i[0]&512&&e!==(e=s[28].itens.length+"")&&oe(t,e),i[0]&512&&l!==(l=s[28].itens.length!==1?"s":"")&&oe(n,l)},d(s){s&&(u(t),u(a),u(n))}}}function Ml(r){let e,t;return e=new Xt({props:{color:"red",class:"w-fit rounded-sm text-xs block",$$slots:{default:[Ms]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(a){X(e.$$.fragment,a)},m(a,l){W(e,a,l),t=!0},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Ms(r){let e;return{c(){e=F("Pendente")},l(t){e=z(t,"Pendente")},m(t,a){I(t,e,a)},d(t){t&&u(e)}}}function Ls(r){let e,t,a,l;t=new Xt({props:{color:"blue",class:"w-fit rounded-sm",$$slots:{default:[Fs]},$$scope:{ctx:r}}});let n=r[29]&&Ml(r);return{c(){e=v("div"),J(t.$$.fragment),a=P(),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=k(e);X(t.$$.fragment,i),a=A(i),n&&n.l(i),i.forEach(u),this.h()},h(){b(e,"class","space-y-1")},m(s,i){I(s,e,i),W(t,e,null),f(e,a),n&&n.m(e,null),l=!0},p(s,i){const o={};i[0]&512|i[1]&2&&(o.$$scope={dirty:i,ctx:s}),t.$set(o),s[29]?n?i[0]&512&&_(n,1):(n=Ml(s),n.c(),_(n,1),n.m(e,null)):n&&(pe(),E(n,1,1,()=>{n=null}),ve())},i(s){l||(_(t.$$.fragment,s),_(n),l=!0)},o(s){E(t.$$.fragment,s),E(n),l=!1},d(s){s&&u(e),U(t),n&&n.d()}}}function Bs(r){let e,t,a,l,n,s,i,o,c;a=new fr({props:{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}});function d(...g){return r[23](r[28],...g)}s=new Dr({props:{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}});function m(...g){return r[24](r[28],...g)}return{c(){e=v("div"),t=v("button"),J(a.$$.fragment),l=P(),n=v("button"),J(s.$$.fragment),this.h()},l(g){e=p(g,"DIV",{class:!0});var $=k(e);t=p($,"BUTTON",{class:!0,title:!0});var V=k(t);X(a.$$.fragment,V),V.forEach(u),l=A($),n=p($,"BUTTON",{class:!0,title:!0});var O=k(n);X(s.$$.fragment,O),O.forEach(u),$.forEach(u),this.h()},h(){b(t,"class","p-2 rounded-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),b(t,"title","Ver detalhes da ficha"),b(n,"class","p-2 rounded-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),b(n,"title","Exportar ficha"),b(e,"class","flex space-x-2")},m(g,$){I(g,e,$),f(e,t),W(a,t,null),f(e,l),f(e,n),W(s,n,null),i=!0,o||(c=[Pe(t,"click",d),Pe(n,"click",m)],o=!0)},p(g,$){r=g},i(g){i||(_(a.$$.fragment,g),_(s.$$.fragment,g),i=!0)},o(g){E(a.$$.fragment,g),E(s.$$.fragment,g),i=!1},d(g){g&&u(e),U(a),U(s),o=!1,Yt(c)}}}function js(r){let e,t,a,l,n,s,i,o,c,d,m;return e=new Ot({props:{class:"min-w-[200px]",$$slots:{default:[Os]},$$scope:{ctx:r}}}),a=new Ot({props:{class:"min-w-[120px] hidden lg:table-cell",$$slots:{default:[Ts]},$$scope:{ctx:r}}}),n=new Ot({props:{class:"min-w-[150px] hidden xl:table-cell",$$slots:{default:[zs]},$$scope:{ctx:r}}}),i=new Ot({props:{class:"min-w-[100px]",$$slots:{default:[Ls]},$$scope:{ctx:r}}}),c=new Ot({props:{class:"min-w-[120px]",$$slots:{default:[Bs]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment),t=P(),J(a.$$.fragment),l=P(),J(n.$$.fragment),s=P(),J(i.$$.fragment),o=P(),J(c.$$.fragment),d=P()},l(g){X(e.$$.fragment,g),t=A(g),X(a.$$.fragment,g),l=A(g),X(n.$$.fragment,g),s=A(g),X(i.$$.fragment,g),o=A(g),X(c.$$.fragment,g),d=A(g)},m(g,$){W(e,g,$),I(g,t,$),W(a,g,$),I(g,l,$),W(n,g,$),I(g,s,$),W(i,g,$),I(g,o,$),W(c,g,$),I(g,d,$),m=!0},p(g,$){const V={};$[0]&512|$[1]&2&&(V.$$scope={dirty:$,ctx:g}),e.$set(V);const O={};$[0]&512|$[1]&2&&(O.$$scope={dirty:$,ctx:g}),a.$set(O);const T={};$[0]&512|$[1]&2&&(T.$$scope={dirty:$,ctx:g}),n.$set(T);const D={};$[0]&512|$[1]&2&&(D.$$scope={dirty:$,ctx:g}),i.$set(D);const h={};$[0]&512|$[1]&2&&(h.$$scope={dirty:$,ctx:g}),c.$set(h)},i(g){m||(_(e.$$.fragment,g),_(a.$$.fragment,g),_(n.$$.fragment,g),_(i.$$.fragment,g),_(c.$$.fragment,g),m=!0)},o(g){E(e.$$.fragment,g),E(a.$$.fragment,g),E(n.$$.fragment,g),E(i.$$.fragment,g),E(c.$$.fragment,g),m=!1},d(g){g&&(u(t),u(l),u(s),u(o),u(d)),U(e,g),U(a,g),U(n,g),U(i,g),U(c,g)}}}function Ll(r){let e,t;function a(){return r[25](r[28])}return e=new ir({props:{class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",$$slots:{default:[js]},$$scope:{ctx:r}}}),e.$on("click",a),{c(){J(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){r=l;const s={};n[0]&512|n[1]&2&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Hs(r){let e,t,a=Qe(r[9]),l=[];for(let s=0;s<a.length;s+=1)l[s]=Ll(Fl(r,a,s));const n=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=Ee()},m(s,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,i);I(s,e,i),t=!0},p(s,i){if(i[0]&82432){a=Qe(s[9]);let o;for(o=0;o<a.length;o+=1){const c=Fl(s,a,o);l[o]?(l[o].p(c,i),_(l[o],1)):(l[o]=Ll(c),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(pe(),o=a.length;o<l.length;o+=1)n(o);ve()}},i(s){if(!t){for(let i=0;i<a.length;i+=1)_(l[i]);t=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)E(l[i]);t=!1},d(s){s&&u(e),vt(l,s)}}}function Rs(r){let e,t,a,l;return e=new sr({props:{$$slots:{default:[Ns]},$$scope:{ctx:r}}}),a=new or({props:{$$slots:{default:[Hs]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment),t=P(),J(a.$$.fragment)},l(n){X(e.$$.fragment,n),t=A(n),X(a.$$.fragment,n)},m(n,s){W(e,n,s),I(n,t,s),W(a,n,s),l=!0},p(n,s){const i={};s[1]&2&&(i.$$scope={dirty:s,ctx:n}),e.$set(i);const o={};s[0]&512|s[1]&2&&(o.$$scope={dirty:s,ctx:n}),a.$set(o)},i(n){l||(_(e.$$.fragment,n),_(a.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),E(a.$$.fragment,n),l=!1},d(n){n&&u(t),U(e,n),U(a,n)}}}function xs(r){let e,t,a,l,n='<h1 class="text-xl font-medium text-gray-900 dark:text-white">Fichas EPI</h1> <p class="text-sm text-gray-600 dark:text-gray-400">Gerencie as fichas de equipamentos dos colaboradores</p>',s,i,o,c,d,m,g,$,V,O;o=new Oe({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[hs]},$$scope:{ctx:r}}}),o.$on("click",r[13]);const T=[bs,vs,ps,_s],D=[];function h(w,q){return w[4]?0:w[5]?1:w[9].length>0?2:3}d=h(r),m=D[d]=T[d](r);function C(w){r[26](w)}let S={fichaId:r[7]};return r[6]!==void 0&&(S.open=r[6]),$=new gs({props:S}),Je.push(()=>Xe($,"open",C)),$.$on("close",r[15]),$.$on("fichaUpdated",r[27]),{c(){e=P(),t=v("div"),a=v("div"),l=v("div"),l.innerHTML=n,s=P(),i=v("div"),J(o.$$.fragment),c=P(),m.c(),g=P(),J($.$$.fragment),this.h()},l(w){er("svelte-i8h1dw",document.head).forEach(u),e=A(w),t=p(w,"DIV",{class:!0});var N=k(t);a=p(N,"DIV",{class:!0});var Y=k(a);l=p(Y,"DIV",{"data-svelte-h":!0}),De(l)!=="svelte-aownfx"&&(l.innerHTML=n),s=A(Y),i=p(Y,"DIV",{class:!0});var Z=k(i);X(o.$$.fragment,Z),Z.forEach(u),Y.forEach(u),c=A(N),m.l(N),N.forEach(u),g=A(w),X($.$$.fragment,w),this.h()},h(){document.title="Fichas EPI - DataLife EPI",b(i,"class","flex space-x-2"),b(a,"class","flex items-center justify-between"),b(t,"class","space-y-6")},m(w,q){I(w,e,q),I(w,t,q),f(t,a),f(a,l),f(a,s),f(a,i),W(o,i,null),f(t,c),D[d].m(t,null),I(w,g,q),W($,w,q),O=!0},p(w,q){const N={};q[1]&2&&(N.$$scope={dirty:q,ctx:w}),o.$set(N);let Y=d;d=h(w),d===Y?D[d].p(w,q):(pe(),E(D[Y],1,1,()=>{D[Y]=null}),ve(),m=D[d],m?m.p(w,q):(m=D[d]=T[d](w),m.c()),_(m,1),m.m(t,null));const Z={};q[0]&128&&(Z.fichaId=w[7]),!V&&q[0]&64&&(V=!0,Z.open=w[6],Ge(()=>V=!1)),$.$set(Z)},i(w){O||(_(o.$$.fragment,w),_(m),_($.$$.fragment,w),O=!0)},o(w){E(o.$$.fragment,w),E(m),E($.$$.fragment,w),O=!1},d(w){w&&(u(e),u(t),u(g)),U(o),D[d].d(),U($,w)}}}function Qs(r){return new Date(r.dataValidade)<new Date&&r.itens.length>0}function Us(r,e,t){let a,l,n=[],s=!1,i=null,o="",c="todos",d="todas",m=!1,g=[{value:"todos",label:"Todos os Cargos"},{value:"engenheiro",label:"Engenheiro Civil"},{value:"tecnico",label:"TÃ©cnico em SeguranÃ§a"},{value:"operador",label:"Operador de MÃ¡quinas"}],$=[{value:"todas",label:"Todas as Empresas"},{value:"techcorp",label:"TechCorp Engenharia"},{value:"buildmax",label:"BuildMax ConstruÃ§Ãµes"},{value:"safework",label:"SafeWork Solutions"}],V=!1,O=null;na(()=>{T()});function T(){t(4,s=!0),t(5,i=null),setTimeout(()=>{try{t(18,n=[{id:"ficha-001",colaborador:{nome:"JoÃ£o Claudio Silva",cpf:"123.456.789-00",cargo:"Engenheiro Civil",empresa:"TechCorp Engenharia"},status:"ativa",dataEmissao:"2024-09-01",dataValidade:"2025-09-01",itens:[{id:"1",nomeEquipamento:"Capacete de SeguranÃ§a"},{id:"2",nomeEquipamento:"Luvas de ProteÃ§Ã£o"}]},{id:"ficha-002",colaborador:{nome:"Maria Santos Oliveira",cpf:"987.654.321-00",cargo:"TÃ©cnica em SeguranÃ§a",empresa:"BuildMax ConstruÃ§Ãµes"},status:"ativa",dataEmissao:"2024-10-15",dataValidade:"2025-10-15",itens:[{id:"3",nomeEquipamento:"Ã“culos de ProteÃ§Ã£o"},{id:"4",nomeEquipamento:"Protetor Auricular"},{id:"5",nomeEquipamento:"Botina de SeguranÃ§a"},{id:"6",nomeEquipamento:"MÃ¡scara PFF2"}]},{id:"ficha-003",colaborador:{nome:"Pedro Costa Lima",cpf:"456.789.123-00",cargo:"Operador de MÃ¡quinas",empresa:"SafeWork Solutions"},status:"vencida",dataEmissao:"2024-06-10",dataValidade:"2024-12-31",itens:[{id:"7",nomeEquipamento:"Cinto de SeguranÃ§a"}]}]),t(4,s=!1)}catch{t(5,i="Erro ao carregar fichas"),t(4,s=!1)}},800)}function D(){Ze.info("Nova ficha","Funcionalidade em desenvolvimento")}function h(te){t(7,O=te),t(6,V=!0)}function C(){t(6,V=!1),t(7,O=null)}function S(te){Ze.success("Ficha exportada",`Ficha ${te} exportada com sucesso!`)}function w(){t(0,o=""),t(1,c="todos"),t(2,d="todas"),t(3,m=!1)}function q(te){o=te,t(0,o)}const N=te=>t(1,c=te.detail),Y=te=>t(2,d=te.detail);function Z(te){m=te,t(3,m)}const y=(te,R)=>{R.preventDefault(),R.stopPropagation(),h(te.id)},L=(te,R)=>{R.preventDefault(),R.stopPropagation(),S(te.id)},ee=te=>h(te.id);function se(te){V=te,t(6,V)}const G=()=>T();return r.$$.update=()=>{r.$$.dirty[0]&262159&&t(9,a=n.filter(te=>{if(o){const R=o.toLowerCase(),M=te.colaborador.nome.toLowerCase().includes(R),K=te.colaborador.cpf.includes(o);if(!M&&!K)return!1}if(c!=="todos"){const R={engenheiro:"Engenheiro Civil",tecnico:"TÃ©cnico em SeguranÃ§a",operador:"Operador de MÃ¡quinas"};if(te.colaborador.cargo!==R[c])return!1}if(d!=="todas"){const R={techcorp:"TechCorp Engenharia",buildmax:"BuildMax ConstruÃ§Ãµes",safework:"SafeWork Solutions"};if(te.colaborador.empresa!==R[d])return!1}return!(m&&!(new Date(te.dataValidade)<new Date&&te.itens.length>0))})),r.$$.dirty[0]&15&&t(8,l=o!==""||c!=="todos"||d!=="todas"||m)},[o,c,d,m,s,i,V,O,l,a,g,$,T,D,h,C,S,w,n,q,N,Y,Z,y,L,ee,se,G]}class mo extends lt{constructor(e){super(),rt(this,e,Us,xs,nt,{},null,[-1,-1])}}export{Dr as D,mo as P};
