import{S as st,i as ot,s as nt,d as c,J as S,u as E,q as v,F as Ee,G as we,b as y,c as g,K as F,m as x,e as k,f as C,o as ye,h as A,L as M,j as I,k as P,M as T,$ as ct,n as Ge,g as z,t as B,a as Z,v as $e,r as Zt,C as ht,a5 as Ze,a6 as et,a7 as tt,I as Ht,V as vt,l as ut,p as ea}from"./BW7nMWMn.js";import"./IHki7fMi.js";import"./D8PmxC0_.js";import{e as bt}from"./Duw0peFM.js";import{i as Et}from"./b80xZIxG.js";import"./DiNz8aC3.js";import{c as ta,s as aa,b as ra}from"./BFL5UUe0.js";import{L as la,E as sa,c as oa}from"./CMvOMHzg.js";import{n as We}from"./ifKxNf5L.js";import{e as Xe,u as na,o as ia}from"./Bch6UWim.js";import{B as He,a as dt}from"./Bdqt3-Qf.js";import{I as Lt}from"./C6V0dnPk.js";import{T as Ut,a as Qt,b as Gt,c as Oe,d as Kt,e as Re,L as Ye,f as fa}from"./DhMnY3y8.js";import{A as mt,a as ua,C as it,b as ca,c as Jt}from"./mRppU7ro.js";import{P as Xt}from"./BKX2UHRo.js";import{R as da}from"./D4GuA44R.js";import{S as ma}from"./B0tjDi7T.js";import{S as Wt}from"./DTNVOwUp.js";import{R as wt}from"./Dk9Mjb00.js";import{T as $a}from"./B7ejlhgL.js";import{M as Yt}from"./DzaG4njQ.js";import{A as ga}from"./CcJBrDGd.js";import{B as pa}from"./BOSETuNk.js";import{C as _a}from"./CH1UyWbL.js";import{F as lt}from"./Bp5ZnzQP.js";import{a as kt}from"./5lP0jMhK.js";import{N as ha}from"./Bh6YiQxC.js";import{k as va}from"./fRc-cC8K.js";function It(l,e,a){const t=l.slice();t[29]=e[a];const r=Qa(t[29].status);return t[30]=r,t}function ba(l){let e,a,t;return e=new Xt({props:{class:"w-4 h-4 mr-2"}}),{c(){T(e.$$.fragment),a=B(`
        Nova Movimenta√ß√£o`)},l(r){M(e.$$.fragment,r),a=z(r,`
        Nova Movimenta√ß√£o`)},m(r,s){F(e,r,s),y(r,a,s),t=!0},p:Ge,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){r&&c(a),S(e,r)}}}function Ea(l){let e,a,t,r,s,o,n="Nenhum item encontrado",i,m,$=l[10]||l[11]?"Tente ajustar os filtros ou termo de busca para encontrar itens":"Comece adicionando itens ao estoque atrav√©s de uma nova movimenta√ß√£o",d,f,u,p;return r=new mt({props:{class:"w-8 h-8 text-gray-400"}}),u=new He({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[xa]},$$scope:{ctx:l}}}),u.$on("click",l[18]),{c(){e=I("div"),a=I("div"),t=I("div"),T(r.$$.fragment),s=P(),o=I("h3"),o.textContent=n,i=P(),m=I("p"),d=B($),f=P(),T(u.$$.fragment),this.h()},l(_){e=k(_,"DIV",{class:!0});var D=C(e);a=k(D,"DIV",{class:!0});var b=C(a);t=k(b,"DIV",{class:!0});var w=C(t);M(r.$$.fragment,w),w.forEach(c),s=A(b),o=k(b,"H3",{class:!0,"data-svelte-h":!0}),ye(o)!=="svelte-bz2goa"&&(o.textContent=n),i=A(b),m=k(b,"P",{class:!0});var V=C(m);d=z(V,$),V.forEach(c),f=A(b),M(u.$$.fragment,b),b.forEach(c),D.forEach(c),this.h()},h(){x(t,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"),x(o,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),x(m,"class","text-gray-500 dark:text-gray-400 mb-6 max-w-sm mx-auto"),x(a,"class","text-center py-16 px-6"),x(e,"class","bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700")},m(_,D){y(_,e,D),g(e,a),g(a,t),F(r,t,null),g(a,s),g(a,o),g(a,i),g(a,m),g(m,d),g(a,f),F(u,a,null),p=!0},p(_,D){(!p||D[0]&3072)&&$!==($=_[10]||_[11]?"Tente ajustar os filtros ou termo de busca para encontrar itens":"Comece adicionando itens ao estoque atrav√©s de uma nova movimenta√ß√£o")&&Z(d,$);const b={};D[0]&3072|D[1]&4&&(b.$$scope={dirty:D,ctx:_}),u.$set(b)},i(_){p||(v(r.$$.fragment,_),v(u.$$.fragment,_),p=!0)},o(_){E(r.$$.fragment,_),E(u.$$.fragment,_),p=!1},d(_){_&&c(e),S(r),S(u)}}}function wa(l){let e,a,t,r,s,o,n,i,m,$,d,f,u,p,_,D;s=new ma({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}}),n=new Lt({props:{type:"text",placeholder:"Buscar por equipamento ou CA...",class:"pl-10 rounded-sm h-10 text-sm",value:l[10]}}),n.$on("input",l[12]);let b=!l[6]&&xt(l);$=new Wt({props:{options:l[8],value:l[7].categoria||"todas",placeholder:"Categoria",class:"min-w-[140px]"}}),$.$on("change",l[22]);let w=l[11]&&yt(l);p=new Ut({props:{hoverable:!0,$$slots:{default:[Ba]},$$scope:{ctx:l}}});let V=l[5]>1&&Ct(l);return{c(){e=I("div"),a=I("div"),t=I("div"),r=I("div"),T(s.$$.fragment),o=P(),T(n.$$.fragment),i=P(),b&&b.c(),m=P(),T($.$$.fragment),d=P(),w&&w.c(),f=P(),u=I("div"),T(p.$$.fragment),_=P(),V&&V.c(),this.h()},l(h){e=k(h,"DIV",{class:!0});var q=C(e);a=k(q,"DIV",{class:!0});var ee=C(a);t=k(ee,"DIV",{class:!0});var R=C(t);r=k(R,"DIV",{class:!0});var L=C(r);M(s.$$.fragment,L),o=A(L),M(n.$$.fragment,L),L.forEach(c),i=A(R),b&&b.l(R),m=A(R),M($.$$.fragment,R),d=A(R),w&&w.l(R),R.forEach(c),ee.forEach(c),f=A(q),u=k(q,"DIV",{class:!0});var K=C(u);M(p.$$.fragment,K),K.forEach(c),_=A(q),V&&V.l(q),q.forEach(c),this.h()},h(){x(r,"class","relative flex-1 max-w-md"),x(t,"class","flex items-center gap-4"),x(a,"class","p-4 border-b border-gray-200 dark:border-gray-700"),x(u,"class","overflow-x-auto"),x(e,"class","bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden")},m(h,q){y(h,e,q),g(e,a),g(a,t),g(t,r),F(s,r,null),g(r,o),F(n,r,null),g(t,i),b&&b.m(t,null),g(t,m),F($,t,null),g(t,d),w&&w.m(t,null),g(e,f),g(e,u),F(p,u,null),g(e,_),V&&V.m(e,null),D=!0},p(h,q){const ee={};q[0]&1024&&(ee.value=h[10]),n.$set(ee),h[6]?b&&(Ee(),E(b,1,1,()=>{b=null}),we()):b?(b.p(h,q),q[0]&64&&v(b,1)):(b=xt(h),b.c(),v(b,1),b.m(t,m));const R={};q[0]&256&&(R.options=h[8]),q[0]&128&&(R.value=h[7].categoria||"todas"),$.$set(R),h[11]?w?(w.p(h,q),q[0]&2048&&v(w,1)):(w=yt(h),w.c(),v(w,1),w.m(t,null)):w&&(Ee(),E(w,1,1,()=>{w=null}),we());const L={};q[0]&1|q[1]&4&&(L.$$scope={dirty:q,ctx:h}),p.$set(L),h[5]>1?V?(V.p(h,q),q[0]&32&&v(V,1)):(V=Ct(h),V.c(),v(V,1),V.m(e,null)):V&&(Ee(),E(V,1,1,()=>{V=null}),we())},i(h){D||(v(s.$$.fragment,h),v(n.$$.fragment,h),v(b),v($.$$.fragment,h),v(w),v(p.$$.fragment,h),v(V),D=!0)},o(h){E(s.$$.fragment,h),E(n.$$.fragment,h),E(b),E($.$$.fragment,h),E(w),E(p.$$.fragment,h),E(V),D=!1},d(h){h&&c(e),S(s),S(n),b&&b.d(),S($),w&&w.d(),S(p),V&&V.d()}}}function ka(l){let e,a;return e=new sa({props:{error:l[2],onRetry:l[20]}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r[0]&4&&(s.error=t[2]),r[0]&16&&(s.onRetry=t[20]),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function Ia(l){let e,a;return e=new la({}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p:Ge,i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function xa(l){let e,a,t=l[10]||l[11]?"Nova Movimenta√ß√£o":"Primeira Movimenta√ß√£o",r,s;return e=new Xt({props:{class:"w-4 h-4 mr-2"}}),{c(){T(e.$$.fragment),a=P(),r=B(t)},l(o){M(e.$$.fragment,o),a=A(o),r=z(o,t)},m(o,n){F(e,o,n),y(o,a,n),y(o,r,n),s=!0},p(o,n){(!s||n[0]&3072)&&t!==(t=o[10]||o[11]?"Nova Movimenta√ß√£o":"Primeira Movimenta√ß√£o")&&Z(r,t)},i(o){s||(v(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){o&&(c(a),c(r)),S(e,o)}}}function xt(l){let e,a;return e=new Wt({props:{options:l[9],value:l[7].status||"todos",placeholder:"Status",class:"min-w-[140px]"}}),e.$on("change",l[21]),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r[0]&512&&(s.options=t[9]),r[0]&128&&(s.value=t[7].status||"todos"),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function yt(l){let e,a;return e=new He({props:{color:"alternative",class:"rounded-sm h-10 px-3",title:"Limpar Filtros",$$slots:{default:[ya]},$$scope:{ctx:l}}}),e.$on("click",l[14]),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r[1]&4&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function ya(l){let e,a;return e=new da({props:{class:"w-4 h-4"}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p:Ge,i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function Da(l){let e;return{c(){e=B("Equipamento")},l(a){e=z(a,"Equipamento")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Ca(l){let e;return{c(){e=B("Categoria")},l(a){e=z(a,"Categoria")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Aa(l){let e;return{c(){e=B("Quantidade")},l(a){e=z(a,"Quantidade")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Pa(l){let e;return{c(){e=B("Status")},l(a){e=z(a,"Status")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Sa(l){let e;return{c(){e=B("A√ß√µes")},l(a){e=z(a,"A√ß√µes")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Fa(l){let e,a,t,r,s,o,n,i,m,$;return e=new Oe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[Da]},$$scope:{ctx:l}}}),t=new Oe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 hidden md:table-cell",$$slots:{default:[Ca]},$$scope:{ctx:l}}}),s=new Oe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[Aa]},$$scope:{ctx:l}}}),n=new Oe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 hidden lg:table-cell",$$slots:{default:[Pa]},$$scope:{ctx:l}}}),m=new Oe({props:{class:"py-3 px-6 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[Sa]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),a=P(),T(t.$$.fragment),r=P(),T(s.$$.fragment),o=P(),T(n.$$.fragment),i=P(),T(m.$$.fragment)},l(d){M(e.$$.fragment,d),a=A(d),M(t.$$.fragment,d),r=A(d),M(s.$$.fragment,d),o=A(d),M(n.$$.fragment,d),i=A(d),M(m.$$.fragment,d)},m(d,f){F(e,d,f),y(d,a,f),F(t,d,f),y(d,r,f),F(s,d,f),y(d,o,f),F(n,d,f),y(d,i,f),F(m,d,f),$=!0},p(d,f){const u={};f[1]&4&&(u.$$scope={dirty:f,ctx:d}),e.$set(u);const p={};f[1]&4&&(p.$$scope={dirty:f,ctx:d}),t.$set(p);const _={};f[1]&4&&(_.$$scope={dirty:f,ctx:d}),s.$set(_);const D={};f[1]&4&&(D.$$scope={dirty:f,ctx:d}),n.$set(D);const b={};f[1]&4&&(b.$$scope={dirty:f,ctx:d}),m.$set(b)},i(d){$||(v(e.$$.fragment,d),v(t.$$.fragment,d),v(s.$$.fragment,d),v(n.$$.fragment,d),v(m.$$.fragment,d),$=!0)},o(d){E(e.$$.fragment,d),E(t.$$.fragment,d),E(s.$$.fragment,d),E(n.$$.fragment,d),E(m.$$.fragment,d),$=!1},d(d){d&&(c(a),c(r),c(o),c(i)),S(e,d),S(t,d),S(s,d),S(n,d),S(m,d)}}}function Ta(l){let e=l[30].label+"",a;return{c(){a=B(e)},l(t){a=z(t,e)},m(t,r){y(t,a,r)},p(t,r){r[0]&1&&e!==(e=t[30].label+"")&&Z(a,e)},d(t){t&&c(a)}}}function Va(l){var h,q,ee;let e,a,t,r=(((h=l[29].tipoEPI)==null?void 0:h.nomeEquipamento)||"EPI n√£o encontrado")+"",s,o,n,i,m=(((q=l[29].tipoEPI)==null?void 0:q.numeroCA)||"-")+"",$,d,f,u,p=(((ee=l[29].tipoEPI)==null?void 0:ee.categoria)||"Sem categoria")+"",_,D,b,w,V;return w=new dt({props:{color:l[30].color,class:"w-fit rounded-sm text-xs",$$slots:{default:[Ta]},$$scope:{ctx:l}}}),{c(){e=I("div"),a=I("div"),t=I("p"),s=B(r),o=P(),n=I("p"),i=B("CA "),$=B(m),d=P(),f=I("div"),u=I("p"),_=B(p),D=P(),b=I("div"),T(w.$$.fragment),this.h()},l(R){e=k(R,"DIV",{class:!0});var L=C(e);a=k(L,"DIV",{class:!0});var K=C(a);t=k(K,"P",{class:!0});var J=C(t);s=z(J,r),J.forEach(c),o=A(K),n=k(K,"P",{class:!0});var W=C(n);i=z(W,"CA "),$=z(W,m),W.forEach(c),d=A(K),f=k(K,"DIV",{class:!0});var le=C(f);u=k(le,"P",{class:!0});var U=C(u);_=z(U,p),U.forEach(c),D=A(le),b=k(le,"DIV",{class:!0});var te=C(b);M(w.$$.fragment,te),te.forEach(c),le.forEach(c),K.forEach(c),L.forEach(c),this.h()},h(){x(t,"class","font-medium text-gray-900 dark:text-white truncate"),x(n,"class","text-sm text-gray-500 dark:text-gray-400 truncate"),x(u,"class","text-xs text-gray-500 dark:text-gray-400"),x(b,"class","lg:hidden"),x(f,"class","md:hidden mt-1 space-y-1"),x(a,"class","min-w-0 flex-1"),x(e,"class","flex items-center space-x-3")},m(R,L){y(R,e,L),g(e,a),g(a,t),g(t,s),g(a,o),g(a,n),g(n,i),g(n,$),g(a,d),g(a,f),g(f,u),g(u,_),g(f,D),g(f,b),F(w,b,null),V=!0},p(R,L){var J,W,le;(!V||L[0]&1)&&r!==(r=(((J=R[29].tipoEPI)==null?void 0:J.nomeEquipamento)||"EPI n√£o encontrado")+"")&&Z(s,r),(!V||L[0]&1)&&m!==(m=(((W=R[29].tipoEPI)==null?void 0:W.numeroCA)||"-")+"")&&Z($,m),(!V||L[0]&1)&&p!==(p=(((le=R[29].tipoEPI)==null?void 0:le.categoria)||"Sem categoria")+"")&&Z(_,p);const K={};L[0]&1&&(K.color=R[30].color),L[0]&1|L[1]&4&&(K.$$scope={dirty:L,ctx:R}),w.$set(K)},i(R){V||(v(w.$$.fragment,R),V=!0)},o(R){E(w.$$.fragment,R),V=!1},d(R){R&&c(e),S(w)}}}function Ma(l){var r;let e,a=(((r=l[29].tipoEPI)==null?void 0:r.categoria)||"-")+"",t;return{c(){e=I("span"),t=B(a),this.h()},l(s){e=k(s,"SPAN",{class:!0});var o=C(e);t=z(o,a),o.forEach(c),this.h()},h(){x(e,"class","text-sm text-gray-900 dark:text-white")},m(s,o){y(s,e,o),g(e,t)},p(s,o){var n;o[0]&1&&a!==(a=(((n=s[29].tipoEPI)==null?void 0:n.categoria)||"-")+"")&&Z(t,a)},d(s){s&&c(e)}}}function Na(l){let e,a=l[29].quantidade+"",t;return{c(){e=I("span"),t=B(a),this.h()},l(r){e=k(r,"SPAN",{class:!0});var s=C(e);t=z(s,a),s.forEach(c),this.h()},h(){x(e,"class","font-semibold text-lg text-gray-900 dark:text-white")},m(r,s){y(r,e,s),g(e,t)},p(r,s){s[0]&1&&a!==(a=r[29].quantidade+"")&&Z(t,a)},d(r){r&&c(e)}}}function qa(l){let e=l[30].label+"",a;return{c(){a=B(e)},l(t){a=z(t,e)},m(t,r){y(t,a,r)},p(t,r){r[0]&1&&e!==(e=t[30].label+"")&&Z(a,e)},d(t){t&&c(a)}}}function Oa(l){let e,a;return e=new dt({props:{color:l[30].color,class:"w-fit rounded-sm",$$slots:{default:[qa]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r[0]&1&&(s.color=t[30].color),r[0]&1|r[1]&4&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function Ra(l){let e,a,t,r,s,o,n,i,m;t=new ua({props:{class:"w-4 h-4"}});function $(...f){return l[23](l[29],...f)}o=new it({props:{class:"w-4 h-4"}});function d(...f){return l[24](l[29],...f)}return{c(){e=I("div"),a=I("button"),T(t.$$.fragment),r=P(),s=I("button"),T(o.$$.fragment),this.h()},l(f){e=k(f,"DIV",{class:!0});var u=C(e);a=k(u,"BUTTON",{class:!0,title:!0});var p=C(a);M(t.$$.fragment,p),p.forEach(c),r=A(u),s=k(u,"BUTTON",{class:!0,title:!0});var _=C(s);M(o.$$.fragment,_),_.forEach(c),u.forEach(c),this.h()},h(){x(a,"class","p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700"),x(a,"title","Ajustar quantidade"),x(s,"class","p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700"),x(s,"title","Ver hist√≥rico"),x(e,"class","flex items-center justify-center space-x-1")},m(f,u){y(f,e,u),g(e,a),F(t,a,null),g(e,r),g(e,s),F(o,s,null),n=!0,i||(m=[ht(a,"click",$),ht(s,"click",d)],i=!0)},p(f,u){l=f},i(f){n||(v(t.$$.fragment,f),v(o.$$.fragment,f),n=!0)},o(f){E(t.$$.fragment,f),E(o.$$.fragment,f),n=!1},d(f){f&&c(e),S(t),S(o),i=!1,Zt(m)}}}function ja(l){let e,a,t,r,s,o,n,i,m,$,d;return e=new Re({props:{class:"py-4 px-6",$$slots:{default:[Va]},$$scope:{ctx:l}}}),t=new Re({props:{class:"py-4 px-6 hidden md:table-cell",$$slots:{default:[Ma]},$$scope:{ctx:l}}}),s=new Re({props:{class:"py-4 px-6 text-center",$$slots:{default:[Na]},$$scope:{ctx:l}}}),n=new Re({props:{class:"py-4 px-6 hidden lg:table-cell",$$slots:{default:[Oa]},$$scope:{ctx:l}}}),m=new Re({props:{class:"py-4 px-6",$$slots:{default:[Ra]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),a=P(),T(t.$$.fragment),r=P(),T(s.$$.fragment),o=P(),T(n.$$.fragment),i=P(),T(m.$$.fragment),$=P()},l(f){M(e.$$.fragment,f),a=A(f),M(t.$$.fragment,f),r=A(f),M(s.$$.fragment,f),o=A(f),M(n.$$.fragment,f),i=A(f),M(m.$$.fragment,f),$=A(f)},m(f,u){F(e,f,u),y(f,a,u),F(t,f,u),y(f,r,u),F(s,f,u),y(f,o,u),F(n,f,u),y(f,i,u),F(m,f,u),y(f,$,u),d=!0},p(f,u){const p={};u[0]&1|u[1]&4&&(p.$$scope={dirty:u,ctx:f}),e.$set(p);const _={};u[0]&1|u[1]&4&&(_.$$scope={dirty:u,ctx:f}),t.$set(_);const D={};u[0]&1|u[1]&4&&(D.$$scope={dirty:u,ctx:f}),s.$set(D);const b={};u[0]&1|u[1]&4&&(b.$$scope={dirty:u,ctx:f}),n.$set(b);const w={};u[0]&1|u[1]&4&&(w.$$scope={dirty:u,ctx:f}),m.$set(w)},i(f){d||(v(e.$$.fragment,f),v(t.$$.fragment,f),v(s.$$.fragment,f),v(n.$$.fragment,f),v(m.$$.fragment,f),d=!0)},o(f){E(e.$$.fragment,f),E(t.$$.fragment,f),E(s.$$.fragment,f),E(n.$$.fragment,f),E(m.$$.fragment,f),d=!1},d(f){f&&(c(a),c(r),c(o),c(i),c($)),S(e,f),S(t,f),S(s,f),S(n,f),S(m,f)}}}function Dt(l,e){let a,t,r;function s(){return e[25](e[29])}return t=new Kt({props:{class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",$$slots:{default:[ja]},$$scope:{ctx:e}}}),t.$on("click",s),{key:l,first:null,c(){a=$e(),T(t.$$.fragment),this.h()},l(o){a=$e(),M(t.$$.fragment,o),this.h()},h(){this.first=a},m(o,n){y(o,a,n),F(t,o,n),r=!0},p(o,n){e=o;const i={};n[0]&1|n[1]&4&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(o){r||(v(t.$$.fragment,o),r=!0)},o(o){E(t.$$.fragment,o),r=!1},d(o){o&&c(a),S(t,o)}}}function za(l){let e=[],a=new Map,t,r,s=Xe(l[0]);const o=n=>n[29].id;for(let n=0;n<s.length;n+=1){let i=It(l,s,n),m=o(i);a.set(m,e[n]=Dt(m,i))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=$e()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=$e()},m(n,i){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(n,i);y(n,t,i),r=!0},p(n,i){i[0]&98305&&(s=Xe(n[0]),Ee(),e=na(e,i,o,1,n,s,a,t.parentNode,ia,Dt,t,It),we())},i(n){if(!r){for(let i=0;i<s.length;i+=1)v(e[i]);r=!0}},o(n){for(let i=0;i<e.length;i+=1)E(e[i]);r=!1},d(n){n&&c(t);for(let i=0;i<e.length;i+=1)e[i].d(n)}}}function Ba(l){let e,a,t,r;return e=new Qt({props:{class:"bg-gray-50 dark:bg-gray-700",$$slots:{default:[Fa]},$$scope:{ctx:l}}}),t=new Gt({props:{class:"divide-y divide-gray-200 dark:divide-gray-700",$$slots:{default:[za]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),a=P(),T(t.$$.fragment)},l(s){M(e.$$.fragment,s),a=A(s),M(t.$$.fragment,s)},m(s,o){F(e,s,o),y(s,a,o),F(t,s,o),r=!0},p(s,o){const n={};o[1]&4&&(n.$$scope={dirty:o,ctx:s}),e.$set(n);const i={};o[0]&1|o[1]&4&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){r||(v(e.$$.fragment,s),v(t.$$.fragment,s),r=!0)},o(s){E(e.$$.fragment,s),E(t.$$.fragment,s),r=!1},d(s){s&&c(a),S(e,s),S(t,s)}}}function Ct(l){let e,a,t,r=(l[4]-1)*20+1+"",s,o,n=Math.min(l[4]*20,l[3])+"",i,m,$,d,f,u,p,_,D,b;return p=new He({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:l[4]===1,$$slots:{default:[Ha]},$$scope:{ctx:l}}}),p.$on("click",l[26]),D=new He({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:l[4]===l[5],$$slots:{default:[La]},$$scope:{ctx:l}}}),D.$on("click",l[27]),{c(){e=I("div"),a=I("div"),t=B("Mostrando "),s=B(r),o=B(" a "),i=B(n),m=B(" de "),$=B(l[3]),d=B(" resultados"),f=P(),u=I("div"),T(p.$$.fragment),_=P(),T(D.$$.fragment),this.h()},l(w){e=k(w,"DIV",{class:!0});var V=C(e);a=k(V,"DIV",{class:!0});var h=C(a);t=z(h,"Mostrando "),s=z(h,r),o=z(h," a "),i=z(h,n),m=z(h," de "),$=z(h,l[3]),d=z(h," resultados"),h.forEach(c),f=A(V),u=k(V,"DIV",{class:!0});var q=C(u);M(p.$$.fragment,q),_=A(q),M(D.$$.fragment,q),q.forEach(c),V.forEach(c),this.h()},h(){x(a,"class","text-sm text-gray-600 dark:text-gray-400"),x(u,"class","flex gap-2"),x(e,"class","flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700")},m(w,V){y(w,e,V),g(e,a),g(a,t),g(a,s),g(a,o),g(a,i),g(a,m),g(a,$),g(a,d),g(e,f),g(e,u),F(p,u,null),g(u,_),F(D,u,null),b=!0},p(w,V){(!b||V[0]&16)&&r!==(r=(w[4]-1)*20+1+"")&&Z(s,r),(!b||V[0]&24)&&n!==(n=Math.min(w[4]*20,w[3])+"")&&Z(i,n),(!b||V[0]&8)&&Z($,w[3]);const h={};V[0]&16&&(h.disabled=w[4]===1),V[1]&4&&(h.$$scope={dirty:V,ctx:w}),p.$set(h);const q={};V[0]&48&&(q.disabled=w[4]===w[5]),V[1]&4&&(q.$$scope={dirty:V,ctx:w}),D.$set(q)},i(w){b||(v(p.$$.fragment,w),v(D.$$.fragment,w),b=!0)},o(w){E(p.$$.fragment,w),E(D.$$.fragment,w),b=!1},d(w){w&&c(e),S(p),S(D)}}}function Ha(l){let e;return{c(){e=B("Anterior")},l(a){e=z(a,"Anterior")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function La(l){let e;return{c(){e=B("Pr√≥ximo")},l(a){e=z(a,"Pr√≥ximo")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Ua(l){let e,a,t,r='<h1 class="text-2xl font-bold text-gray-900 dark:text-white">Estoque</h1> <p class="text-gray-600 dark:text-gray-400">Controle de estoque e movimenta√ß√µes</p>',s,o,n,i,m,$,d;n=new He({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[ba]},$$scope:{ctx:l}}}),n.$on("click",l[18]);const f=[Ia,ka,wa,Ea],u=[];function p(_,D){return _[1]?0:_[2]?1:_[0].length>0?2:3}return m=p(l),$=u[m]=f[m](l),{c(){e=I("div"),a=I("div"),t=I("div"),t.innerHTML=r,s=P(),o=I("div"),T(n.$$.fragment),i=P(),$.c(),this.h()},l(_){e=k(_,"DIV",{class:!0});var D=C(e);a=k(D,"DIV",{class:!0});var b=C(a);t=k(b,"DIV",{"data-svelte-h":!0}),ye(t)!=="svelte-183crrt"&&(t.innerHTML=r),s=A(b),o=k(b,"DIV",{class:!0});var w=C(o);M(n.$$.fragment,w),w.forEach(c),b.forEach(c),i=A(D),$.l(D),D.forEach(c),this.h()},h(){x(o,"class","flex gap-3"),x(a,"class","flex items-center justify-between"),x(e,"class","p-6 space-y-6")},m(_,D){y(_,e,D),g(e,a),g(a,t),g(a,s),g(a,o),F(n,o,null),g(e,i),u[m].m(e,null),d=!0},p(_,D){const b={};D[1]&4&&(b.$$scope={dirty:D,ctx:_}),n.$set(b);let w=m;m=p(_),m===w?u[m].p(_,D):(Ee(),E(u[w],1,1,()=>{u[w]=null}),we(),$=u[m],$?$.p(_,D):($=u[m]=f[m](_),$.c()),v($,1),$.m(e,null))},i(_){d||(v(n.$$.fragment,_),v($),d=!0)},o(_){E(n.$$.fragment,_),E($),d=!1},d(_){_&&c(e),S(n),u[m].d()}}}function Qa(l){switch(l==null?void 0:l.toLowerCase()){case"disponivel":case"ativo":return{color:"green",label:"Dispon√≠vel"};case"baixo":return{color:"yellow",label:"Estoque baixo"};case"indisponivel":case"inativo":return{color:"red",label:"Indispon√≠vel"};case"vencendo":return{color:"orange",label:"Pr√≥ximo ao vencimento"};case"vencido":return{color:"red",label:"Vencido"};case"esgotado":case"zero":return{color:"gray",label:"Esgotado"};case"bloqueado":return{color:"red",label:"Bloqueado"};case"quarentena":return{color:"orange",label:"Em Quarentena"};case"aguarda_inspecao":return{color:"yellow",label:"Aguarda Inspe√ß√£o"};default:return{color:"blue",label:l||"Indefinido"}}}function Ga(l,e,a){let t,{items:r=[]}=e,{loading:s=!1}=e,{error:o=null}=e,{total:n=0}=e,{page:i=1}=e,{totalPages:m=1}=e,{searchTerm:$=""}=e,{hideStatusFilter:d=!1}=e,{filters:f}=e,{categoriaOptions:u=[]}=e,{statusOptions:p=[]}=e;const _=ct();let D="";function b(O){const H=O.target.value;a(10,D=H),_("searchChange",{value:H})}function w(O,H){_("filterChange",{key:O,value:H})}function V(){a(10,D=""),_("clearFilters")}function h(O){_("itemEdit",{item:O})}function q(O){_("itemHistory",{item:O})}function ee(O){_("pageChange",{page:O})}function R(){_("newMovement")}const L=()=>ee(i),K=O=>w("status",O.detail),J=O=>w("categoria",O.detail),W=(O,H)=>{H.stopPropagation(),h(O)},le=(O,H)=>{H.stopPropagation(),q(O)},U=O=>h(O),te=()=>ee(i-1),Y=()=>ee(i+1);return l.$$set=O=>{"items"in O&&a(0,r=O.items),"loading"in O&&a(1,s=O.loading),"error"in O&&a(2,o=O.error),"total"in O&&a(3,n=O.total),"page"in O&&a(4,i=O.page),"totalPages"in O&&a(5,m=O.totalPages),"searchTerm"in O&&a(19,$=O.searchTerm),"hideStatusFilter"in O&&a(6,d=O.hideStatusFilter),"filters"in O&&a(7,f=O.filters),"categoriaOptions"in O&&a(8,u=O.categoriaOptions),"statusOptions"in O&&a(9,p=O.statusOptions)},l.$$.update=()=>{l.$$.dirty[0]&7&&console.log("üé® PRESENTER: items recebidos:",{itemsLength:(r==null?void 0:r.length)||0,items:r,loading:s,error:o}),l.$$.dirty[0]&525312&&$!==void 0&&$!==D&&a(10,D=$),l.$$.dirty[0]&1216&&a(11,t=D||!d&&f.status&&f.status!=="todos"||f.categoria&&f.categoria!=="todas")},[r,s,o,n,i,m,d,f,u,p,D,t,b,w,V,h,q,ee,R,$,L,K,J,W,le,U,te,Y]}class Ka extends st{constructor(e){super(),ot(this,e,Ga,Ua,nt,{items:0,loading:1,error:2,total:3,page:4,totalPages:5,searchTerm:19,hideStatusFilter:6,filters:7,categoriaOptions:8,statusOptions:9},null,[-1,-1])}}function At(l){var pe;let e,a,t,r,s=(((pe=l[1].tipoEPI)==null?void 0:pe.nomeEquipamento)||"EPI n√£o encontrado")+"",o,n,i,m,$=l[1].quantidade+"",d,f,u,p,_,D,b,w,V,h,q,ee,R,L,K,J,W,le,U,te,Y,O,H,X,ae,ue=l[3].tipo==="entrada"?"+":"-",ne,ge,he,oe,ce,Pe,Se,ie,de,De,ve,Le,Fe,_e;D=new Ye({props:{class:"mb-3 block",$$slots:{default:[Ja]},$$scope:{ctx:l}}});function N(Q){l[9](Q)}let fe={name:"tipo",value:"entrada",class:"mr-2"};l[3].tipo!==void 0&&(fe.group=l[3].tipo),h=new wt({props:fe}),Ze.push(()=>et(h,"group",N)),R=new Ye({props:{class:"text-sm font-normal",$$slots:{default:[Xa]},$$scope:{ctx:l}}});function Ce(Q){l[10](Q)}let be={name:"tipo",value:"saida",class:"mr-2"};l[3].tipo!==void 0&&(be.group=l[3].tipo),J=new wt({props:be}),Ze.push(()=>et(J,"group",Ce)),U=new Ye({props:{class:"text-sm font-normal",$$slots:{default:[Wa]},$$scope:{ctx:l}}}),O=new Ye({props:{for:"quantidade",class:"mb-2",$$slots:{default:[Ya]},$$scope:{ctx:l}}});function Ue(Q){l[11](Q)}let me={id:"quantidade",type:"number",min:"1",step:"1",size:"sm",class:"rounded-sm pl-8",color:l[4].quantidade?"red":"base"};l[3].quantidade!==void 0&&(me.value=l[3].quantidade),oe=new Lt({props:me}),Ze.push(()=>et(oe,"value",Ue)),oe.$on("input",l[8]);let G=l[4].quantidade&&Pt(l);de=new Ye({props:{for:"motivo",class:"mb-2",$$slots:{default:[Za]},$$scope:{ctx:l}}});function ke(Q){l[12](Q)}let Ie={id:"motivo",placeholder:"Descreva o motivo da movimenta√ß√£o...",rows:"2",class:"rounded-sm resize-none",color:l[4].motivo?"red":"base"};l[3].motivo!==void 0&&(Ie.value=l[3].motivo),ve=new $a({props:Ie}),Ze.push(()=>et(ve,"value",ke)),ve.$on("input",nr);let se=l[4].motivo&&St(l);return{c(){e=I("div"),a=I("div"),t=I("div"),r=I("h4"),o=B(s),n=P(),i=I("span"),m=B("Estoque atual = "),d=B($),f=P(),u=I("div"),p=I("div"),_=I("div"),T(D.$$.fragment),b=P(),w=I("div"),V=I("div"),T(h.$$.fragment),ee=P(),T(R.$$.fragment),L=P(),K=I("div"),T(J.$$.fragment),le=P(),T(U.$$.fragment),te=P(),Y=I("div"),T(O.$$.fragment),H=P(),X=I("div"),ae=I("span"),ne=B(ue),he=P(),T(oe.$$.fragment),Pe=P(),G&&G.c(),Se=P(),ie=I("div"),T(de.$$.fragment),De=P(),T(ve.$$.fragment),Fe=P(),se&&se.c(),this.h()},l(Q){e=k(Q,"DIV",{class:!0});var j=C(e);a=k(j,"DIV",{class:!0});var re=C(a);t=k(re,"DIV",{class:!0});var xe=C(t);r=k(xe,"H4",{class:!0});var je=C(r);o=z(je,s),je.forEach(c),n=A(xe),i=k(xe,"SPAN",{class:!0});var Ve=C(i);m=z(Ve,"Estoque atual = "),d=z(Ve,$),Ve.forEach(c),xe.forEach(c),re.forEach(c),f=A(j),u=k(j,"DIV",{class:!0});var ze=C(u);p=k(ze,"DIV",{class:!0});var Be=C(p);_=k(Be,"DIV",{});var Me=C(_);M(D.$$.fragment,Me),b=A(Me),w=k(Me,"DIV",{class:!0});var Te=C(w);V=k(Te,"DIV",{class:!0});var Ae=C(V);M(h.$$.fragment,Ae),ee=A(Ae),M(R.$$.fragment,Ae),Ae.forEach(c),L=A(Te),K=k(Te,"DIV",{class:!0});var Ne=C(K);M(J.$$.fragment,Ne),le=A(Ne),M(U.$$.fragment,Ne),Ne.forEach(c),Te.forEach(c),Me.forEach(c),te=A(Be),Y=k(Be,"DIV",{});var Qe=C(Y);M(O.$$.fragment,Qe),H=A(Qe),X=k(Qe,"DIV",{class:!0});var Ke=C(X);ae=k(Ke,"SPAN",{class:!0});var Je=C(ae);ne=z(Je,ue),Je.forEach(c),he=A(Ke),M(oe.$$.fragment,Ke),Ke.forEach(c),Pe=A(Qe),G&&G.l(Qe),Qe.forEach(c),Be.forEach(c),Se=A(ze),ie=k(ze,"DIV",{});var qe=C(ie);M(de.$$.fragment,qe),De=A(qe),M(ve.$$.fragment,qe),Fe=A(qe),se&&se.l(qe),qe.forEach(c),ze.forEach(c),j.forEach(c),this.h()},h(){x(r,"class","font-medium text-gray-900 dark:text-white"),x(i,"class","text-sm font-light text-gray-600 dark:text-gray-400"),x(t,"class","flex items-center justify-between"),x(a,"class","bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"),x(V,"class","flex items-center"),x(K,"class","flex items-center"),x(w,"class","flex gap-6"),x(ae,"class",ge="absolute left-3 top-1/2 transform -translate-y-1/2 "+(l[3].tipo==="entrada"?"text-green-600":"text-red-600")+" font-medium"),x(X,"class","relative"),x(p,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),x(u,"class","space-y-4"),x(e,"class","space-y-4")},m(Q,j){y(Q,e,j),g(e,a),g(a,t),g(t,r),g(r,o),g(t,n),g(t,i),g(i,m),g(i,d),g(e,f),g(e,u),g(u,p),g(p,_),F(D,_,null),g(_,b),g(_,w),g(w,V),F(h,V,null),g(V,ee),F(R,V,null),g(w,L),g(w,K),F(J,K,null),g(K,le),F(U,K,null),g(p,te),g(p,Y),F(O,Y,null),g(Y,H),g(Y,X),g(X,ae),g(ae,ne),g(X,he),F(oe,X,null),g(Y,Pe),G&&G.m(Y,null),g(u,Se),g(u,ie),F(de,ie,null),g(ie,De),F(ve,ie,null),g(ie,Fe),se&&se.m(ie,null),_e=!0},p(Q,j){var Ne;(!_e||j&2)&&s!==(s=(((Ne=Q[1].tipoEPI)==null?void 0:Ne.nomeEquipamento)||"EPI n√£o encontrado")+"")&&Z(o,s),(!_e||j&2)&&$!==($=Q[1].quantidade+"")&&Z(d,$);const re={};j&262144&&(re.$$scope={dirty:j,ctx:Q}),D.$set(re);const xe={};!q&&j&8&&(q=!0,xe.group=Q[3].tipo,tt(()=>q=!1)),h.$set(xe);const je={};j&262144&&(je.$$scope={dirty:j,ctx:Q}),R.$set(je);const Ve={};!W&&j&8&&(W=!0,Ve.group=Q[3].tipo,tt(()=>W=!1)),J.$set(Ve);const ze={};j&262144&&(ze.$$scope={dirty:j,ctx:Q}),U.$set(ze);const Be={};j&262144&&(Be.$$scope={dirty:j,ctx:Q}),O.$set(Be),(!_e||j&8)&&ue!==(ue=Q[3].tipo==="entrada"?"+":"-")&&Z(ne,ue),(!_e||j&8&&ge!==(ge="absolute left-3 top-1/2 transform -translate-y-1/2 "+(Q[3].tipo==="entrada"?"text-green-600":"text-red-600")+" font-medium"))&&x(ae,"class",ge);const Me={};j&16&&(Me.color=Q[4].quantidade?"red":"base"),!ce&&j&8&&(ce=!0,Me.value=Q[3].quantidade,tt(()=>ce=!1)),oe.$set(Me),Q[4].quantidade?G?G.p(Q,j):(G=Pt(Q),G.c(),G.m(Y,null)):G&&(G.d(1),G=null);const Te={};j&262144&&(Te.$$scope={dirty:j,ctx:Q}),de.$set(Te);const Ae={};j&16&&(Ae.color=Q[4].motivo?"red":"base"),!Le&&j&8&&(Le=!0,Ae.value=Q[3].motivo,tt(()=>Le=!1)),ve.$set(Ae),Q[4].motivo?se?se.p(Q,j):(se=St(Q),se.c(),se.m(ie,null)):se&&(se.d(1),se=null)},i(Q){_e||(v(D.$$.fragment,Q),v(h.$$.fragment,Q),v(R.$$.fragment,Q),v(J.$$.fragment,Q),v(U.$$.fragment,Q),v(O.$$.fragment,Q),v(oe.$$.fragment,Q),v(de.$$.fragment,Q),v(ve.$$.fragment,Q),_e=!0)},o(Q){E(D.$$.fragment,Q),E(h.$$.fragment,Q),E(R.$$.fragment,Q),E(J.$$.fragment,Q),E(U.$$.fragment,Q),E(O.$$.fragment,Q),E(oe.$$.fragment,Q),E(de.$$.fragment,Q),E(ve.$$.fragment,Q),_e=!1},d(Q){Q&&c(e),S(D),S(h),S(R),S(J),S(U),S(O),S(oe),G&&G.d(),S(de),S(ve),se&&se.d()}}}function Ja(l){let e;return{c(){e=B("Tipo de Movimenta√ß√£o *")},l(a){e=z(a,"Tipo de Movimenta√ß√£o *")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Xa(l){let e;return{c(){e=B("Aumentar")},l(a){e=z(a,"Aumentar")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Wa(l){let e;return{c(){e=B("Retirar")},l(a){e=z(a,"Retirar")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Ya(l){let e;return{c(){e=B("Quantidade *")},l(a){e=z(a,"Quantidade *")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Pt(l){let e,a=l[4].quantidade+"",t;return{c(){e=I("p"),t=B(a),this.h()},l(r){e=k(r,"P",{class:!0});var s=C(e);t=z(s,a),s.forEach(c),this.h()},h(){x(e,"class","text-red-600 text-xs mt-1")},m(r,s){y(r,e,s),g(e,t)},p(r,s){s&16&&a!==(a=r[4].quantidade+"")&&Z(t,a)},d(r){r&&c(e)}}}function Za(l){let e;return{c(){e=B("Motivo *")},l(a){e=z(a,"Motivo *")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function St(l){let e,a=l[4].motivo+"",t;return{c(){e=I("p"),t=B(a),this.h()},l(r){e=k(r,"P",{class:!0});var s=C(e);t=z(s,a),s.forEach(c),this.h()},h(){x(e,"class","text-red-600 text-xs mt-1")},m(r,s){y(r,e,s),g(e,t)},p(r,s){s&16&&a!==(a=r[4].motivo+"")&&Z(t,a)},d(r){r&&c(e)}}}function er(l){let e,a,t=l[1]&&At(l);return{c(){t&&t.c(),e=$e()},l(r){t&&t.l(r),e=$e()},m(r,s){t&&t.m(r,s),y(r,e,s),a=!0},p(r,s){r[1]?t?(t.p(r,s),s&2&&v(t,1)):(t=At(r),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(Ee(),E(t,1,1,()=>{t=null}),we())},i(r){a||(v(t),a=!0)},o(r){E(t),a=!1},d(r){r&&c(e),t&&t.d(r)}}}function Ft(l){let e,a,t,r,s;return a=new He({props:{color:"alternative",class:"rounded-sm",disabled:l[2],$$slots:{default:[tr]},$$scope:{ctx:l}}}),a.$on("click",l[7]),r=new He({props:{color:"primary",class:"rounded-sm",disabled:l[2],$$slots:{default:[lr]},$$scope:{ctx:l}}}),r.$on("click",l[6]),{c(){e=I("div"),T(a.$$.fragment),t=P(),T(r.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var n=C(e);M(a.$$.fragment,n),t=A(n),M(r.$$.fragment,n),n.forEach(c),this.h()},h(){x(e,"class","flex items-center gap-3")},m(o,n){y(o,e,n),F(a,e,null),g(e,t),F(r,e,null),s=!0},p(o,n){const i={};n&4&&(i.disabled=o[2]),n&262144&&(i.$$scope={dirty:n,ctx:o}),a.$set(i);const m={};n&4&&(m.disabled=o[2]),n&262148&&(m.$$scope={dirty:n,ctx:o}),r.$set(m)},i(o){s||(v(a.$$.fragment,o),v(r.$$.fragment,o),s=!0)},o(o){E(a.$$.fragment,o),E(r.$$.fragment,o),s=!1},d(o){o&&c(e),S(a),S(r)}}}function tr(l){let e;return{c(){e=B("Cancelar")},l(a){e=z(a,"Cancelar")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function ar(l){let e;return{c(){e=B("Salvar Movimenta√ß√£o")},l(a){e=z(a,"Salvar Movimenta√ß√£o")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function rr(l){let e,a=`<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
              Salvando...`;return{c(){e=I("div"),e.innerHTML=a,this.h()},l(t){e=k(t,"DIV",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1x71bel"&&(e.innerHTML=a),this.h()},h(){x(e,"class","flex items-center")},m(t,r){y(t,e,r)},d(t){t&&c(e)}}}function lr(l){let e;function a(s,o){return s[2]?rr:ar}let t=a(l),r=t(l);return{c(){r.c(),e=$e()},l(s){r.l(s),e=$e()},m(s,o){r.m(s,o),y(s,e,o)},p(s,o){t!==(t=a(s))&&(r.d(1),r=t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&c(e),r.d(s)}}}function sr(l){let e,a,t=l[1]&&Ft(l);return{c(){t&&t.c(),e=$e()},l(r){t&&t.l(r),e=$e()},m(r,s){t&&t.m(r,s),y(r,e,s),a=!0},p(r,s){r[1]?t?(t.p(r,s),s&2&&v(t,1)):(t=Ft(r),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(Ee(),E(t,1,1,()=>{t=null}),we())},i(r){a||(v(t),a=!0)},o(r){E(t),a=!1},d(r){r&&c(e),t&&t.d(r)}}}function or(l){let e,a,t;function r(o){l[13](o)}let s={title:l[5],size:"md",autoclose:!1,outsideclose:!1,$$slots:{footer:[sr],default:[er]},$$scope:{ctx:l}};return l[0]!==void 0&&(s.open=l[0]),e=new Yt({props:s}),Ze.push(()=>et(e,"open",r)),{c(){T(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,n){F(e,o,n),t=!0},p(o,[n]){const i={};n&32&&(i.title=o[5]),n&262174&&(i.$$scope={dirty:n,ctx:o}),!a&&n&1&&(a=!0,i.open=o[0],tt(()=>a=!1)),e.$set(i)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){E(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function nr(l){const e=l.target;e.style.height="auto",e.style.height=Math.max(40,e.scrollHeight)+"px"}function ir(l,e,a){let t,{item:r=null}=e,{loading:s=!1}=e,{show:o=!0}=e;const n=ct();let i={tipo:"entrada",quantidade:0,motivo:""},m={};function $(){a(3,i={tipo:"entrada",quantidade:0,motivo:""}),a(4,m={})}function d(){const h={};return(!i.quantidade||i.quantidade===0)&&(h.quantidade="Quantidade √© obrigat√≥ria e deve ser diferente de zero"),i.motivo.trim()||(h.motivo="Motivo √© obrigat√≥rio"),a(4,m=h),Object.keys(h).length===0}function f(){d()&&(n("save",{tipoEPIId:(r==null?void 0:r.tipoEPIId)||"",almoxarifadoId:(r==null?void 0:r.almoxarifadoId)||"",tipoMovimentacao:i.tipo==="entrada"?"AJUSTE_POSITIVO":"AJUSTE_NEGATIVO",quantidade:i.quantidade,motivo:i.motivo,observacoes:"",itemEstoqueId:r==null?void 0:r.id}),u())}function u(){a(0,o=!1),n("cancel")}function p(h){const q=h.target;a(3,i.quantidade=parseFloat(q.value)||0,i)}function _(h){l.$$.not_equal(i.tipo,h)&&(i.tipo=h,a(3,i))}function D(h){l.$$.not_equal(i.tipo,h)&&(i.tipo=h,a(3,i))}function b(h){l.$$.not_equal(i.quantidade,h)&&(i.quantidade=h,a(3,i))}function w(h){l.$$.not_equal(i.motivo,h)&&(i.motivo=h,a(3,i))}function V(h){o=h,a(0,o)}return l.$$set=h=>{"item"in h&&a(1,r=h.item),"loading"in h&&a(2,s=h.loading),"show"in h&&a(0,o=h.show)},l.$$.update=()=>{l.$$.dirty&3&&o&&r&&$(),l.$$.dirty&8&&(i.tipo==="entrada"?`${i.quantidade}`:`${i.quantidade}`),l.$$.dirty&2&&a(5,t=r?"Ajustar Estoque":"Nova Movimenta√ß√£o")},[o,r,s,i,m,t,f,u,p,_,D,b,w,V]}class fr extends st{constructor(e){super(),ot(this,e,ir,or,nt,{item:1,loading:2,show:0})}}function Tt(l,e,a){const t=l.slice();t[14]=e[a];const r=t[10](t[14].tipoMovimentacao);t[15]=r;const s=jr(t[14].tipoMovimentacao);return t[16]=s,t}function Vt(l,e,a){const t=l.slice();return t[19]=e[a],t}function Mt(l){let e,a;return{c(){e=I("p"),a=B(l[5]),this.h()},l(t){e=k(t,"P",{class:!0});var r=C(e);a=z(r,l[5]),r.forEach(c),this.h()},h(){x(e,"class","text-sm text-gray-500 dark:text-gray-400")},m(t,r){y(t,e,r),g(e,a)},p(t,r){r&32&&Z(a,t[5])},d(t){t&&c(e)}}}function ur(l){let e,a;return e=new _a({props:{class:"w-5 h-5"}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p:Ge,i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function cr(l){let e=l[19].label+"",a,t;return{c(){a=B(e),t=P()},l(r){a=z(r,e),t=A(r)},m(r,s){y(r,a,s),y(r,t,s)},p:Ge,d(r){r&&(c(a),c(t))}}}function Nt(l){let e,a;function t(){return l[12](l[19])}return e=new He({props:{size:"sm",color:l[4]===l[19].value?"primary":"alternative",class:"rounded-none first:rounded-l-sm last:rounded-r-sm",$$slots:{default:[cr]},$$scope:{ctx:l}}}),e.$on("click",t),{c(){T(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){F(e,r,s),a=!0},p(r,s){l=r;const o={};s&16&&(o.color=l[4]===l[19].value?"primary":"alternative"),s&4194304&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(r){a||(v(e.$$.fragment,r),a=!0)},o(r){E(e.$$.fragment,r),a=!1},d(r){S(e,r)}}}function dr(l){let e,a,t=Xe(l[7]),r=[];for(let o=0;o<t.length;o+=1)r[o]=Nt(Vt(l,t,o));const s=o=>E(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=$e()},l(o){for(let n=0;n<r.length;n+=1)r[n].l(o);e=$e()},m(o,n){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,n);y(o,e,n),a=!0},p(o,n){if(n&656){t=Xe(o[7]);let i;for(i=0;i<t.length;i+=1){const m=Vt(o,t,i);r[i]?(r[i].p(m,n),v(r[i],1)):(r[i]=Nt(m),r[i].c(),v(r[i],1),r[i].m(e.parentNode,e))}for(Ee(),i=t.length;i<r.length;i+=1)s(i);we()}},i(o){if(!a){for(let n=0;n<t.length;n+=1)v(r[n]);a=!0}},o(o){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)E(r[n]);a=!1},d(o){o&&c(e),Ht(r,o)}}}function mr(l){let e,a,t,r,s,o="Selecione um item",n,i,m="Escolha um item da tabela para ver seu hist√≥rico de movimenta√ß√µes.",$;return t=new it({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=I("div"),a=I("div"),T(t.$$.fragment),r=P(),s=I("h3"),s.textContent=o,n=P(),i=I("p"),i.textContent=m,this.h()},l(d){e=k(d,"DIV",{class:!0});var f=C(e);a=k(f,"DIV",{class:!0});var u=C(a);M(t.$$.fragment,u),u.forEach(c),r=A(f),s=k(f,"H3",{class:!0,"data-svelte-h":!0}),ye(s)!=="svelte-1d96tj7"&&(s.textContent=o),n=A(f),i=k(f,"P",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-1em2gzl"&&(i.textContent=m),f.forEach(c),this.h()},h(){x(a,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"),x(s,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),x(i,"class","text-gray-500 dark:text-gray-400"),x(e,"class","text-center py-12")},m(d,f){y(d,e,f),g(e,a),F(t,a,null),g(e,r),g(e,s),g(e,n),g(e,i),$=!0},p:Ge,i(d){$||(v(t.$$.fragment,d),$=!0)},o(d){E(t.$$.fragment,d),$=!1},d(d){d&&c(e),S(t)}}}function $r(l){let e,a,t,r,s,o="Saldo Inicial",n,i,m=l[1].saldoInicial+"",$,d,f,u,p,_,D,b,w,V="Total Entradas",h,q,ee,R=l[1].totalEntradas+"",L,K,J,W,le,U,te,Y,O,H="Total Sa√≠das",X,ae,ue,ne=l[1].totalSaidas+"",ge,he,oe,ce,Pe,Se,ie,de,De,ve="Saldo Final",Le,Fe,_e=l[1].saldoFinal+"",N,fe,Ce,be,Ue,me,G,ke,Ie;u=new lt({props:{class:"w-5 h-5 text-blue-600 dark:text-blue-400"}}),W=new mt({props:{class:"w-5 h-5 text-green-600 dark:text-green-400"}}),ce=new Jt({props:{class:"w-5 h-5 text-red-600 dark:text-red-400"}}),be=new lt({props:{class:"w-5 h-5 text-blue-600 dark:text-blue-400"}});const se=[hr,_r],pe=[];function Q(j,re){return j[1].movimentacoes.length>0?0:1}return me=Q(l),G=pe[me]=se[me](l),{c(){e=I("div"),a=I("div"),t=I("div"),r=I("div"),s=I("p"),s.textContent=o,n=P(),i=I("p"),$=B(m),d=P(),f=I("div"),T(u.$$.fragment),p=P(),_=I("div"),D=I("div"),b=I("div"),w=I("p"),w.textContent=V,h=P(),q=I("p"),ee=B("+"),L=B(R),K=P(),J=I("div"),T(W.$$.fragment),le=P(),U=I("div"),te=I("div"),Y=I("div"),O=I("p"),O.textContent=H,X=P(),ae=I("p"),ue=B("-"),ge=B(ne),he=P(),oe=I("div"),T(ce.$$.fragment),Pe=P(),Se=I("div"),ie=I("div"),de=I("div"),De=I("p"),De.textContent=ve,Le=P(),Fe=I("p"),N=B(_e),fe=P(),Ce=I("div"),T(be.$$.fragment),Ue=P(),G.c(),ke=$e(),this.h()},l(j){e=k(j,"DIV",{class:!0});var re=C(e);a=k(re,"DIV",{class:!0});var xe=C(a);t=k(xe,"DIV",{class:!0});var je=C(t);r=k(je,"DIV",{});var Ve=C(r);s=k(Ve,"P",{class:!0,"data-svelte-h":!0}),ye(s)!=="svelte-mz28fp"&&(s.textContent=o),n=A(Ve),i=k(Ve,"P",{class:!0});var ze=C(i);$=z(ze,m),ze.forEach(c),Ve.forEach(c),d=A(je),f=k(je,"DIV",{class:!0});var Be=C(f);M(u.$$.fragment,Be),Be.forEach(c),je.forEach(c),xe.forEach(c),p=A(re),_=k(re,"DIV",{class:!0});var Me=C(_);D=k(Me,"DIV",{class:!0});var Te=C(D);b=k(Te,"DIV",{});var Ae=C(b);w=k(Ae,"P",{class:!0,"data-svelte-h":!0}),ye(w)!=="svelte-8u5mwd"&&(w.textContent=V),h=A(Ae),q=k(Ae,"P",{class:!0});var Ne=C(q);ee=z(Ne,"+"),L=z(Ne,R),Ne.forEach(c),Ae.forEach(c),K=A(Te),J=k(Te,"DIV",{class:!0});var Qe=C(J);M(W.$$.fragment,Qe),Qe.forEach(c),Te.forEach(c),Me.forEach(c),le=A(re),U=k(re,"DIV",{class:!0});var Ke=C(U);te=k(Ke,"DIV",{class:!0});var Je=C(te);Y=k(Je,"DIV",{});var qe=C(Y);O=k(qe,"P",{class:!0,"data-svelte-h":!0}),ye(O)!=="svelte-1i8700w"&&(O.textContent=H),X=A(qe),ae=k(qe,"P",{class:!0});var ft=C(ae);ue=z(ft,"-"),ge=z(ft,ne),ft.forEach(c),qe.forEach(c),he=A(Je),oe=k(Je,"DIV",{class:!0});var $t=C(oe);M(ce.$$.fragment,$t),$t.forEach(c),Je.forEach(c),Ke.forEach(c),Pe=A(re),Se=k(re,"DIV",{class:!0});var gt=C(Se);ie=k(gt,"DIV",{class:!0});var at=C(ie);de=k(at,"DIV",{});var rt=C(de);De=k(rt,"P",{class:!0,"data-svelte-h":!0}),ye(De)!=="svelte-sbjso6"&&(De.textContent=ve),Le=A(rt),Fe=k(rt,"P",{class:!0});var pt=C(Fe);N=z(pt,_e),pt.forEach(c),rt.forEach(c),fe=A(at),Ce=k(at,"DIV",{class:!0});var _t=C(Ce);M(be.$$.fragment,_t),_t.forEach(c),at.forEach(c),gt.forEach(c),re.forEach(c),Ue=A(j),G.l(j),ke=$e(),this.h()},h(){x(s,"class","text-sm text-gray-600 dark:text-gray-400"),x(i,"class","text-xl font-semibold text-gray-900 dark:text-white"),x(f,"class","p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"),x(t,"class","flex items-center justify-between"),x(a,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4"),x(w,"class","text-sm text-green-600 dark:text-green-400"),x(q,"class","text-xl font-semibold text-green-900 dark:text-green-100"),x(J,"class","p-2 bg-green-100 dark:bg-green-800 rounded-lg"),x(D,"class","flex items-center justify-between"),x(_,"class","bg-green-50 dark:bg-green-900 rounded-lg p-4"),x(O,"class","text-sm text-red-600 dark:text-red-400"),x(ae,"class","text-xl font-semibold text-red-900 dark:text-red-100"),x(oe,"class","p-2 bg-red-100 dark:bg-red-800 rounded-lg"),x(te,"class","flex items-center justify-between"),x(U,"class","bg-red-50 dark:bg-red-900 rounded-lg p-4"),x(De,"class","text-sm text-blue-600 dark:text-blue-400"),x(Fe,"class","text-xl font-semibold text-blue-900 dark:text-blue-100"),x(Ce,"class","p-2 bg-blue-100 dark:bg-blue-800 rounded-lg"),x(ie,"class","flex items-center justify-between"),x(Se,"class","bg-blue-50 dark:bg-blue-900 rounded-lg p-4"),x(e,"class","grid grid-cols-2 md:grid-cols-4 gap-4")},m(j,re){y(j,e,re),g(e,a),g(a,t),g(t,r),g(r,s),g(r,n),g(r,i),g(i,$),g(t,d),g(t,f),F(u,f,null),g(e,p),g(e,_),g(_,D),g(D,b),g(b,w),g(b,h),g(b,q),g(q,ee),g(q,L),g(D,K),g(D,J),F(W,J,null),g(e,le),g(e,U),g(U,te),g(te,Y),g(Y,O),g(Y,X),g(Y,ae),g(ae,ue),g(ae,ge),g(te,he),g(te,oe),F(ce,oe,null),g(e,Pe),g(e,Se),g(Se,ie),g(ie,de),g(de,De),g(de,Le),g(de,Fe),g(Fe,N),g(ie,fe),g(ie,Ce),F(be,Ce,null),y(j,Ue,re),pe[me].m(j,re),y(j,ke,re),Ie=!0},p(j,re){(!Ie||re&2)&&m!==(m=j[1].saldoInicial+"")&&Z($,m),(!Ie||re&2)&&R!==(R=j[1].totalEntradas+"")&&Z(L,R),(!Ie||re&2)&&ne!==(ne=j[1].totalSaidas+"")&&Z(ge,ne),(!Ie||re&2)&&_e!==(_e=j[1].saldoFinal+"")&&Z(N,_e);let xe=me;me=Q(j),me===xe?pe[me].p(j,re):(Ee(),E(pe[xe],1,1,()=>{pe[xe]=null}),we(),G=pe[me],G?G.p(j,re):(G=pe[me]=se[me](j),G.c()),v(G,1),G.m(ke.parentNode,ke))},i(j){Ie||(v(u.$$.fragment,j),v(W.$$.fragment,j),v(ce.$$.fragment,j),v(be.$$.fragment,j),v(G),Ie=!0)},o(j){E(u.$$.fragment,j),E(W.$$.fragment,j),E(ce.$$.fragment,j),E(be.$$.fragment,j),E(G),Ie=!1},d(j){j&&(c(e),c(Ue),c(ke)),S(u),S(W),S(ce),S(be),pe[me].d(j)}}}function gr(l){let e,a;return e=new ga({props:{color:"red",class:"rounded-sm",$$slots:{default:[Nr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r&4194312&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function pr(l){let e,a,t,r,s="Carregando hist√≥rico...",o;return a=new fa({props:{class:"w-8 h-8"}}),{c(){e=I("div"),T(a.$$.fragment),t=P(),r=I("span"),r.textContent=s,this.h()},l(n){e=k(n,"DIV",{class:!0});var i=C(e);M(a.$$.fragment,i),t=A(i),r=k(i,"SPAN",{class:!0,"data-svelte-h":!0}),ye(r)!=="svelte-1i33544"&&(r.textContent=s),i.forEach(c),this.h()},h(){x(r,"class","ml-3 text-gray-600 dark:text-gray-400"),x(e,"class","flex items-center justify-center py-12")},m(n,i){y(n,e,i),F(a,e,null),g(e,t),g(e,r),o=!0},p:Ge,i(n){o||(v(a.$$.fragment,n),o=!0)},o(n){E(a.$$.fragment,n),o=!1},d(n){n&&c(e),S(a)}}}function _r(l){let e,a,t,r,s,o="Nenhuma movimenta√ß√£o encontrada",n,i,m="N√£o h√° movimenta√ß√µes registradas para este item no per√≠odo selecionado.",$;return t=new it({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=I("div"),a=I("div"),T(t.$$.fragment),r=P(),s=I("h3"),s.textContent=o,n=P(),i=I("p"),i.textContent=m,this.h()},l(d){e=k(d,"DIV",{class:!0});var f=C(e);a=k(f,"DIV",{class:!0});var u=C(a);M(t.$$.fragment,u),u.forEach(c),r=A(f),s=k(f,"H3",{class:!0,"data-svelte-h":!0}),ye(s)!=="svelte-18q0j8j"&&(s.textContent=o),n=A(f),i=k(f,"P",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-1jc8szp"&&(i.textContent=m),f.forEach(c),this.h()},h(){x(a,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"),x(s,"class","text-lg font-semibold text-gray-900 dark:text-white mb-2"),x(i,"class","text-gray-500 dark:text-gray-400"),x(e,"class","text-center py-12")},m(d,f){y(d,e,f),g(e,a),F(t,a,null),g(e,r),g(e,s),g(e,n),g(e,i),$=!0},p:Ge,i(d){$||(v(t.$$.fragment,d),$=!0)},o(d){E(t.$$.fragment,d),$=!1},d(d){d&&c(e),S(t)}}}function hr(l){let e,a,t,r;return t=new Ut({props:{$$slots:{default:[Mr]},$$scope:{ctx:l}}}),{c(){e=I("div"),a=I("div"),T(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var o=C(e);a=k(o,"DIV",{class:!0});var n=C(a);M(t.$$.fragment,n),n.forEach(c),o.forEach(c),this.h()},h(){x(a,"class","overflow-x-auto"),x(e,"class","bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden")},m(s,o){y(s,e,o),g(e,a),F(t,a,null),r=!0},p(s,o){const n={};o&4194306&&(n.$$scope={dirty:o,ctx:s}),t.$set(n)},i(s){r||(v(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){s&&c(e),S(t)}}}function vr(l){let e;return{c(){e=B("Data")},l(a){e=z(a,"Data")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function br(l){let e;return{c(){e=B("Documento")},l(a){e=z(a,"Documento")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Er(l){let e;return{c(){e=B("Tipo")},l(a){e=z(a,"Tipo")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function wr(l){let e;return{c(){e=B("Quantidade")},l(a){e=z(a,"Quantidade")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function kr(l){let e;return{c(){e=B("Saldo")},l(a){e=z(a,"Saldo")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Ir(l){let e;return{c(){e=B("Observa√ß√µes")},l(a){e=z(a,"Observa√ß√µes")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function xr(l){let e,a,t,r,s,o,n,i,m,$,d,f;return e=new Oe({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[vr]},$$scope:{ctx:l}}}),t=new Oe({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[br]},$$scope:{ctx:l}}}),s=new Oe({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[Er]},$$scope:{ctx:l}}}),n=new Oe({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[wr]},$$scope:{ctx:l}}}),m=new Oe({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300 text-center",$$slots:{default:[kr]},$$scope:{ctx:l}}}),d=new Oe({props:{class:"py-3 px-4 font-semibold text-xs uppercase text-gray-600 dark:text-gray-300",$$slots:{default:[Ir]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),a=P(),T(t.$$.fragment),r=P(),T(s.$$.fragment),o=P(),T(n.$$.fragment),i=P(),T(m.$$.fragment),$=P(),T(d.$$.fragment)},l(u){M(e.$$.fragment,u),a=A(u),M(t.$$.fragment,u),r=A(u),M(s.$$.fragment,u),o=A(u),M(n.$$.fragment,u),i=A(u),M(m.$$.fragment,u),$=A(u),M(d.$$.fragment,u)},m(u,p){F(e,u,p),y(u,a,p),F(t,u,p),y(u,r,p),F(s,u,p),y(u,o,p),F(n,u,p),y(u,i,p),F(m,u,p),y(u,$,p),F(d,u,p),f=!0},p(u,p){const _={};p&4194304&&(_.$$scope={dirty:p,ctx:u}),e.$set(_);const D={};p&4194304&&(D.$$scope={dirty:p,ctx:u}),t.$set(D);const b={};p&4194304&&(b.$$scope={dirty:p,ctx:u}),s.$set(b);const w={};p&4194304&&(w.$$scope={dirty:p,ctx:u}),n.$set(w);const V={};p&4194304&&(V.$$scope={dirty:p,ctx:u}),m.$set(V);const h={};p&4194304&&(h.$$scope={dirty:p,ctx:u}),d.$set(h)},i(u){f||(v(e.$$.fragment,u),v(t.$$.fragment,u),v(s.$$.fragment,u),v(n.$$.fragment,u),v(m.$$.fragment,u),v(d.$$.fragment,u),f=!0)},o(u){E(e.$$.fragment,u),E(t.$$.fragment,u),E(s.$$.fragment,u),E(n.$$.fragment,u),E(m.$$.fragment,u),E(d.$$.fragment,u),f=!1},d(u){u&&(c(a),c(r),c(o),c(i),c($)),S(e,u),S(t,u),S(s,u),S(n,u),S(m,u),S(d,u)}}}function yr(l){let e,a=kt(l[14].data)+"",t,r,s,o=new Date(l[14].data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+"",n;return{c(){e=I("div"),t=B(a),r=P(),s=I("div"),n=B(o),this.h()},l(i){e=k(i,"DIV",{class:!0});var m=C(e);t=z(m,a),m.forEach(c),r=A(i),s=k(i,"DIV",{class:!0});var $=C(s);n=z($,o),$.forEach(c),this.h()},h(){x(e,"class","text-sm text-gray-900 dark:text-white"),x(s,"class","text-xs text-gray-500 dark:text-gray-400")},m(i,m){y(i,e,m),g(e,t),y(i,r,m),y(i,s,m),g(s,n)},p(i,m){m&2&&a!==(a=kt(i[14].data)+"")&&Z(t,a),m&2&&o!==(o=new Date(i[14].data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+"")&&Z(n,o)},d(i){i&&(c(e),c(r),c(s))}}}function Dr(l){let e,a,t,r,s,o=l[14].documento+"",n,i;return t=new lt({props:{class:"w-3 h-3 text-gray-500 dark:text-gray-400"}}),{c(){e=I("div"),a=I("div"),T(t.$$.fragment),r=P(),s=I("span"),n=B(o),this.h()},l(m){e=k(m,"DIV",{class:!0});var $=C(e);a=k($,"DIV",{class:!0});var d=C(a);M(t.$$.fragment,d),d.forEach(c),r=A($),s=k($,"SPAN",{class:!0});var f=C(s);n=z(f,o),f.forEach(c),$.forEach(c),this.h()},h(){x(a,"class","p-1 bg-gray-100 dark:bg-gray-700 rounded"),x(s,"class","text-sm font-medium text-gray-900 dark:text-white"),x(e,"class","flex items-center space-x-2")},m(m,$){y(m,e,$),g(e,a),F(t,a,null),g(e,r),g(e,s),g(s,n),i=!0},p(m,$){(!i||$&2)&&o!==(o=m[14].documento+"")&&Z(n,o)},i(m){i||(v(t.$$.fragment,m),i=!0)},o(m){E(t.$$.fragment,m),i=!1},d(m){m&&c(e),S(t)}}}function Cr(l){let e,a,t,r,s,o,n=Ot(l[14].tipoMovimentacao)+"",i,m;var $=l[15];function d(f,u){return{props:{class:"w-3 h-3 "+(f[16]==="green"?"text-green-600 dark:text-green-400":f[16]==="red"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")}}}return $&&(t=vt($,d(l))),{c(){e=I("div"),a=I("div"),t&&T(t.$$.fragment),s=P(),o=I("span"),i=B(n),this.h()},l(f){e=k(f,"DIV",{class:!0});var u=C(e);a=k(u,"DIV",{class:!0});var p=C(a);t&&M(t.$$.fragment,p),p.forEach(c),s=A(u),o=k(u,"SPAN",{class:!0});var _=C(o);i=z(_,n),_.forEach(c),u.forEach(c),this.h()},h(){x(a,"class",r="p-1 "+(l[16]==="green"?"bg-green-100 dark:bg-green-900":l[16]==="red"?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900")+" rounded"),x(o,"class","text-sm text-gray-900 dark:text-white"),x(e,"class","flex items-center space-x-2")},m(f,u){y(f,e,u),g(e,a),t&&F(t,a,null),g(e,s),g(e,o),g(o,i),m=!0},p(f,u){if(u&2&&$!==($=f[15])){if(t){Ee();const p=t;E(p.$$.fragment,1,0,()=>{S(p,1)}),we()}$?(t=vt($,d(f)),T(t.$$.fragment),v(t.$$.fragment,1),F(t,a,null)):t=null}else if($){const p={};u&2&&(p.class="w-3 h-3 "+(f[16]==="green"?"text-green-600 dark:text-green-400":f[16]==="red"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")),t.$set(p)}(!m||u&2&&r!==(r="p-1 "+(f[16]==="green"?"bg-green-100 dark:bg-green-900":f[16]==="red"?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900")+" rounded"))&&x(a,"class",r),(!m||u&2)&&n!==(n=Ot(f[14].tipoMovimentacao)+"")&&Z(i,n)},i(f){m||(t&&v(t.$$.fragment,f),m=!0)},o(f){t&&E(t.$$.fragment,f),m=!1},d(f){f&&c(e),t&&S(t)}}}function Ar(l){let e=Rt(l[14].entrada,l[14].saida)+"",a;return{c(){a=B(e)},l(t){a=z(t,e)},m(t,r){y(t,a,r)},p(t,r){r&2&&e!==(e=Rt(t[14].entrada,t[14].saida)+"")&&Z(a,e)},d(t){t&&c(a)}}}function Pr(l){let e,a;return e=new dt({props:{color:l[14].entrada>0?"green":"red",class:"w-fit rounded-sm",$$slots:{default:[Ar]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r&2&&(s.color=t[14].entrada>0?"green":"red"),r&4194306&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function Sr(l){let e,a=l[14].saldo+"",t;return{c(){e=I("span"),t=B(a),this.h()},l(r){e=k(r,"SPAN",{class:!0});var s=C(e);t=z(s,a),s.forEach(c),this.h()},h(){x(e,"class","font-semibold text-gray-900 dark:text-white")},m(r,s){y(r,e,s),g(e,t)},p(r,s){s&2&&a!==(a=r[14].saldo+"")&&Z(t,a)},d(r){r&&c(e)}}}function Fr(l){let e,a=(l[14].observacoes||"-")+"",t;return{c(){e=I("span"),t=B(a),this.h()},l(r){e=k(r,"SPAN",{class:!0});var s=C(e);t=z(s,a),s.forEach(c),this.h()},h(){x(e,"class","text-sm text-gray-600 dark:text-gray-400")},m(r,s){y(r,e,s),g(e,t)},p(r,s){s&2&&a!==(a=(r[14].observacoes||"-")+"")&&Z(t,a)},d(r){r&&c(e)}}}function Tr(l){let e,a,t,r,s,o,n,i,m,$,d,f,u;return e=new Re({props:{class:"py-3 px-4",$$slots:{default:[yr]},$$scope:{ctx:l}}}),t=new Re({props:{class:"py-3 px-4",$$slots:{default:[Dr]},$$scope:{ctx:l}}}),s=new Re({props:{class:"py-3 px-4",$$slots:{default:[Cr]},$$scope:{ctx:l}}}),n=new Re({props:{class:"py-3 px-4 text-center",$$slots:{default:[Pr]},$$scope:{ctx:l}}}),m=new Re({props:{class:"py-3 px-4 text-center",$$slots:{default:[Sr]},$$scope:{ctx:l}}}),d=new Re({props:{class:"py-3 px-4",$$slots:{default:[Fr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),a=P(),T(t.$$.fragment),r=P(),T(s.$$.fragment),o=P(),T(n.$$.fragment),i=P(),T(m.$$.fragment),$=P(),T(d.$$.fragment),f=P()},l(p){M(e.$$.fragment,p),a=A(p),M(t.$$.fragment,p),r=A(p),M(s.$$.fragment,p),o=A(p),M(n.$$.fragment,p),i=A(p),M(m.$$.fragment,p),$=A(p),M(d.$$.fragment,p),f=A(p)},m(p,_){F(e,p,_),y(p,a,_),F(t,p,_),y(p,r,_),F(s,p,_),y(p,o,_),F(n,p,_),y(p,i,_),F(m,p,_),y(p,$,_),F(d,p,_),y(p,f,_),u=!0},p(p,_){const D={};_&4194306&&(D.$$scope={dirty:_,ctx:p}),e.$set(D);const b={};_&4194306&&(b.$$scope={dirty:_,ctx:p}),t.$set(b);const w={};_&4194306&&(w.$$scope={dirty:_,ctx:p}),s.$set(w);const V={};_&4194306&&(V.$$scope={dirty:_,ctx:p}),n.$set(V);const h={};_&4194306&&(h.$$scope={dirty:_,ctx:p}),m.$set(h);const q={};_&4194306&&(q.$$scope={dirty:_,ctx:p}),d.$set(q)},i(p){u||(v(e.$$.fragment,p),v(t.$$.fragment,p),v(s.$$.fragment,p),v(n.$$.fragment,p),v(m.$$.fragment,p),v(d.$$.fragment,p),u=!0)},o(p){E(e.$$.fragment,p),E(t.$$.fragment,p),E(s.$$.fragment,p),E(n.$$.fragment,p),E(m.$$.fragment,p),E(d.$$.fragment,p),u=!1},d(p){p&&(c(a),c(r),c(o),c(i),c($),c(f)),S(e,p),S(t,p),S(s,p),S(n,p),S(m,p),S(d,p)}}}function qt(l){let e,a;return e=new Kt({props:{class:"hover:bg-gray-50 dark:hover:bg-gray-700",$$slots:{default:[Tr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r&4194306&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function Vr(l){let e,a,t=Xe(l[1].movimentacoes),r=[];for(let o=0;o<t.length;o+=1)r[o]=qt(Tt(l,t,o));const s=o=>E(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=$e()},l(o){for(let n=0;n<r.length;n+=1)r[n].l(o);e=$e()},m(o,n){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,n);y(o,e,n),a=!0},p(o,n){if(n&1026){t=Xe(o[1].movimentacoes);let i;for(i=0;i<t.length;i+=1){const m=Tt(o,t,i);r[i]?(r[i].p(m,n),v(r[i],1)):(r[i]=qt(m),r[i].c(),v(r[i],1),r[i].m(e.parentNode,e))}for(Ee(),i=t.length;i<r.length;i+=1)s(i);we()}},i(o){if(!a){for(let n=0;n<t.length;n+=1)v(r[n]);a=!0}},o(o){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)E(r[n]);a=!1},d(o){o&&c(e),Ht(r,o)}}}function Mr(l){let e,a,t,r;return e=new Qt({props:{class:"bg-gray-50 dark:bg-gray-700",$$slots:{default:[xr]},$$scope:{ctx:l}}}),t=new Gt({props:{class:"divide-y divide-gray-200 dark:divide-gray-700",$$slots:{default:[Vr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),a=P(),T(t.$$.fragment)},l(s){M(e.$$.fragment,s),a=A(s),M(t.$$.fragment,s)},m(s,o){F(e,s,o),y(s,a,o),F(t,s,o),r=!0},p(s,o){const n={};o&4194304&&(n.$$scope={dirty:o,ctx:s}),e.$set(n);const i={};o&4194306&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){r||(v(e.$$.fragment,s),v(t.$$.fragment,s),r=!0)},o(s){E(e.$$.fragment,s),E(t.$$.fragment,s),r=!1},d(s){s&&c(a),S(e,s),S(t,s)}}}function Nr(l){let e,a="Erro ao carregar hist√≥rico:",t,r;return{c(){e=I("span"),e.textContent=a,t=P(),r=B(l[3]),this.h()},l(s){e=k(s,"SPAN",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1gnoq2l"&&(e.textContent=a),t=A(s),r=z(s,l[3]),this.h()},h(){x(e,"class","font-medium")},m(s,o){y(s,e,o),y(s,t,o),y(s,r,o)},p(s,o){o&8&&Z(r,s[3])},d(s){s&&(c(e),c(t),c(r))}}}function qr(l){let e;return{c(){e=B("Fechar")},l(a){e=z(a,"Fechar")},m(a,t){y(a,e,t)},d(a){a&&c(e)}}}function Or(l){let e,a,t,r,s,o,n,i,m,$,d,f,u,p,_,D,b,w,V="Per√≠odo:",h,q,ee,R,L,K,J,W,le;r=new it({props:{class:"w-5 h-5 text-blue-600 dark:text-blue-400"}});let U=l[5]&&Mt(l);d=new He({props:{color:"alternative",class:"rounded-sm p-2",$$slots:{default:[ur]},$$scope:{ctx:l}}}),d.$on("click",l[8]),D=new ca({props:{class:"w-4 h-4 text-gray-500 dark:text-gray-400"}}),q=new pa({props:{class:"rounded-sm",$$slots:{default:[dr]},$$scope:{ctx:l}}});const te=[pr,gr,$r,mr],Y=[];function O(H,X){return H[2]?0:H[3]?1:H[1]?2:3}return R=O(l),L=Y[R]=te[R](l),W=new He({props:{color:"alternative",class:"rounded-sm",$$slots:{default:[qr]},$$scope:{ctx:l}}}),W.$on("click",l[8]),{c(){e=I("div"),a=I("div"),t=I("div"),T(r.$$.fragment),s=P(),o=I("div"),n=I("h3"),i=B(l[6]),m=P(),U&&U.c(),$=P(),T(d.$$.fragment),f=P(),u=I("div"),p=I("div"),_=I("div"),T(D.$$.fragment),b=P(),w=I("span"),w.textContent=V,h=P(),T(q.$$.fragment),ee=P(),L.c(),K=P(),J=I("div"),T(W.$$.fragment),this.h()},l(H){e=k(H,"DIV",{class:!0});var X=C(e);a=k(X,"DIV",{class:!0});var ae=C(a);t=k(ae,"DIV",{class:!0});var ue=C(t);M(r.$$.fragment,ue),ue.forEach(c),s=A(ae),o=k(ae,"DIV",{});var ne=C(o);n=k(ne,"H3",{class:!0});var ge=C(n);i=z(ge,l[6]),ge.forEach(c),m=A(ne),U&&U.l(ne),ne.forEach(c),ae.forEach(c),$=A(X),M(d.$$.fragment,X),X.forEach(c),f=A(H),u=k(H,"DIV",{class:!0});var he=C(u);p=k(he,"DIV",{class:!0});var oe=C(p);_=k(oe,"DIV",{class:!0});var ce=C(_);M(D.$$.fragment,ce),b=A(ce),w=k(ce,"SPAN",{class:!0,"data-svelte-h":!0}),ye(w)!=="svelte-b385pc"&&(w.textContent=V),ce.forEach(c),h=A(oe),M(q.$$.fragment,oe),oe.forEach(c),ee=A(he),L.l(he),he.forEach(c),K=A(H),J=k(H,"DIV",{class:!0});var Pe=C(J);M(W.$$.fragment,Pe),Pe.forEach(c),this.h()},h(){x(t,"class","p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"),x(n,"class","text-lg font-semibold text-gray-900 dark:text-white"),x(a,"class","flex items-center space-x-3"),x(e,"class","flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-600"),x(w,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),x(_,"class","flex items-center space-x-2"),x(p,"class","flex items-center justify-between"),x(u,"class","p-6 space-y-6"),x(J,"class","flex items-center justify-end p-6 border-t border-gray-200 dark:border-gray-600 space-x-3")},m(H,X){y(H,e,X),g(e,a),g(a,t),F(r,t,null),g(a,s),g(a,o),g(o,n),g(n,i),g(o,m),U&&U.m(o,null),g(e,$),F(d,e,null),y(H,f,X),y(H,u,X),g(u,p),g(p,_),F(D,_,null),g(_,b),g(_,w),g(p,h),F(q,p,null),g(u,ee),Y[R].m(u,null),y(H,K,X),y(H,J,X),F(W,J,null),le=!0},p(H,X){(!le||X&64)&&Z(i,H[6]),H[5]?U?U.p(H,X):(U=Mt(H),U.c(),U.m(o,null)):U&&(U.d(1),U=null);const ae={};X&4194304&&(ae.$$scope={dirty:X,ctx:H}),d.$set(ae);const ue={};X&4194320&&(ue.$$scope={dirty:X,ctx:H}),q.$set(ue);let ne=R;R=O(H),R===ne?Y[R].p(H,X):(Ee(),E(Y[ne],1,1,()=>{Y[ne]=null}),we(),L=Y[R],L?L.p(H,X):(L=Y[R]=te[R](H),L.c()),v(L,1),L.m(u,null));const ge={};X&4194304&&(ge.$$scope={dirty:X,ctx:H}),W.$set(ge)},i(H){le||(v(r.$$.fragment,H),v(d.$$.fragment,H),v(D.$$.fragment,H),v(q.$$.fragment,H),v(L),v(W.$$.fragment,H),le=!0)},o(H){E(r.$$.fragment,H),E(d.$$.fragment,H),E(D.$$.fragment,H),E(q.$$.fragment,H),E(L),E(W.$$.fragment,H),le=!1},d(H){H&&(c(e),c(f),c(u),c(K),c(J)),S(r),U&&U.d(),S(d),S(D),S(q),Y[R].d(),S(W)}}}function Rr(l){let e,a;return e=new Yt({props:{open:l[0],size:"xl",class:"rounded-sm",outsideclose:!0,$$slots:{default:[Or]},$$scope:{ctx:l}}}),e.$on("close",l[8]),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,[r]){const s={};r&1&&(s.open=t[0]),r&4194430&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function jr(l){return l.includes("ENTRADA")?"green":l.includes("SAIDA")?"red":"blue"}function Ot(l){return{ENTRADA_NOTA:"Entrada por Nota",SAIDA_ENTREGA:"Sa√≠da - Entrega",SAIDA_TRANSFERENCIA:"Sa√≠da - Transfer√™ncia",ENTRADA_TRANSFERENCIA:"Entrada - Transfer√™ncia",ENTRADA_DEVOLUCAO:"Entrada - Devolu√ß√£o",SAIDA_DESCARTE:"Sa√≠da - Descarte",AJUSTE_POSITIVO:"Ajuste Positivo",AJUSTE_NEGATIVO:"Ajuste Negativo"}[l]||l}function Rt(l,e){return l>0?`+${l}`:e>0?`-${e}`:"0"}function zr(l,e,a){let t,r,{showModal:s=!1}=e,{item:o=null}=e,{kardexData:n=null}=e,{loading:i=!1}=e,{error:m=null}=e;const $=ct();let d="all";const f=[{value:"7",label:"7 dias"},{value:"30",label:"30 dias"},{value:"90",label:"90 dias"},{value:"all",label:"Todos"}];function u(){$("close")}function p(b){if(a(4,d=b),b==="all")$("periodFilter",{period:b});else{const w=parseInt(b),V=new Date().toISOString().split("T")[0],h=new Date(Date.now()-w*24*60*60*1e3).toISOString().split("T")[0];$("periodFilter",{period:b,dataInicio:h,dataFim:V})}}function _(b){return b.includes("ENTRADA")?mt:b.includes("SAIDA")?Jt:lt}const D=b=>p(b.value);return l.$$set=b=>{"showModal"in b&&a(0,s=b.showModal),"item"in b&&a(11,o=b.item),"kardexData"in b&&a(1,n=b.kardexData),"loading"in b&&a(2,i=b.loading),"error"in b&&a(3,m=b.error)},l.$$.update=()=>{var b,w;l.$$.dirty&2048&&a(6,t=o?`Hist√≥rico - ${((b=o.tipoEPI)==null?void 0:b.nomeEquipamento)||"Item"}`:"Hist√≥rico"),l.$$.dirty&2048&&a(5,r=o?`CA ${((w=o.tipoEPI)==null?void 0:w.numeroCA)||"-"}`:"")},[s,n,i,m,d,r,t,f,u,p,_,o,D]}class Br extends st{constructor(e){super(),ot(this,e,zr,Rr,nt,{showModal:0,item:11,kardexData:1,loading:2,error:3})}}function jt(l){let e,a;return e=new fr({props:{item:l[5],tiposEPI:l[11],almoxarifados:l[1],loading:l[7],show:l[2]}}),e.$on("save",l[21]),e.$on("cancel",l[22]),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r[0]&32&&(s.item=t[5]),r[0]&2048&&(s.tiposEPI=t[11]),r[0]&2&&(s.almoxarifados=t[1]),r[0]&128&&(s.loading=t[7]),r[0]&4&&(s.show=t[2]),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function zt(l){let e,a;return e=new Br({props:{showModal:l[3],item:l[6],kardexData:l[10],loading:l[8],error:l[9]}}),e.$on("close",l[23]),e.$on("periodFilter",l[24]),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r[0]&8&&(s.showModal=t[3]),r[0]&64&&(s.item=t[6]),r[0]&1024&&(s.kardexData=t[10]),r[0]&256&&(s.loading=t[8]),r[0]&512&&(s.error=t[9]),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function Bt(l){let e,a;return e=new ha({props:{open:l[4],mode:"create"}}),e.$on("close",l[26]),e.$on("save",l[27]),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){F(e,t,r),a=!0},p(t,r){const s={};r[0]&16&&(s.open=t[4]),e.$set(s)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function Hr(l){let e,a,t,r,s,o;e=new Ka({props:{items:l[12].items,loading:l[12].loading,error:l[12].error,total:l[12].pagination.total,page:l[12].pagination.currentPage,totalPages:l[12].pagination.totalPages,searchTerm:l[12].filters.searchTerm,filters:{status:l[12].filters.statusFilter,categoria:l[12].filters.categoriaFilter},categoriaOptions:l[12].filterOptions.categorias,hideStatusFilter:!!l[0]}}),e.$on("searchChange",l[40]),e.$on("filterChange",l[41]),e.$on("clearFilters",l[17]),e.$on("pageChange",l[42]),e.$on("itemEdit",l[43]),e.$on("itemHistory",l[20]),e.$on("newMovement",l[25]);let n=l[2]&&jt(l),i=l[3]&&zt(l),m=l[4]&&Bt(l);return{c(){T(e.$$.fragment),a=P(),n&&n.c(),t=P(),i&&i.c(),r=P(),m&&m.c(),s=$e()},l($){M(e.$$.fragment,$),a=A($),n&&n.l($),t=A($),i&&i.l($),r=A($),m&&m.l($),s=$e()},m($,d){F(e,$,d),y($,a,d),n&&n.m($,d),y($,t,d),i&&i.m($,d),y($,r,d),m&&m.m($,d),y($,s,d),o=!0},p($,d){const f={};d[0]&4096&&(f.items=$[12].items),d[0]&4096&&(f.loading=$[12].loading),d[0]&4096&&(f.error=$[12].error),d[0]&4096&&(f.total=$[12].pagination.total),d[0]&4096&&(f.page=$[12].pagination.currentPage),d[0]&4096&&(f.totalPages=$[12].pagination.totalPages),d[0]&4096&&(f.searchTerm=$[12].filters.searchTerm),d[0]&4096&&(f.filters={status:$[12].filters.statusFilter,categoria:$[12].filters.categoriaFilter}),d[0]&4096&&(f.categoriaOptions=$[12].filterOptions.categorias),d[0]&1&&(f.hideStatusFilter=!!$[0]),e.$set(f),$[2]?n?(n.p($,d),d[0]&4&&v(n,1)):(n=jt($),n.c(),v(n,1),n.m(t.parentNode,t)):n&&(Ee(),E(n,1,1,()=>{n=null}),we()),$[3]?i?(i.p($,d),d[0]&8&&v(i,1)):(i=zt($),i.c(),v(i,1),i.m(r.parentNode,r)):i&&(Ee(),E(i,1,1,()=>{i=null}),we()),$[4]?m?(m.p($,d),d[0]&16&&v(m,1)):(m=Bt($),m.c(),v(m,1),m.m(s.parentNode,s)):m&&(Ee(),E(m,1,1,()=>{m=null}),we())},i($){o||(v(e.$$.fragment,$),v(n),v(i),v(m),o=!0)},o($){E(e.$$.fragment,$),E(n),E(i),E(m),o=!1},d($){$&&(c(a),c(t),c(r),c(s)),S(e,$),n&&n.d($),i&&i.d($),m&&m.d($)}}}function Lr(l,e,a){let t,r,s,o,n,i,m;ut(l,ta,N=>a(38,i=N)),ut(l,aa,N=>a(39,m=N));let{initialPageSize:$=20}=e,{key:d="default"}=e,{statusFilter:f=""}=e;const u=!1,p=3e4,_=oa(N=>Et.getInventoryItems({...N,includeExpanded:!0}),{initialPageSize:$});ut(l,_,N=>a(37,n=N));let D=!1,b=!1,w=!1,V=null,h=null,q=!1,ee=!1,R=null,L=null,K=[],J=[];ea(async()=>{console.log("üö® CONTAINER INICIADO: InventoryContainer carregando...",{key:d,statusFilter:f});try{await ra.initialize(),await le(),f&&(console.log("üîç Aplicando filtro de status autom√°tico:",f),a(32,U={...U,status:f}),ae()),console.log("üö® CHAMANDO loadInventoryData..."),await W(),console.log("‚úÖ InventoryContainer: Inicializado com sucesso")}catch(N){console.error("‚ùå Erro ao inicializar InventoryContainer:",N)}});async function W(){try{await _.fetchPage(),console.log("üì¶ Dados de invent√°rio carregados")}catch(N){console.error("‚ùå Erro ao carregar invent√°rio:",N),We.error("Erro ao carregar invent√°rio","N√£o foi poss√≠vel carregar os dados do estoque")}}async function le(){try{const[N,fe]=await Promise.all([bt.getTiposEPI({ativo:!0}),bt.getAlmoxarifados({ativo:!0})]);a(11,K=N.data||[]),a(1,J=fe),console.log(`üìã Carregados ${K.length} tipos EPI e ${J.length} almoxarifados`)}catch(N){console.error("‚ùå Erro ao carregar dados auxiliares:",N)}}let U={status:"todos",categoria:"todas"},te="";function Y(N){a(33,te=N),ae()}function O(N){a(32,U={...U,status:N}),ae()}function H(N){a(32,U={...U,categoria:N}),ae()}function X(){a(33,te=""),a(32,U={status:"todos",categoria:"todas"}),ae()}function ae(){const N={};te&&te.trim()!==""&&(N.search=te.trim()),f&&f!==""?(N.status=f,console.log("üéØ FILTRO DE TAB APLICADO:",f)):U.status&&U.status!=="todos"&&(N.status=U.status,console.log("üîß Filtro manual de status aplicado:",U.status)),U.categoria&&U.categoria!=="todas"&&(N.categoria=U.categoria),console.log("üîß Aplicando filtros finais:",N,{statusFilter:f,manualStatus:U.status,key:d}),_.setFilters(N)}function ue(N){_.goToPage(N)}function ne(N){a(5,V=N.detail.item),a(2,D=!0),console.log("‚úèÔ∏è Editando item:",V.id)}async function ge(N){a(6,h=N.detail.item),a(3,b=!0),await he(),console.log("üìä Abrindo hist√≥rico do item:",h.id)}async function he(N,fe){var Ce,be,Ue,me;if(h){a(8,ee=!0),a(9,R=null),a(10,L=null);try{console.log("üìä DEBUG: Item selecionado para hist√≥rico:",h),console.log("üìä DEBUG: Campos dispon√≠veis:",Object.keys(h));const G=h.almoxarifadoId||((Ce=h.almoxarifado)==null?void 0:Ce.id)||h.almoxarife_id,ke=h.tipoEPIId||h.tipoEpiId||h.tipo_epi_id||((be=h.tipoEPI)==null?void 0:be.id);if(console.log("üìä DEBUG: IDs extra√≠dos:",{almoxarifadoId:G,tipoEpiId:ke}),!G||!ke)throw console.error("‚ùå DEBUG: IDs n√£o encontrados:",{almoxarifadoId:!!G,tipoEpiId:!!ke,itemCompleto:h}),new Error(`Item n√£o possui dados necess√°rios para buscar hist√≥rico. Almoxarifado: ${!!G}, TipoEPI: ${!!ke}`);const Ie={almoxarifadoId:G,tipoEpiId:ke,dataInicio:N,dataFim:fe};console.log("üìä Buscando kardex com par√¢metros:",Ie),a(10,L=await va.obterKardex(Ie)),console.log(`üìä Kardex carregado: ${L.movimentacoes.length} movimenta√ß√µes`),console.log("üìä RESPOSTA COMPLETA DO KARDEX:",{saldoInicial:L.saldoInicial,saldoFinal:L.saldoFinal,totalEntradas:L.totalEntradas,totalSaidas:L.totalSaidas,primeiraMovimentacao:L.movimentacoes[0],ultimaMovimentacao:L.movimentacoes[L.movimentacoes.length-1],movimentacoesCompletas:L.movimentacoes});const se=h.quantidade,pe=L.saldoFinal;se!==pe?console.warn("üö® INCONSIST√äNCIA DETECTADA:",{item:((Ue=h.tipoEPI)==null?void 0:Ue.nomeEquipamento)||"Item n√£o identificado",numeroCA:((me=h.tipoEPI)==null?void 0:me.numeroCA)||"CA n√£o identificado",estoqueAtualListagem:se,saldoFinalKardex:pe,diferenca:se-pe,problemaTipo:se>pe?"READ_model_maior":"event_log_maior",possiveisProblemas:["Desincroniza√ß√£o Read Model vs Event Log","Ajuste manual n√£o refletido no Event Log","Bug na proje√ß√£o/c√°lculo","Movimenta√ß√£o n√£o processada corretamente"]}):console.log("‚úÖ Estoque consistente:",{estoqueAtual:se,saldoKardex:pe})}catch(G){console.error("‚ùå Erro ao carregar hist√≥rico:",G),a(9,R=G instanceof Error?G.message:"Erro desconhecido")}finally{a(8,ee=!1)}}}async function oe(N){a(7,q=!0);try{console.log("üíæ Salvando movimenta√ß√£o:",N.detail);const fe=await Et.registerMovement(N.detail);console.log("‚úÖ Movimenta√ß√£o registrada:",fe.id),a(2,D=!1),a(5,V=null),await W(),We.success("Movimenta√ß√£o registrada",`${N.detail.tipoMovimentacao} de ${N.detail.quantidade} unidades`)}catch(fe){console.error("‚ùå Erro ao salvar movimenta√ß√£o:",fe),We.error("Erro ao salvar","N√£o foi poss√≠vel registrar a movimenta√ß√£o")}finally{a(7,q=!1)}}function ce(){a(2,D=!1),a(5,V=null),console.log("‚ùå Movimenta√ß√£o cancelada")}function Pe(){a(3,b=!1),a(6,h=null),a(10,L=null),a(9,R=null),a(8,ee=!1),console.log("‚ùå Modal de hist√≥rico fechado")}async function Se(N){const{period:fe,dataInicio:Ce,dataFim:be}=N.detail;await he(Ce,be),console.log("üìÖ Per√≠odo do hist√≥rico alterado:",fe)}function ie(){a(5,V=null),a(4,w=!0),console.log("‚ûï Nova movimenta√ß√£o")}function de(){a(4,w=!1),a(5,V=null),console.log("‚ùå Drawer de notas fechado")}async function De(N){try{console.log("üíæ Salvando nota:",N.detail),a(4,w=!1),a(5,V=null),await W(),We.success("Nota salva","Movimenta√ß√£o registrada com sucesso")}catch(fe){console.error("‚ùå Erro ao salvar nota:",fe),We.error("Erro ao salvar","N√£o foi poss√≠vel registrar a movimenta√ß√£o")}}const ve=N=>Y(N.detail.value),Le=N=>{N.detail.key==="status"?O(N.detail.value):N.detail.key==="categoria"&&H(N.detail.value)},Fe=N=>ue(N.detail.page),_e=N=>ne(N.detail.item);return l.$$set=N=>{"initialPageSize"in N&&a(28,$=N.initialPageSize),"key"in N&&a(29,d=N.key),"statusFilter"in N&&a(0,f=N.statusFilter)},l.$$.update=()=>{var N;l.$$.dirty[1]&256&&a(35,t=[{value:"todos",label:"Todos os Status"},...m]),l.$$.dirty[1]&128&&a(34,r=[{value:"todas",label:"Todas as Categorias"},...i]),l.$$.dirty[0]&2&&[...J.map(fe=>({value:fe.id,label:fe.nome}))],l.$$.dirty[1]&6&&a(36,s=te!==""||U.status!=="todos"||U.categoria!=="todas"),l.$$.dirty[1]&64&&console.log("üèóÔ∏è CONTAINER: dados do store:",{storeItems:((N=n.items)==null?void 0:N.length)||0,storeLoading:n.loading,storeError:n.error,storeTotal:n.total}),l.$$.dirty[1]&126&&a(12,o={items:n.items||[],loading:n.loading,error:n.error,pagination:{currentPage:n.page,totalPages:n.totalPages,pageSize:n.pageSize,total:n.total,hasNext:_.hasNext(),hasPrev:_.hasPrev()},filters:{searchTerm:te,statusFilter:U.status,categoriaFilter:U.categoria,hasActiveFilters:s},filterOptions:{status:t,categorias:r}})},[f,J,D,b,w,V,h,q,ee,R,L,K,o,_,Y,O,H,X,ue,ne,ge,oe,ce,Pe,Se,ie,de,De,$,d,u,p,U,te,r,t,s,n,i,m,ve,Le,Fe,_e]}class vl extends st{constructor(e){super(),ot(this,e,Lr,Hr,nt,{initialPageSize:28,key:29,statusFilter:0,autoRefresh:30,refreshInterval:31},null,[-1,-1])}get autoRefresh(){return this.$$.ctx[30]}get refreshInterval(){return this.$$.ctx[31]}}export{vl as default};
