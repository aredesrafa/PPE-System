import{S as ze,i as je,s as Ue,d as m,p as v,q as b,B as Ve,r as Te,b as I,H as se,K as ot,M as Fe,N as it,P as Je,X as Re,c as g,I as W,v as U,e as N,f as B,h as O,j as q,k as z,m as V,u as T,y as A,z as S,O as Z,D as ce,n as ae,g as R,t as H,x as ue,a as ne,E as pe,F as $e,o as vt,G as kt,w as Nt,l as Be,A as qt}from"../chunks/BC4IzclS.js";import"../chunks/IHki7fMi.js";import{t as Xe,g as We,a as Ft,B as Ae}from"../chunks/B4v2edil.js";import{C as Ot}from"../chunks/BeQNdKlZ.js";import{I as qe}from"../chunks/D_zb-ss7.js";import{L as De,T as zt,P as Et,S as wt,R as jt}from"../chunks/BxXM_vYQ.js";import{t as Le}from"../chunks/CXTKVeGU.js";import{c as Ut,n as Se,e as Mt}from"../chunks/DjUOQdfO.js";import{S as Bt,L as Lt}from"../chunks/CE7RIkV7.js";import{E as Rt}from"../chunks/CPG7A_O1.js";import{S as ut}from"../chunks/YnyuZVej.js";import{C as Ht,e as Oe,u as Gt,o as Kt}from"../chunks/DX1TGYer.js";import{B as Ct}from"../chunks/Bts1RGTM.js";import{T as Qt,a as Xt,b as Jt,c as Ne,d as Pt,e as ye}from"../chunks/D0DvoTn9.js";import{C as Wt,T as Yt}from"../chunks/BzorbAyo.js";import{E as Zt}from"../chunks/Chee89nm.js";import{M as xt}from"../chunks/BaS0qQIQ.js";function ea(n){let e,t;const a=[n[7],{class:Xe(n[1],n[8].class)}];let r={$$slots:{default:[aa,({props:l})=>({36:l}),({props:l})=>[0,l?32:0]]},$$scope:{ctx:n}};for(let l=0;l<a.length;l+=1)r=Fe(r,a[l]);return e=new qe({props:r}),{c(){S(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,s){T(e,l,s),t=!0},p(l,s){const o=s[0]&386?We(a,[s[0]&128&&Ft(l[7]),s[0]&258&&{class:Xe(l[1],l[8].class)}]):{};s[0]&1|s[1]&96&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function ta(n){let e,t,a,r,l,s,o=[{type:"file"},n[7],{class:n[6]}],i={};for(let c=0;c<o.length;c+=1)i=Fe(i,o[c]);let u=n[4]&&ft(n);return{c(){e=q("div"),t=q("input"),a=z(),u&&u.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var $=B(e);t=N($,"INPUT",{type:!0,class:!0}),a=O($),u&&u.l($),$.forEach(m),this.h()},h(){Re(t,i),U(e,"class",la)},m(c,$){I(c,e,$),g(e,t),t.autofocus&&t.focus(),n[33](t),g(e,a),u&&u.m(e,null),r=!0,l||(s=[W(t,"change",n[10]),W(t,"keyup",n[11]),W(t,"keydown",n[12]),W(t,"keypress",n[13]),W(t,"focus",n[14]),W(t,"blur",n[15]),W(t,"click",n[16]),W(t,"mouseover",n[17]),W(t,"mouseenter",n[18]),W(t,"mouseleave",n[19]),W(t,"paste",n[20]),W(t,"change",n[32])],l=!0)},p(c,$){Re(t,i=We(o,[{type:"file"},$[0]&128&&c[7],{class:c[6]}])),c[4]?u?(u.p(c,$),$[0]&16&&b(u,1)):(u=ft(c),u.c(),b(u,1),u.m(e,null)):u&&(Ve(),v(u,1,1,()=>{u=null}),Te())},i(c){r||(b(u),r=!0)},o(c){v(u),r=!1},d(c){c&&m(e),n[33](null),u&&u.d(),l=!1,Je(s)}}}function aa(n){let e,t,a,r=[{type:"file"},n[36]],l={};for(let s=0;s<r.length;s+=1)l=Fe(l,r[s]);return{c(){e=q("input"),this.h()},l(s){e=N(s,"INPUT",{type:!0}),this.h()},h(){Re(e,l)},m(s,o){I(s,e,o),e.autofocus&&e.focus(),t||(a=[W(e,"change",n[21]),W(e,"keyup",n[22]),W(e,"keydown",n[23]),W(e,"keypress",n[24]),W(e,"focus",n[25]),W(e,"blur",n[26]),W(e,"click",n[27]),W(e,"mouseover",n[28]),W(e,"mouseenter",n[29]),W(e,"mouseleave",n[30]),W(e,"paste",n[31]),W(e,"change",n[34])],t=!0)},p(s,o){Re(e,l=We(r,[{type:"file"},o[1]&32&&s[36]]))},d(s){s&&m(e),t=!1,Je(a)}}}function ft(n){let e,t;return e=new Ht({props:{class:sa}}),e.$on("click",n[5]),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p:ae,i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function na(n){let e,t,a,r;const l=[ta,ea],s=[];function o(i,u){return i[2]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),a=se()},l(i){t.l(i),a=se()},m(i,u){s[e].m(i,u),I(i,a,u),r=!0},p(i,u){let c=e;e=o(i),e===c?s[e].p(i,u):(Ve(),v(s[c],1,1,()=>{s[c]=null}),Te(),t=s[e],t?t.p(i,u):(t=s[e]=l[e](i),t.c()),b(t,1),t.m(a.parentNode,a))},i(i){r||(b(t),r=!0)},o(i){v(t),r=!1},d(i){i&&m(a),s[e].d(i)}}}const ra="block w-full disabled:cursor-not-allowed disabled:opacity-50 rtl:text-right p-2.5 focus:border-primary-500 focus:ring-primary-500 dark:focus:border-primary-500 dark:focus:ring-primary-500 bg-gray-50 text-gray-900 dark:bg-gray-700 dark:placeholder-gray-400 border-gray-300 dark:border-gray-600 text-sm rounded-lg border p-0! dark:text-gray-400",la="relative w-full",sa="flex absolute inset-y-0 items-center text-gray-500 dark:text-gray-400 end-0 p-2.5";function oa(n,e,t){let a;const r=["files","inputClass","clearable","size"];let l=ot(e,r),{files:s=void 0}=e,{inputClass:o="border p-0! dark:text-gray-400"}=e,{clearable:i=!1}=e,{size:u="md"}=e;const c={sm:"text-xs ps-9 pe-9 p-2",md:"text-sm ps-10 pe-10 p-2.5",lg:"sm:text-base ps-11 pe-11 p-3"};let $;const C=()=>{$&&(t(3,$.value="",$),t(0,s=void 0))};let d=Xe(ra,c[u??"md"],o);function f(y){Z.call(this,n,y)}function p(y){Z.call(this,n,y)}function E(y){Z.call(this,n,y)}function w(y){Z.call(this,n,y)}function D(y){Z.call(this,n,y)}function h(y){Z.call(this,n,y)}function F(y){Z.call(this,n,y)}function k(y){Z.call(this,n,y)}function _(y){Z.call(this,n,y)}function G(y){Z.call(this,n,y)}function Q(y){Z.call(this,n,y)}function X(y){Z.call(this,n,y)}function J(y){Z.call(this,n,y)}function j(y){Z.call(this,n,y)}function K(y){Z.call(this,n,y)}function te(y){Z.call(this,n,y)}function x(y){Z.call(this,n,y)}function Y(y){Z.call(this,n,y)}function re(y){Z.call(this,n,y)}function fe(y){Z.call(this,n,y)}function oe(y){Z.call(this,n,y)}function le(y){Z.call(this,n,y)}function ke(){s=this.files,t(0,s)}function M(y){ce[y?"unshift":"push"](()=>{$=y,t(3,$)})}function ie(){s=this.files,t(0,s)}return n.$$set=y=>{t(8,e=Fe(Fe({},e),it(y))),t(7,l=ot(e,r)),"files"in y&&t(0,s=y.files),"inputClass"in y&&t(1,o=y.inputClass),"clearable"in y&&t(2,i=y.clearable),"size"in y&&t(9,u=y.size)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(4,a=s&&s.length>0)},e=it(e),[s,o,i,$,a,C,d,l,e,u,f,p,E,w,D,h,F,k,_,G,Q,X,J,j,K,te,x,Y,re,fe,oe,le,ke,M,ie]}class ia extends ze{constructor(e){super(),je(this,e,oa,na,Ue,{files:0,inputClass:1,clearable:2,size:9},null,[-1,-1])}}function ua(n,e){return n.filter(t=>Object.entries(e).every(([a,r])=>{if(!r||r==="todos"||r==="todas"||r==="")return!0;const l=t[a];return typeof r=="string"&&typeof l=="string"?l.toLowerCase()===r.toLowerCase():l===r}))}function fa(n,e,t){if(!e.trim())return n;const a=e.toLowerCase();return n.filter(r=>t.some(l=>{const s=l.split(".").reduce((o,i)=>o&&o[i],r);return typeof s=="string"?s.toLowerCase().includes(a):typeof s=="number"?s.toString().includes(a):!1}))}function ca(n,e,t){return[...n].sort((a,r)=>{const l=a[e],s=r[e];if(l==null&&s==null)return 0;if(l==null)return t==="asc"?1:-1;if(s==null)return t==="asc"?-1:1;let o=0;if(typeof l=="string"&&typeof s=="string")o=l.localeCompare(s,"pt-BR",{numeric:!0,sensitivity:"base"});else if(typeof l=="number"&&typeof s=="number")o=l-s;else if(l instanceof Date&&s instanceof Date)o=l.getTime()-s.getTime();else{const i=String(l),u=String(s);o=i.localeCompare(u,"pt-BR")}return t==="asc"?o:-o})}function da(n,e,t){const a=n.length,r=Math.ceil(a/t),l=Math.max(1,Math.min(e,r)),s=(l-1)*t,o=Math.min(s+t,a);return{items:n.slice(s,o),totalItems:a,totalPages:r,currentPage:l,hasNext:l<r,hasPrevious:l>1,startIndex:s,endIndex:o}}function ma(n,e){const{filters:t={},searchTerm:a="",searchFields:r=[],sortField:l,sortDirection:s="asc",currentPage:o=1,itemsPerPage:i=10}=e;let u=[...n];const c=u.length;Object.keys(t).length>0&&(u=ua(u,t)),a&&r.length>0&&(u=fa(u,a,r));const $=u.length;return u=ca(u,l,s),{...da(u,o,i),filteredCount:$,originalCount:c}}function ct(n,e,t){const a=n.slice();return a[10]=e[t],a}function pa(n){let e;return{c(){e=H("Equipamento")},l(t){e=R(t,"Equipamento")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function $a(n){let e;return{c(){e=H("CA")},l(t){e=R(t,"CA")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function _a(n){let e;return{c(){e=H("Fabricante")},l(t){e=R(t,"Fabricante")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function ga(n){let e;return{c(){e=H("Categoria")},l(t){e=R(t,"Categoria")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function ha(n){let e;return{c(){e=H("Vida Útil")},l(t){e=R(t,"Vida Útil")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function ba(n){let e;return{c(){e=H("Ações")},l(t){e=R(t,"Ações")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function va(n){let e,t,a,r,l,s,o,i,u,c,$,C;return e=new Ne({props:{class:"min-w-[200px]",$$slots:{default:[pa]},$$scope:{ctx:n}}}),a=new Ne({props:{class:"min-w-[100px]",$$slots:{default:[$a]},$$scope:{ctx:n}}}),l=new Ne({props:{class:"min-w-[120px] hidden lg:table-cell",$$slots:{default:[_a]},$$scope:{ctx:n}}}),o=new Ne({props:{class:"min-w-[120px] hidden xl:table-cell",$$slots:{default:[ga]},$$scope:{ctx:n}}}),u=new Ne({props:{class:"min-w-[100px]",$$slots:{default:[ha]},$$scope:{ctx:n}}}),$=new Ne({props:{class:"min-w-[120px]",$$slots:{default:[ba]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment),t=z(),S(a.$$.fragment),r=z(),S(l.$$.fragment),s=z(),S(o.$$.fragment),i=z(),S(u.$$.fragment),c=z(),S($.$$.fragment)},l(d){A(e.$$.fragment,d),t=O(d),A(a.$$.fragment,d),r=O(d),A(l.$$.fragment,d),s=O(d),A(o.$$.fragment,d),i=O(d),A(u.$$.fragment,d),c=O(d),A($.$$.fragment,d)},m(d,f){T(e,d,f),I(d,t,f),T(a,d,f),I(d,r,f),T(l,d,f),I(d,s,f),T(o,d,f),I(d,i,f),T(u,d,f),I(d,c,f),T($,d,f),C=!0},p(d,f){const p={};f&8192&&(p.$$scope={dirty:f,ctx:d}),e.$set(p);const E={};f&8192&&(E.$$scope={dirty:f,ctx:d}),a.$set(E);const w={};f&8192&&(w.$$scope={dirty:f,ctx:d}),l.$set(w);const D={};f&8192&&(D.$$scope={dirty:f,ctx:d}),o.$set(D);const h={};f&8192&&(h.$$scope={dirty:f,ctx:d}),u.$set(h);const F={};f&8192&&(F.$$scope={dirty:f,ctx:d}),$.$set(F)},i(d){C||(b(e.$$.fragment,d),b(a.$$.fragment,d),b(l.$$.fragment,d),b(o.$$.fragment,d),b(u.$$.fragment,d),b($.$$.fragment,d),C=!0)},o(d){v(e.$$.fragment,d),v(a.$$.fragment,d),v(l.$$.fragment,d),v(o.$$.fragment,d),v(u.$$.fragment,d),v($.$$.fragment,d),C=!1},d(d){d&&(m(t),m(r),m(s),m(i),m(c)),V(e,d),V(a,d),V(l,d),V(o,d),V(u,d),V($,d)}}}function ka(n){let e,t;return e=new Pt({props:{$$slots:{default:[Ca]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r&8192&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function Ea(n){let e=[],t=new Map,a,r,l=Oe(n[0]);const s=o=>o[10].id;for(let o=0;o<l.length;o+=1){let i=ct(n,l,o),u=s(i);t.set(u,e[o]=dt(u,i))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();a=se()},l(o){for(let i=0;i<e.length;i+=1)e[i].l(o);a=se()},m(o,i){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,i);I(o,a,i),r=!0},p(o,i){i&31&&(l=Oe(o[0]),Ve(),e=Gt(e,i,s,1,o,l,t,a.parentNode,Kt,dt,a,ct),Te())},i(o){if(!r){for(let i=0;i<l.length;i+=1)b(e[i]);r=!0}},o(o){for(let i=0;i<e.length;i+=1)v(e[i]);r=!1},d(o){o&&m(a);for(let i=0;i<e.length;i+=1)e[i].d(o)}}}function wa(n){let e,t="Nenhum tipo de EPI encontrado";return{c(){e=q("div"),e.textContent=t,this.h()},l(a){e=N(a,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-2lgs1h"&&(e.textContent=t),this.h()},h(){U(e,"class","text-gray-500 dark:text-gray-400")},m(a,r){I(a,e,r)},p:ae,d(a){a&&m(e)}}}function Ca(n){let e,t;return e=new ye({props:{colspan:"6",class:"text-center py-12",$$slots:{default:[wa]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r&8192&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function Pa(n){let e,t,a=n[10].nomeEquipamento+"",r,l,s,o=(n[10].descricao||"Sem descrição")+"",i,u,c,$=n[10].fabricante+"",C,d,f,p=n[10].categoria+"",E;return{c(){e=q("div"),t=q("p"),r=H(a),l=z(),s=q("p"),i=H(o),u=z(),c=q("p"),C=H($),d=z(),f=q("p"),E=H(p),this.h()},l(w){e=N(w,"DIV",{});var D=B(e);t=N(D,"P",{class:!0});var h=B(t);r=R(h,a),h.forEach(m),l=O(D),s=N(D,"P",{class:!0});var F=B(s);i=R(F,o),F.forEach(m),u=O(D),c=N(D,"P",{class:!0});var k=B(c);C=R(k,$),k.forEach(m),d=O(D),f=N(D,"P",{class:!0});var _=B(f);E=R(_,p),_.forEach(m),D.forEach(m),this.h()},h(){U(t,"class","font-medium text-gray-900 dark:text-white truncate"),U(s,"class","text-sm text-gray-500 dark:text-gray-400 truncate"),U(c,"class","text-xs text-gray-500 dark:text-gray-400 lg:hidden mt-1"),U(f,"class","text-xs text-gray-500 dark:text-gray-400 xl:hidden mt-1")},m(w,D){I(w,e,D),g(e,t),g(t,r),g(e,l),g(e,s),g(s,i),g(e,u),g(e,c),g(c,C),g(e,d),g(e,f),g(f,E)},p(w,D){D&1&&a!==(a=w[10].nomeEquipamento+"")&&ne(r,a),D&1&&o!==(o=(w[10].descricao||"Sem descrição")+"")&&ne(i,o),D&1&&$!==($=w[10].fabricante+"")&&ne(C,$),D&1&&p!==(p=w[10].categoria+"")&&ne(E,p)},d(w){w&&m(e)}}}function Ia(n){let e=n[10].numeroCA+"",t;return{c(){t=H(e)},l(a){t=R(a,e)},m(a,r){I(a,t,r)},p(a,r){r&1&&e!==(e=a[10].numeroCA+"")&&ne(t,e)},d(a){a&&m(t)}}}function Da(n){let e,t;return e=new Ct({props:{color:"gray",class:"w-fit rounded-sm",$$slots:{default:[Ia]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r&8193&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function ya(n){let e,t=n[10].fabricante+"",a;return{c(){e=q("span"),a=H(t),this.h()},l(r){e=N(r,"SPAN",{class:!0});var l=B(e);a=R(l,t),l.forEach(m),this.h()},h(){U(e,"class","text-sm text-gray-900 dark:text-white")},m(r,l){I(r,e,l),g(e,a)},p(r,l){l&1&&t!==(t=r[10].fabricante+"")&&ne(a,t)},d(r){r&&m(e)}}}function Va(n){let e=n[10].categoria+"",t;return{c(){t=H(e)},l(a){t=R(a,e)},m(a,r){I(a,t,r)},p(a,r){r&1&&e!==(e=a[10].categoria+"")&&ne(t,e)},d(a){a&&m(t)}}}function Ta(n){let e,t;return e=new Ct({props:{color:"primary",class:"w-fit rounded-sm",$$slots:{default:[Va]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r&8193&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function Aa(n){let e,t=n[10].vidaUtilDias+"",a,r;return{c(){e=q("span"),a=H(t),r=H(" dias"),this.h()},l(l){e=N(l,"SPAN",{class:!0});var s=B(e);a=R(s,t),r=R(s," dias"),s.forEach(m),this.h()},h(){U(e,"class","text-sm text-gray-900 dark:text-white")},m(l,s){I(l,e,s),g(e,a),g(e,r)},p(l,s){s&1&&t!==(t=l[10].vidaUtilDias+"")&&ne(a,t)},d(l){l&&m(e)}}}function Sa(n){let e,t,a,r,l,s,o,i,u,c,$,C;a=new Zt({props:{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}});function d(...E){return n[6](n[10],...E)}s=new Wt({props:{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}});function f(...E){return n[7](n[10],...E)}u=new Yt({props:{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}});function p(...E){return n[8](n[10],...E)}return{c(){e=q("div"),t=q("button"),S(a.$$.fragment),r=z(),l=q("button"),S(s.$$.fragment),o=z(),i=q("button"),S(u.$$.fragment),this.h()},l(E){e=N(E,"DIV",{class:!0});var w=B(e);t=N(w,"BUTTON",{class:!0,title:!0});var D=B(t);A(a.$$.fragment,D),D.forEach(m),r=O(w),l=N(w,"BUTTON",{class:!0,title:!0});var h=B(l);A(s.$$.fragment,h),h.forEach(m),o=O(w),i=N(w,"BUTTON",{class:!0,title:!0});var F=B(i);A(u.$$.fragment,F),F.forEach(m),w.forEach(m),this.h()},h(){U(t,"class","p-2 rounded-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),U(t,"title","Ver detalhes"),U(l,"class","p-2 rounded-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),U(l,"title","Duplicar"),U(i,"class","p-2 rounded-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),U(i,"title","Excluir"),U(e,"class","flex space-x-2")},m(E,w){I(E,e,w),g(e,t),T(a,t,null),g(e,r),g(e,l),T(s,l,null),g(e,o),g(e,i),T(u,i,null),c=!0,$||(C=[W(t,"click",d),W(l,"click",f),W(i,"click",p)],$=!0)},p(E,w){n=E},i(E){c||(b(a.$$.fragment,E),b(s.$$.fragment,E),b(u.$$.fragment,E),c=!0)},o(E){v(a.$$.fragment,E),v(s.$$.fragment,E),v(u.$$.fragment,E),c=!1},d(E){E&&m(e),V(a),V(s),V(u),$=!1,Je(C)}}}function Na(n){let e,t,a,r,l,s,o,i,u,c,$,C,d;return e=new ye({props:{class:"min-w-[200px]",$$slots:{default:[Pa]},$$scope:{ctx:n}}}),a=new ye({props:{class:"min-w-[100px]",$$slots:{default:[Da]},$$scope:{ctx:n}}}),l=new ye({props:{class:"min-w-[120px] hidden lg:table-cell",$$slots:{default:[ya]},$$scope:{ctx:n}}}),o=new ye({props:{class:"min-w-[120px] hidden xl:table-cell",$$slots:{default:[Ta]},$$scope:{ctx:n}}}),u=new ye({props:{class:"min-w-[100px]",$$slots:{default:[Aa]},$$scope:{ctx:n}}}),$=new ye({props:{class:"min-w-[120px]",$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment),t=z(),S(a.$$.fragment),r=z(),S(l.$$.fragment),s=z(),S(o.$$.fragment),i=z(),S(u.$$.fragment),c=z(),S($.$$.fragment),C=z()},l(f){A(e.$$.fragment,f),t=O(f),A(a.$$.fragment,f),r=O(f),A(l.$$.fragment,f),s=O(f),A(o.$$.fragment,f),i=O(f),A(u.$$.fragment,f),c=O(f),A($.$$.fragment,f),C=O(f)},m(f,p){T(e,f,p),I(f,t,p),T(a,f,p),I(f,r,p),T(l,f,p),I(f,s,p),T(o,f,p),I(f,i,p),T(u,f,p),I(f,c,p),T($,f,p),I(f,C,p),d=!0},p(f,p){const E={};p&8193&&(E.$$scope={dirty:p,ctx:f}),e.$set(E);const w={};p&8193&&(w.$$scope={dirty:p,ctx:f}),a.$set(w);const D={};p&8193&&(D.$$scope={dirty:p,ctx:f}),l.$set(D);const h={};p&8193&&(h.$$scope={dirty:p,ctx:f}),o.$set(h);const F={};p&8193&&(F.$$scope={dirty:p,ctx:f}),u.$set(F);const k={};p&8199&&(k.$$scope={dirty:p,ctx:f}),$.$set(k)},i(f){d||(b(e.$$.fragment,f),b(a.$$.fragment,f),b(l.$$.fragment,f),b(o.$$.fragment,f),b(u.$$.fragment,f),b($.$$.fragment,f),d=!0)},o(f){v(e.$$.fragment,f),v(a.$$.fragment,f),v(l.$$.fragment,f),v(o.$$.fragment,f),v(u.$$.fragment,f),v($.$$.fragment,f),d=!1},d(f){f&&(m(t),m(r),m(s),m(i),m(c),m(C)),V(e,f),V(a,f),V(l,f),V(o,f),V(u,f),V($,f)}}}function dt(n,e){let t,a,r;function l(){return e[9](e[10])}return a=new Pt({props:{class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",$$slots:{default:[Na]},$$scope:{ctx:e}}}),a.$on("click",l),{key:n,first:null,c(){t=se(),S(a.$$.fragment),this.h()},l(s){t=se(),A(a.$$.fragment,s),this.h()},h(){this.first=t},m(s,o){I(s,t,o),T(a,s,o),r=!0},p(s,o){e=s;const i={};o&8199&&(i.$$scope={dirty:o,ctx:e}),a.$set(i)},i(s){r||(b(a.$$.fragment,s),r=!0)},o(s){v(a.$$.fragment,s),r=!1},d(s){s&&m(t),V(a,s)}}}function qa(n){let e,t,a,r;const l=[Ea,ka],s=[];function o(i,u){return i[0].length>0?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),a=se()},l(i){t.l(i),a=se()},m(i,u){s[e].m(i,u),I(i,a,u),r=!0},p(i,u){let c=e;e=o(i),e===c?s[e].p(i,u):(Ve(),v(s[c],1,1,()=>{s[c]=null}),Te(),t=s[e],t?t.p(i,u):(t=s[e]=l[e](i),t.c()),b(t,1),t.m(a.parentNode,a))},i(i){r||(b(t),r=!0)},o(i){v(t),r=!1},d(i){i&&m(a),s[e].d(i)}}}function Fa(n){let e,t,a,r;return e=new Xt({props:{$$slots:{default:[va]},$$scope:{ctx:n}}}),a=new Jt({props:{$$slots:{default:[qa]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment),t=z(),S(a.$$.fragment)},l(l){A(e.$$.fragment,l),t=O(l),A(a.$$.fragment,l)},m(l,s){T(e,l,s),I(l,t,s),T(a,l,s),r=!0},p(l,s){const o={};s&8192&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const i={};s&8199&&(i.$$scope={dirty:s,ctx:l}),a.$set(i)},i(l){r||(b(e.$$.fragment,l),b(a.$$.fragment,l),r=!0)},o(l){v(e.$$.fragment,l),v(a.$$.fragment,l),r=!1},d(l){l&&m(t),V(e,l),V(a,l)}}}function Oa(n){let e,t;return e=new Qt({props:{hoverable:!0,$$slots:{default:[Fa]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,[r]){const l={};r&8199&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function za(n,e,t){let{tipos:a=[]}=e,{onView:r=()=>{}}=e,{onDuplicate:l=()=>{}}=e,{onDelete:s=()=>{}}=e;async function o(d){if(confirm(`Deseja realmente excluir o tipo EPI "${d.nomeEquipamento}"?`))try{await s(d)}catch(f){console.error("Erro ao excluir tipo EPI:",f),alert("Erro ao excluir tipo EPI.")}}function i(d){r(d)}const u=(d,f)=>{f.preventDefault(),f.stopPropagation(),r(d)},c=(d,f)=>{f.preventDefault(),f.stopPropagation(),l(d)},$=(d,f)=>{f.preventDefault(),f.stopPropagation(),o(d)},C=d=>i(d);return n.$$set=d=>{"tipos"in d&&t(0,a=d.tipos),"onView"in d&&t(1,r=d.onView),"onDuplicate"in d&&t(2,l=d.onDuplicate),"onDelete"in d&&t(5,s=d.onDelete)},[a,r,l,o,i,s,u,c,$,C]}class ja extends ze{constructor(e){super(),je(this,e,za,Oa,Ue,{tipos:0,onView:1,onDuplicate:2,onDelete:5})}}const Ua=["Proteção da Cabeça","Proteção dos Olhos e Face","Proteção Auditiva","Proteção Respiratória","Proteção das Mãos","Proteção dos Pés","Proteção do Corpo","Proteção contra Quedas","Outros"],It=365;function Ma(n,e,t){const a=n.slice();return a[19]=e[t],a}function Ba(n){let e,t,a="*";return{c(){e=H("Nome do Equipamento "),t=q("span"),t.textContent=a,this.h()},l(r){e=R(r,"Nome do Equipamento "),t=N(r,"SPAN",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1n3raya"&&(t.textContent=a),this.h()},h(){U(t,"class","text-red-500")},m(r,l){I(r,e,l),I(r,t,l)},p:ae,d(r){r&&(m(e),m(t))}}}function La(n){let e,t,a="*";return{c(){e=H("Número CA "),t=q("span"),t.textContent=a,this.h()},l(r){e=R(r,"Número CA "),t=N(r,"SPAN",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1n3raya"&&(t.textContent=a),this.h()},h(){U(t,"class","text-red-500")},m(r,l){I(r,e,l),I(r,t,l)},p:ae,d(r){r&&(m(e),m(t))}}}function Ra(n){let e,t,a="*";return{c(){e=H("Fabricante "),t=q("span"),t.textContent=a,this.h()},l(r){e=R(r,"Fabricante "),t=N(r,"SPAN",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1n3raya"&&(t.textContent=a),this.h()},h(){U(t,"class","text-red-500")},m(r,l){I(r,e,l),I(r,t,l)},p:ae,d(r){r&&(m(e),m(t))}}}function Ha(n){let e,t,a="*";return{c(){e=H("Categoria "),t=q("span"),t.textContent=a,this.h()},l(r){e=R(r,"Categoria "),t=N(r,"SPAN",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1n3raya"&&(t.textContent=a),this.h()},h(){U(t,"class","text-red-500")},m(r,l){I(r,e,l),I(r,t,l)},p:ae,d(r){r&&(m(e),m(t))}}}function Ga(n){let e,t;return{c(){e=q("option"),t=H(n[19]),this.h()},l(a){e=N(a,"OPTION",{});var r=B(e);t=R(r,n[19]),r.forEach(m),this.h()},h(){e.__value=n[19],kt(e,e.__value)},m(a,r){I(a,e,r),g(e,t)},p:ae,d(a){a&&m(e)}}}function Ka(n){let e,t="Selecione uma categoria",a,r,l=Oe(Ua),s=[];for(let o=0;o<l.length;o+=1)s[o]=Ga(Ma(n,l,o));return{c(){e=q("option"),e.textContent=t,a=z();for(let o=0;o<s.length;o+=1)s[o].c();r=se(),this.h()},l(o){e=N(o,"OPTION",{"data-svelte-h":!0}),ue(e)!=="svelte-1ivemfv"&&(e.textContent=t),a=O(o);for(let i=0;i<s.length;i+=1)s[i].l(o);r=se(),this.h()},h(){e.__value="",kt(e,e.__value)},m(o,i){I(o,e,i),I(o,a,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,i);I(o,r,i)},p:ae,d(o){o&&(m(e),m(a),m(r)),vt(s,o)}}}function Qa(n){let e,t,a="*";return{c(){e=H("Vida Útil (dias) "),t=q("span"),t.textContent=a,this.h()},l(r){e=R(r,"Vida Útil (dias) "),t=N(r,"SPAN",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1n3raya"&&(t.textContent=a),this.h()},h(){U(t,"class","text-red-500")},m(r,l){I(r,e,l),I(r,t,l)},p:ae,d(r){r&&(m(e),m(t))}}}function Xa(n){let e;return{c(){e=H("Descrição")},l(t){e=R(t,"Descrição")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function Ja(n){let e;return{c(){e=H("Foto do Equipamento")},l(t){e=R(t,"Foto do Equipamento")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function Wa(n){let e,t,a,r,l,s,o,i,u,c,$,C,d,f,p,E,w,D,h,F,k,_,G,Q,X,J,j,K,te,x,Y,re,fe,oe,le,ke,M,ie,y,ee,_e,He,ge,Ge,Ee,Ye="Selecione uma imagem do equipamento (opcional)",Me;a=new De({props:{for:n[2]("nomeEquipamento"),class:"text-gray-700 dark:text-gray-300 mb-2 block",$$slots:{default:[Ba]},$$scope:{ctx:n}}});function Dt(P){n[7](P)}let Ze={id:n[2]("nomeEquipamento"),placeholder:"Ex: Capacete de Segurança Classe A",size:"sm",class:"rounded-sm",required:!0,disabled:n[1]};n[0].nomeEquipamento!==void 0&&(Ze.value=n[0].nomeEquipamento),l=new qe({props:Ze}),ce.push(()=>pe(l,"value",Dt)),l.$on("input",n[8]),c=new De({props:{for:n[2]("numeroCA"),class:"text-gray-700 dark:text-gray-300 mb-2 block",$$slots:{default:[La]},$$scope:{ctx:n}}});function yt(P){n[9](P)}let xe={id:n[2]("numeroCA"),placeholder:"Ex: 12345",size:"sm",class:"rounded-sm",required:!0,disabled:n[1]};n[0].numeroCA!==void 0&&(xe.value=n[0].numeroCA),C=new qe({props:xe}),ce.push(()=>pe(C,"value",yt)),C.$on("input",n[10]),E=new De({props:{for:n[2]("fabricante"),class:"text-gray-700 dark:text-gray-300 mb-2 block",$$slots:{default:[Ra]},$$scope:{ctx:n}}});function Vt(P){n[11](P)}let et={id:n[2]("fabricante"),placeholder:"Ex: 3M do Brasil",size:"sm",class:"rounded-sm",required:!0,disabled:n[1]};n[0].fabricante!==void 0&&(et.value=n[0].fabricante),D=new qe({props:et}),ce.push(()=>pe(D,"value",Vt)),D.$on("input",n[12]),G=new De({props:{for:n[2]("categoria"),class:"text-gray-700 dark:text-gray-300 mb-2 block",$$slots:{default:[Ha]},$$scope:{ctx:n}}});function Tt(P){n[13](P)}let tt={id:n[2]("categoria"),size:"sm",class:"rounded-sm",required:!0,disabled:n[1],$$slots:{default:[Ka]},$$scope:{ctx:n}};n[0].categoria!==void 0&&(tt.value=n[0].categoria),X=new Bt({props:tt}),ce.push(()=>pe(X,"value",Tt)),X.$on("change",n[14]),te=new De({props:{for:n[2]("vidaUtilDias"),class:"text-gray-700 dark:text-gray-300 mb-2 block",$$slots:{default:[Qa]},$$scope:{ctx:n}}});function At(P){n[15](P)}let at={id:n[2]("vidaUtilDias"),type:"number",min:"1",size:"sm",class:"rounded-sm",required:!0,disabled:n[1]};n[0].vidaUtilDias!==void 0&&(at.value=n[0].vidaUtilDias),Y=new qe({props:at}),ce.push(()=>pe(Y,"value",At)),Y.$on("input",n[16]),le=new De({props:{for:n[2]("descricao"),class:"text-gray-700 dark:text-gray-300 mb-2 block",$$slots:{default:[Xa]},$$scope:{ctx:n}}});function St(P){n[17](P)}let nt={id:n[2]("descricao"),placeholder:"Descreva as características e especificações do EPI...",rows:"3",class:"rounded-sm",disabled:n[1]};return n[0].descricao!==void 0&&(nt.value=n[0].descricao),M=new zt({props:nt}),ce.push(()=>pe(M,"value",St)),M.$on("input",n[18]),_e=new De({props:{for:n[2]("foto"),class:"text-gray-700 dark:text-gray-300 mb-2 block",$$slots:{default:[Ja]},$$scope:{ctx:n}}}),ge=new ia({props:{id:n[2]("foto"),class:"rounded-sm",disabled:n[1]}}),{c(){e=q("div"),t=q("div"),S(a.$$.fragment),r=z(),S(l.$$.fragment),o=z(),i=q("div"),u=q("div"),S(c.$$.fragment),$=z(),S(C.$$.fragment),f=z(),p=q("div"),S(E.$$.fragment),w=z(),S(D.$$.fragment),F=z(),k=q("div"),_=q("div"),S(G.$$.fragment),Q=z(),S(X.$$.fragment),j=z(),K=q("div"),S(te.$$.fragment),x=z(),S(Y.$$.fragment),fe=z(),oe=q("div"),S(le.$$.fragment),ke=z(),S(M.$$.fragment),y=z(),ee=q("div"),S(_e.$$.fragment),He=z(),S(ge.$$.fragment),Ge=z(),Ee=q("p"),Ee.textContent=Ye,this.h()},l(P){e=N(P,"DIV",{class:!0});var L=B(e);t=N(L,"DIV",{});var we=B(t);A(a.$$.fragment,we),r=O(we),A(l.$$.fragment,we),we.forEach(m),o=O(L),i=N(L,"DIV",{class:!0});var he=B(i);u=N(he,"DIV",{});var Ce=B(u);A(c.$$.fragment,Ce),$=O(Ce),A(C.$$.fragment,Ce),Ce.forEach(m),f=O(he),p=N(he,"DIV",{});var be=B(p);A(E.$$.fragment,be),w=O(be),A(D.$$.fragment,be),be.forEach(m),he.forEach(m),F=O(L),k=N(L,"DIV",{class:!0});var Pe=B(k);_=N(Pe,"DIV",{});var ve=B(_);A(G.$$.fragment,ve),Q=O(ve),A(X.$$.fragment,ve),ve.forEach(m),j=O(Pe),K=N(Pe,"DIV",{});var Ie=B(K);A(te.$$.fragment,Ie),x=O(Ie),A(Y.$$.fragment,Ie),Ie.forEach(m),Pe.forEach(m),fe=O(L),oe=N(L,"DIV",{});var de=B(oe);A(le.$$.fragment,de),ke=O(de),A(M.$$.fragment,de),de.forEach(m),y=O(L),ee=N(L,"DIV",{});var me=B(ee);A(_e.$$.fragment,me),He=O(me),A(ge.$$.fragment,me),Ge=O(me),Ee=N(me,"P",{class:!0,"data-svelte-h":!0}),ue(Ee)!=="svelte-uxqmjz"&&(Ee.textContent=Ye),me.forEach(m),L.forEach(m),this.h()},h(){U(i,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),U(k,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),U(Ee,"class","text-sm text-gray-500 dark:text-gray-400 mt-2"),U(e,"class","space-y-6")},m(P,L){I(P,e,L),g(e,t),T(a,t,null),g(t,r),T(l,t,null),g(e,o),g(e,i),g(i,u),T(c,u,null),g(u,$),T(C,u,null),g(i,f),g(i,p),T(E,p,null),g(p,w),T(D,p,null),g(e,F),g(e,k),g(k,_),T(G,_,null),g(_,Q),T(X,_,null),g(k,j),g(k,K),T(te,K,null),g(K,x),T(Y,K,null),g(e,fe),g(e,oe),T(le,oe,null),g(oe,ke),T(M,oe,null),g(e,y),g(e,ee),T(_e,ee,null),g(ee,He),T(ge,ee,null),g(ee,Ge),g(ee,Ee),Me=!0},p(P,[L]){const we={};L&4194304&&(we.$$scope={dirty:L,ctx:P}),a.$set(we);const he={};L&2&&(he.disabled=P[1]),!s&&L&1&&(s=!0,he.value=P[0].nomeEquipamento,$e(()=>s=!1)),l.$set(he);const Ce={};L&4194304&&(Ce.$$scope={dirty:L,ctx:P}),c.$set(Ce);const be={};L&2&&(be.disabled=P[1]),!d&&L&1&&(d=!0,be.value=P[0].numeroCA,$e(()=>d=!1)),C.$set(be);const Pe={};L&4194304&&(Pe.$$scope={dirty:L,ctx:P}),E.$set(Pe);const ve={};L&2&&(ve.disabled=P[1]),!h&&L&1&&(h=!0,ve.value=P[0].fabricante,$e(()=>h=!1)),D.$set(ve);const Ie={};L&4194304&&(Ie.$$scope={dirty:L,ctx:P}),G.$set(Ie);const de={};L&2&&(de.disabled=P[1]),L&4194304&&(de.$$scope={dirty:L,ctx:P}),!J&&L&1&&(J=!0,de.value=P[0].categoria,$e(()=>J=!1)),X.$set(de);const me={};L&4194304&&(me.$$scope={dirty:L,ctx:P}),te.$set(me);const Ke={};L&2&&(Ke.disabled=P[1]),!re&&L&1&&(re=!0,Ke.value=P[0].vidaUtilDias,$e(()=>re=!1)),Y.$set(Ke);const rt={};L&4194304&&(rt.$$scope={dirty:L,ctx:P}),le.$set(rt);const Qe={};L&2&&(Qe.disabled=P[1]),!ie&&L&1&&(ie=!0,Qe.value=P[0].descricao,$e(()=>ie=!1)),M.$set(Qe);const lt={};L&4194304&&(lt.$$scope={dirty:L,ctx:P}),_e.$set(lt);const st={};L&2&&(st.disabled=P[1]),ge.$set(st)},i(P){Me||(b(a.$$.fragment,P),b(l.$$.fragment,P),b(c.$$.fragment,P),b(C.$$.fragment,P),b(E.$$.fragment,P),b(D.$$.fragment,P),b(G.$$.fragment,P),b(X.$$.fragment,P),b(te.$$.fragment,P),b(Y.$$.fragment,P),b(le.$$.fragment,P),b(M.$$.fragment,P),b(_e.$$.fragment,P),b(ge.$$.fragment,P),Me=!0)},o(P){v(a.$$.fragment,P),v(l.$$.fragment,P),v(c.$$.fragment,P),v(C.$$.fragment,P),v(E.$$.fragment,P),v(D.$$.fragment,P),v(G.$$.fragment,P),v(X.$$.fragment,P),v(te.$$.fragment,P),v(Y.$$.fragment,P),v(le.$$.fragment,P),v(M.$$.fragment,P),v(_e.$$.fragment,P),v(ge.$$.fragment,P),Me=!1},d(P){P&&m(e),V(a),V(l),V(c),V(C),V(E),V(D),V(G),V(X),V(te),V(Y),V(le),V(M),V(_e),V(ge)}}}function Ya(n,e,t){let{formData:a={}}=e,{onChange:r=()=>{}}=e,{idPrefix:l=""}=e,{disabled:s=!1}=e;function o(_){return`${l}${_}`}function i(_,G){const Q=G.target,X=parseInt(Q.value)||It;r(_,X)}function u(_,G){const Q=G.target;r(_,Q.value)}function c(_){n.$$.not_equal(a.nomeEquipamento,_)&&(a.nomeEquipamento=_,t(0,a))}const $=_=>u("nomeEquipamento",_);function C(_){n.$$.not_equal(a.numeroCA,_)&&(a.numeroCA=_,t(0,a))}const d=_=>u("numeroCA",_);function f(_){n.$$.not_equal(a.fabricante,_)&&(a.fabricante=_,t(0,a))}const p=_=>u("fabricante",_);function E(_){n.$$.not_equal(a.categoria,_)&&(a.categoria=_,t(0,a))}const w=_=>u("categoria",_);function D(_){n.$$.not_equal(a.vidaUtilDias,_)&&(a.vidaUtilDias=_,t(0,a))}const h=_=>i("vidaUtilDias",_);function F(_){n.$$.not_equal(a.descricao,_)&&(a.descricao=_,t(0,a))}const k=_=>u("descricao",_);return n.$$set=_=>{"formData"in _&&t(0,a=_.formData),"onChange"in _&&t(5,r=_.onChange),"idPrefix"in _&&t(6,l=_.idPrefix),"disabled"in _&&t(1,s=_.disabled)},[a,s,o,i,u,r,l,c,$,C,d,f,p,E,w,D,h,F,k]}class Za extends ze{constructor(e){super(),je(this,e,Ya,Wa,Ue,{formData:0,onChange:5,idPrefix:6,disabled:1})}}function mt(n,e,t){const a=n.slice();return a[17]=e[t][0],a[18]=e[t][1],a}function pt(n){let e,t,a="Corrija os seguintes erros:",r,l,s=Oe(Object.entries(n[3])),o=[];for(let i=0;i<s.length;i+=1)o[i]=_t(mt(n,s,i));return{c(){e=q("div"),t=q("h4"),t.textContent=a,r=z(),l=q("ul");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=N(i,"DIV",{class:!0});var u=B(e);t=N(u,"H4",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1czz086"&&(t.textContent=a),r=O(u),l=N(u,"UL",{class:!0});var c=B(l);for(let $=0;$<o.length;$+=1)o[$].l(c);c.forEach(m),u.forEach(m),this.h()},h(){U(t,"class","text-sm font-medium text-red-800 dark:text-red-400 mb-2"),U(l,"class","text-sm text-red-700 dark:text-red-400 space-y-1"),U(e,"class","bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4")},m(i,u){I(i,e,u),g(e,t),g(e,r),g(e,l);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(l,null)},p(i,u){if(u&8){s=Oe(Object.entries(i[3]));let c;for(c=0;c<s.length;c+=1){const $=mt(i,s,c);o[c]?o[c].p($,u):(o[c]=_t($),o[c].c(),o[c].m(l,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d(i){i&&m(e),vt(o,i)}}}function $t(n){let e,t,a=n[18]+"",r;return{c(){e=q("li"),t=H("• "),r=H(a)},l(l){e=N(l,"LI",{});var s=B(e);t=R(s,"• "),r=R(s,a),s.forEach(m)},m(l,s){I(l,e,s),g(e,t),g(e,r)},p(l,s){s&8&&a!==(a=l[18]+"")&&ne(r,a)},d(l){l&&m(e)}}}function _t(n){let e,t=n[18]&&$t(n);return{c(){t&&t.c(),e=se()},l(a){t&&t.l(a),e=se()},m(a,r){t&&t.m(a,r),I(a,e,r)},p(a,r){a[18]?t?t.p(a,r):(t=$t(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){a&&m(e),t&&t.d(a)}}}function xa(n){let e,t,a,r=Object.keys(n[3]).length>0,l;t=new Za({props:{formData:n[2],onChange:n[4],disabled:n[7],idPrefix:"modal-"}});let s=r&&pt(n);return{c(){e=q("div"),S(t.$$.fragment),a=z(),s&&s.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var i=B(e);A(t.$$.fragment,i),a=O(i),s&&s.l(i),i.forEach(m),this.h()},h(){U(e,"class","modal-body-scrollable space-y-4 p-4 md:p-5")},m(o,i){I(o,e,i),T(t,e,null),g(e,a),s&&s.m(e,null),l=!0},p(o,i){const u={};i&4&&(u.formData=o[2]),t.$set(u),i&8&&(r=Object.keys(o[3]).length>0),r?s?s.p(o,i):(s=pt(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){v(t.$$.fragment,o),l=!1},d(o){o&&m(e),V(t),s&&s.d()}}}function en(n){let e,t,a;return{c(){e=q("div"),t=q("h3"),a=H(n[1]),this.h()},l(r){e=N(r,"DIV",{slot:!0,class:!0});var l=B(e);t=N(l,"H3",{class:!0});var s=B(t);a=R(s,n[1]),s.forEach(m),l.forEach(m),this.h()},h(){U(t,"class","text-xl font-semibold text-gray-900 dark:text-white"),U(e,"slot","header"),U(e,"class","flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600")},m(r,l){I(r,e,l),g(e,t),g(t,a)},p(r,l){l&2&&ne(a,r[1])},d(r){r&&m(e)}}}function tn(n){let e=n[7]?"Fechar":"Cancelar",t;return{c(){t=H(e)},l(a){t=R(a,e)},m(a,r){I(a,t,r)},p:ae,d(a){a&&m(t)}}}function an(n){let e,t;return e=new Ae({props:{color:"primary",size:"sm",class:"rounded-sm",$$slots:{default:[nn]},$$scope:{ctx:n}}}),e.$on("click",n[5]),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r&2097152&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function nn(n){let e;return{c(){e=H(n[8])},l(t){e=R(t,n[8])},m(t,a){I(t,e,a)},p:ae,d(t){t&&m(e)}}}function rn(n){let e,t,a,r;t=new Ae({props:{color:"alternative",size:"sm",class:"rounded-sm",$$slots:{default:[tn]},$$scope:{ctx:n}}}),t.$on("click",n[6]);let l=!n[7]&&an(n);return{c(){e=q("div"),S(t.$$.fragment),a=z(),l&&l.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var o=B(e);A(t.$$.fragment,o),a=O(o),l&&l.l(o),o.forEach(m),this.h()},h(){U(e,"class","flex justify-end space-x-3")},m(s,o){I(s,e,o),T(t,e,null),g(e,a),l&&l.m(e,null),r=!0},p(s,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:s}),t.$set(i),s[7]||l.p(s,o)},i(s){r||(b(t.$$.fragment,s),b(l),r=!0)},o(s){v(t.$$.fragment,s),v(l),r=!1},d(s){s&&m(e),V(t),l&&l.d()}}}function ln(n){let e,t,a;function r(s){n[13](s)}let l={title:n[1],size:"lg",autoclose:!1,outsideclose:!1,class:"modal-container",$$slots:{footer:[rn],header:[en],default:[xa]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.open=n[0]),e=new xt({props:l}),ce.push(()=>pe(e,"open",r)),{c(){S(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){T(e,s,o),a=!0},p(s,[o]){const i={};o&2&&(i.title=s[1]),o&2097166&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.open=s[0],$e(()=>t=!1)),e.$set(i)},i(s){a||(b(e.$$.fragment,s),a=!0)},o(s){v(e.$$.fragment,s),a=!1},d(s){V(e,s)}}}function sn(n,e,t){let{open:a=!1}=e,{title:r="Novo EPI"}=e,{mode:l="create"}=e,{epiData:s={}}=e,{onSave:o=()=>{}}=e,{onCancel:i=()=>{}}=e,u={},c={};function $(){t(2,u={...s,vidaUtilDias:s.vidaUtilDias||It}),t(3,c={})}function C(h,F){t(2,u={...u,[h]:F}),c[h]&&t(3,c={...c,[h]:""})}function d(){var F,k,_,G;const h={};return(F=u.nomeEquipamento)!=null&&F.trim()||(h.nomeEquipamento="Nome do equipamento é obrigatório"),(k=u.numeroCA)!=null&&k.trim()||(h.numeroCA="Número CA é obrigatório"),(_=u.fabricante)!=null&&_.trim()||(h.fabricante="Fabricante é obrigatório"),(G=u.categoria)!=null&&G.trim()||(h.categoria="Categoria é obrigatória"),(!u.vidaUtilDias||u.vidaUtilDias<1)&&(h.vidaUtilDias="Vida útil deve ser maior que zero"),t(3,c=h),Object.keys(h).length===0}function f(){d()&&(o(u),p())}function p(){t(0,a=!1),i()}const E=l==="view",w=l==="create"?"Cadastrar":"Salvar Alterações";function D(h){a=h,t(0,a)}return n.$$set=h=>{"open"in h&&t(0,a=h.open),"title"in h&&t(1,r=h.title),"mode"in h&&t(9,l=h.mode),"epiData"in h&&t(10,s=h.epiData),"onSave"in h&&t(11,o=h.onSave),"onCancel"in h&&t(12,i=h.onCancel)},n.$$.update=()=>{n.$$.dirty&1&&a&&$()},[a,r,u,c,C,f,p,E,w,l,s,o,i,D]}class on extends ze{constructor(e){super(),je(this,e,sn,ln,Ue,{open:0,title:1,mode:9,epiData:10,onSave:11,onCancel:12})}}function un(n){let e,t,a;return e=new Et({props:{class:"w-4 h-4 mr-2"}}),{c(){S(e.$$.fragment),t=H(`
        Novo EPI`)},l(r){A(e.$$.fragment,r),t=R(r,`
        Novo EPI`)},m(r,l){T(e,r,l),I(r,t,l),a=!0},p:ae,i(r){a||(b(e.$$.fragment,r),a=!0)},o(r){v(e.$$.fragment,r),a=!1},d(r){r&&m(t),V(e,r)}}}function fn(n){let e,t;return e=new Ot({props:{size:"sm",class:"rounded-sm",$$slots:{default:[$n]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r[0]&3|r[1]&16&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function cn(n){let e,t,a,r,l,s,o,i,u,c,$,C,d,f,p,E,w,D,h,F;l=new wt({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}});function k(j){n[26](j)}let _={type:"text",placeholder:"Buscar EPIs...",class:"pl-10 rounded-sm h-10 text-sm"};n[0]!==void 0&&(_.value=n[0]),o=new qe({props:_}),ce.push(()=>pe(o,"value",k)),o.$on("input",n[27]),c=new ut({props:{options:n[8],value:n[1].categoria,placeholder:"Categoria"}}),c.$on("change",n[28]),C=new ut({props:{options:n[9],value:n[1].fabricante,placeholder:"Fabricante"}}),C.$on("change",n[29]);const G=[gn,_n],Q=[];function X(j,K){return j[0]||j[1].categoria&&j[1].categoria!=="todas"||j[1].fabricante&&j[1].fabricante!=="todos"?0:1}f=X(n),p=Q[f]=G[f](n),D=new ja({props:{tipos:n[3].items,onView:n[20],onDuplicate:n[21],onDelete:n[22]}});let J=n[3].totalPages>1&&gt(n);return{c(){e=q("div"),t=q("div"),a=q("div"),r=q("div"),S(l.$$.fragment),s=z(),S(o.$$.fragment),u=z(),S(c.$$.fragment),$=z(),S(C.$$.fragment),d=z(),p.c(),E=z(),w=q("div"),S(D.$$.fragment),h=z(),J&&J.c(),this.h()},l(j){e=N(j,"DIV",{class:!0});var K=B(e);t=N(K,"DIV",{class:!0});var te=B(t);a=N(te,"DIV",{class:!0});var x=B(a);r=N(x,"DIV",{class:!0});var Y=B(r);A(l.$$.fragment,Y),s=O(Y),A(o.$$.fragment,Y),Y.forEach(m),u=O(x),A(c.$$.fragment,x),$=O(x),A(C.$$.fragment,x),d=O(x),p.l(x),x.forEach(m),te.forEach(m),E=O(K),w=N(K,"DIV",{class:!0});var re=B(w);A(D.$$.fragment,re),re.forEach(m),h=O(K),J&&J.l(K),K.forEach(m),this.h()},h(){U(r,"class","relative"),U(a,"class","grid grid-cols-1 md:grid-cols-4 gap-4"),U(t,"class","p-4 border-b border-gray-200 dark:border-gray-700"),U(w,"class","min-w-[980px] overflow-x-auto"),U(e,"class","bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden")},m(j,K){I(j,e,K),g(e,t),g(t,a),g(a,r),T(l,r,null),g(r,s),T(o,r,null),g(a,u),T(c,a,null),g(a,$),T(C,a,null),g(a,d),Q[f].m(a,null),g(e,E),g(e,w),T(D,w,null),g(e,h),J&&J.m(e,null),F=!0},p(j,K){const te={};!i&&K[0]&1&&(i=!0,te.value=j[0],$e(()=>i=!1)),o.$set(te);const x={};K[0]&256&&(x.options=j[8]),K[0]&2&&(x.value=j[1].categoria),c.$set(x);const Y={};K[0]&512&&(Y.options=j[9]),K[0]&2&&(Y.value=j[1].fabricante),C.$set(Y);let re=f;f=X(j),f===re?Q[f].p(j,K):(Ve(),v(Q[re],1,1,()=>{Q[re]=null}),Te(),p=Q[f],p?p.p(j,K):(p=Q[f]=G[f](j),p.c()),b(p,1),p.m(a,null));const fe={};K[0]&8&&(fe.tipos=j[3].items),D.$set(fe),j[3].totalPages>1?J?(J.p(j,K),K[0]&8&&b(J,1)):(J=gt(j),J.c(),b(J,1),J.m(e,null)):J&&(Ve(),v(J,1,1,()=>{J=null}),Te())},i(j){F||(b(l.$$.fragment,j),b(o.$$.fragment,j),b(c.$$.fragment,j),b(C.$$.fragment,j),b(p),b(D.$$.fragment,j),b(J),F=!0)},o(j){v(l.$$.fragment,j),v(o.$$.fragment,j),v(c.$$.fragment,j),v(C.$$.fragment,j),v(p),v(D.$$.fragment,j),v(J),F=!1},d(j){j&&m(e),V(l),V(o),V(c),V(C),Q[f].d(),V(D),J&&J.d()}}}function dn(n){let e,t;return e=new Rt({props:{error:n[2].error,onRetry:n[18]}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r[0]&4&&(l.error=a[2].error),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function mn(n){let e,t;return e=new Lt({}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p:ae,i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function pn(n){let e,t,a=!n[0]&&!Object.values(n[1]).some(bt)?"Primeiro EPI":"Novo EPI",r,l;return e=new Et({props:{class:"w-4 h-4 mr-2"}}),{c(){S(e.$$.fragment),t=z(),r=H(a)},l(s){A(e.$$.fragment,s),t=O(s),r=R(s,a)},m(s,o){T(e,s,o),I(s,t,o),I(s,r,o),l=!0},p(s,o){(!l||o[0]&3)&&a!==(a=!s[0]&&!Object.values(s[1]).some(bt)?"Primeiro EPI":"Novo EPI")&&ne(r,a)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){v(e.$$.fragment,s),l=!1},d(s){s&&(m(t),m(r)),V(e,s)}}}function $n(n){let e,t,a,r,l,s="Nenhum EPI encontrado",o,i,u=n[0]||Object.values(n[1]).some(ht)?"Tente ajustar os filtros ou termo de busca":"Comece cadastrando um novo tipo de EPI",c,$,C,d;return a=new wt({props:{class:"w-8 h-8 text-gray-400"}}),C=new Ae({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[pn]},$$scope:{ctx:n}}}),C.$on("click",n[19]),{c(){e=q("div"),t=q("div"),S(a.$$.fragment),r=z(),l=q("h3"),l.textContent=s,o=z(),i=q("p"),c=H(u),$=z(),S(C.$$.fragment),this.h()},l(f){e=N(f,"DIV",{class:!0});var p=B(e);t=N(p,"DIV",{class:!0});var E=B(t);A(a.$$.fragment,E),E.forEach(m),r=O(p),l=N(p,"H3",{class:!0,"data-svelte-h":!0}),ue(l)!=="svelte-19fe8vd"&&(l.textContent=s),o=O(p),i=N(p,"P",{class:!0});var w=B(i);c=R(w,u),w.forEach(m),$=O(p),A(C.$$.fragment,p),p.forEach(m),this.h()},h(){U(t,"class","w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"),U(l,"class","text-lg font-medium text-gray-900 dark:text-white mb-2"),U(i,"class","text-gray-500 dark:text-gray-400 mb-6"),U(e,"class","text-center py-12")},m(f,p){I(f,e,p),g(e,t),T(a,t,null),g(e,r),g(e,l),g(e,o),g(e,i),g(i,c),g(e,$),T(C,e,null),d=!0},p(f,p){(!d||p[0]&3)&&u!==(u=f[0]||Object.values(f[1]).some(ht)?"Tente ajustar os filtros ou termo de busca":"Comece cadastrando um novo tipo de EPI")&&ne(c,u);const E={};p[0]&3|p[1]&16&&(E.$$scope={dirty:p,ctx:f}),C.$set(E)},i(f){d||(b(a.$$.fragment,f),b(C.$$.fragment,f),d=!0)},o(f){v(a.$$.fragment,f),v(C.$$.fragment,f),d=!1},d(f){f&&m(e),V(a),V(C)}}}function _n(n){let e;return{c(){e=q("div")},l(t){e=N(t,"DIV",{}),B(e).forEach(m)},m(t,a){I(t,e,a)},p:ae,i:ae,o:ae,d(t){t&&m(e)}}}function gn(n){let e,t;return e=new Ae({props:{color:"alternative",class:"rounded-sm h-10 w-10 p-0 flex items-center justify-center",title:"Limpar Filtros",$$slots:{default:[hn]},$$scope:{ctx:n}}}),e.$on("click",n[30]),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p(a,r){const l={};r[1]&16&&(l.$$scope={dirty:r,ctx:a}),e.$set(l)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function hn(n){let e,t;return e=new jt({props:{class:"w-4 h-4"}}),{c(){S(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,r){T(e,a,r),t=!0},p:ae,i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function gt(n){let e,t,a,r=n[3].startIndex+1+"",l,s,o=n[3].endIndex+"",i,u,c=n[3].totalItems+"",$,C,d,f,p,E,w,D;return p=new Ae({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:!n[3].hasPrevious,$$slots:{default:[bn]},$$scope:{ctx:n}}}),p.$on("click",n[31]),w=new Ae({props:{size:"sm",color:"alternative",class:"rounded-sm",disabled:!n[3].hasNext,$$slots:{default:[vn]},$$scope:{ctx:n}}}),w.$on("click",n[32]),{c(){e=q("div"),t=q("div"),a=H("Mostrando "),l=H(r),s=H(" a "),i=H(o),u=H(" de "),$=H(c),C=H(" resultados"),d=z(),f=q("div"),S(p.$$.fragment),E=z(),S(w.$$.fragment),this.h()},l(h){e=N(h,"DIV",{class:!0});var F=B(e);t=N(F,"DIV",{class:!0});var k=B(t);a=R(k,"Mostrando "),l=R(k,r),s=R(k," a "),i=R(k,o),u=R(k," de "),$=R(k,c),C=R(k," resultados"),k.forEach(m),d=O(F),f=N(F,"DIV",{class:!0});var _=B(f);A(p.$$.fragment,_),E=O(_),A(w.$$.fragment,_),_.forEach(m),F.forEach(m),this.h()},h(){U(t,"class","text-sm text-gray-500 dark:text-gray-400"),U(f,"class","flex space-x-2"),U(e,"class","flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700")},m(h,F){I(h,e,F),g(e,t),g(t,a),g(t,l),g(t,s),g(t,i),g(t,u),g(t,$),g(t,C),g(e,d),g(e,f),T(p,f,null),g(f,E),T(w,f,null),D=!0},p(h,F){(!D||F[0]&8)&&r!==(r=h[3].startIndex+1+"")&&ne(l,r),(!D||F[0]&8)&&o!==(o=h[3].endIndex+"")&&ne(i,o),(!D||F[0]&8)&&c!==(c=h[3].totalItems+"")&&ne($,c);const k={};F[0]&8&&(k.disabled=!h[3].hasPrevious),F[1]&16&&(k.$$scope={dirty:F,ctx:h}),p.$set(k);const _={};F[0]&8&&(_.disabled=!h[3].hasNext),F[1]&16&&(_.$$scope={dirty:F,ctx:h}),w.$set(_)},i(h){D||(b(p.$$.fragment,h),b(w.$$.fragment,h),D=!0)},o(h){v(p.$$.fragment,h),v(w.$$.fragment,h),D=!1},d(h){h&&m(e),V(p),V(w)}}}function bn(n){let e;return{c(){e=H("Anterior")},l(t){e=R(t,"Anterior")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function vn(n){let e;return{c(){e=H("Próximo")},l(t){e=R(t,"Próximo")},m(t,a){I(t,e,a)},d(t){t&&m(e)}}}function kn(n){let e,t,a,r,l='<h1 class="text-xl font-medium text-gray-900 dark:text-white">Catálogo de EPIs</h1> <p class="text-sm text-gray-600 dark:text-gray-400">Gerencie os tipos de equipamentos de proteção individual</p>',s,o,i,u,c,$,C,d,f,p;i=new Ae({props:{size:"sm",color:"primary",class:"rounded-sm",$$slots:{default:[un]},$$scope:{ctx:n}}}),i.$on("click",n[19]);const E=[mn,dn,cn,fn],w=[];function D(k,_){var G;return k[2].loading?0:k[2].error?1:((G=k[3])==null?void 0:G.items.length)>0?2:3}c=D(n),$=w[c]=E[c](n);function h(k){n[33](k)}let F={modalTitle:n[6],mode:n[5],epiData:n[7],onSave:n[23],onCancel:n[24]};return n[4]!==void 0&&(F.open=n[4]),d=new on({props:F}),ce.push(()=>pe(d,"open",h)),{c(){e=z(),t=q("div"),a=q("div"),r=q("div"),r.innerHTML=l,s=z(),o=q("div"),S(i.$$.fragment),u=z(),$.c(),C=z(),S(d.$$.fragment),this.h()},l(k){Nt("svelte-3ni7bu",document.head).forEach(m),e=O(k),t=N(k,"DIV",{class:!0});var G=B(t);a=N(G,"DIV",{class:!0});var Q=B(a);r=N(Q,"DIV",{"data-svelte-h":!0}),ue(r)!=="svelte-1sna02h"&&(r.innerHTML=l),s=O(Q),o=N(Q,"DIV",{class:!0});var X=B(o);A(i.$$.fragment,X),X.forEach(m),Q.forEach(m),u=O(G),$.l(G),G.forEach(m),C=O(k),A(d.$$.fragment,k),this.h()},h(){document.title="Catálogo de EPIs - DataLife EPI",U(o,"class","flex space-x-2"),U(a,"class","flex items-center justify-between"),U(t,"class","space-y-6")},m(k,_){I(k,e,_),I(k,t,_),g(t,a),g(a,r),g(a,s),g(a,o),T(i,o,null),g(t,u),w[c].m(t,null),I(k,C,_),T(d,k,_),p=!0},p(k,_){const G={};_[1]&16&&(G.$$scope={dirty:_,ctx:k}),i.$set(G);let Q=c;c=D(k),c===Q?w[c].p(k,_):(Ve(),v(w[Q],1,1,()=>{w[Q]=null}),Te(),$=w[c],$?$.p(k,_):($=w[c]=E[c](k),$.c()),b($,1),$.m(t,null));const X={};_[0]&64&&(X.modalTitle=k[6]),_[0]&32&&(X.mode=k[5]),_[0]&128&&(X.epiData=k[7]),!f&&_[0]&16&&(f=!0,X.open=k[4],$e(()=>f=!1)),d.$set(X)},i(k){p||(b(i.$$.fragment,k),b($),b(d.$$.fragment,k),p=!0)},o(k){v(i.$$.fragment,k),v($),v(d.$$.fragment,k),p=!1},d(k){k&&(m(e),m(t),m(C)),V(i),w[c].d(),V(d,k)}}}const ht=n=>n!=="todos"&&n!=="todas",bt=n=>n!=="todos"&&n!=="todas";function En(n,e,t){let a,r,l,s;const{filters:o,searchTerm:i,currentPage:u,updateFilter:c,setSearchTerm:$,setCurrentPage:C,resetFilters:d}=Mt;Be(n,o,M=>t(1,l=M)),Be(n,i,M=>t(0,r=M)),Be(n,u,M=>t(25,a=M));const f=Ut([]);Be(n,f,M=>t(2,s=M));let p,E=!1,w="create",D="Novo EPI",h={},F=[{value:"todas",label:"Todas as Categorias"}],k=[{value:"todos",label:"Todos os Fabricantes"}];qt(async()=>{await _()});async function _(){try{const M=await f.execute(()=>Le.getAll()),ie=new Set(M.map(ee=>ee.categoria));t(8,F=[{value:"todas",label:"Todas as Categorias"},...Array.from(ie).map(ee=>({value:ee,label:ee}))]);const y=new Set(M.map(ee=>ee.fabricante));t(9,k=[{value:"todos",label:"Todos os Fabricantes"},...Array.from(y).map(ee=>({value:ee,label:ee}))])}catch(M){console.error("Erro ao carregar tipos de EPI:",M),Se.error("Erro ao carregar","Não foi possível carregar os tipos de EPI")}}function G(){t(5,w="create"),t(6,D="Novo EPI"),t(7,h={}),t(4,E=!0)}function Q(M){t(5,w="view"),t(6,D="Detalhes do EPI"),t(7,h={...M}),t(4,E=!0)}function X(M){t(5,w="create"),t(6,D="Duplicar EPI"),t(7,h={...M,id:void 0,nomeEquipamento:`${M.nomeEquipamento} (Cópia)`}),t(4,E=!0)}async function J(M){try{await Le.delete(M.id),Se.success("EPI excluído","Tipo de EPI excluído com sucesso"),await _()}catch(ie){console.error("Erro ao excluir EPI:",ie),Se.error("Erro","Não foi possível excluir o EPI")}}async function j(M){try{w==="create"?(await Le.create(M),Se.success("EPI cadastrado","Tipo de EPI cadastrado com sucesso")):w==="edit"&&(await Le.update(M.id,M),Se.success("EPI atualizado","Tipo de EPI atualizado com sucesso")),await _()}catch(ie){console.error("Erro ao salvar EPI:",ie),Se.error("Erro","Não foi possível salvar o EPI")}}function K(){t(4,E=!1),t(7,h={})}function te(M){r=M,i.set(r)}const x=M=>$(M.target.value),Y=M=>c("categoria",M.detail),re=M=>c("fabricante",M.detail),fe=()=>{d(),$("")},oe=()=>C(p.currentPage-1),le=()=>C(p.currentPage+1);function ke(M){E=M,t(4,E)}return n.$$.update=()=>{n.$$.dirty[0]&33554439&&s.data&&t(3,p=ma(s.data,{filters:l,searchTerm:r,searchFields:["nomeEquipamento","fabricante","numeroCA","categoria"],sortField:"nomeEquipamento",sortDirection:"asc",currentPage:a,itemsPerPage:10}))},[r,l,s,p,E,w,D,h,F,k,o,i,u,c,$,C,d,f,_,G,Q,X,J,j,K,a,te,x,Y,re,fe,oe,le,ke]}class Mn extends ze{constructor(e){super(),je(this,e,En,kn,Ue,{},null,[-1,-1])}}export{Mn as component};
